{"TopicId":45362,"ForumId":29,"TopicTitle":"partmodule and mono problems.","CreatedByName":"malkuth","CreatedById":57414,"CreatedDateTime":"2013-09-08T22:50:57Z","PageNum":1,"Articles":[{"CreatedByName":"malkuth","CreatedById":57414,"CreatedDateTime":"2013-09-08T22:50:57Z","Content":"\n\u003Cp\u003EDecided to add a part to the plugin I been working on. The problem seems to be that for some reason the new partmodule part of the code is not communicating with the old code that never had a part.\u003C/p\u003E\u003Cp\u003EThis is how it should work...\u003C/p\u003E\u003Cp\u003E1. New PartMudule part of code with context menu.. Player selects and the mission goal is complete (The Actual Mission Goal Is To EVA and Click Part to Repair it)\u003C/p\u003E\u003Cp\u003E a. This part works.. The context menu works in game and the code is executed.\u003C/p\u003E\u003Cp\u003E2. What its actaully doing. The context menu is pressed.. It executes the code.. The code seems to go to the next part but it stops?\u003C/p\u003E\u003Cp\u003E3. I set up a button in the Original part of the code that basically does what I want the context menu to do.. When I push this button in game it works.. And mission Goal Is complete!!\u003C/p\u003E\u003Cp\u003E4. The original Code is setup without a part and most of the parts of the .class files im editing are partials of MissionController.. So they all work together without any initializations. Mission Controller is the MainSpace Of plugin. and is \u003C/p\u003E\u003Cp\u003E\u0022public partial class MissionController : MonoBehaviour\u0022\u003C/p\u003E\u003Cp\u003E5. The new part of the code.. that is another seperate .class file is \u003C/p\u003E\u003Cp\u003E\u0022public class repairStation : PartModule\u0022 \u003C/p\u003E\u003Cp\u003Eis there some sort of permissions im missing or not understanding? If I have a bool set up in the Partmodule.. If I set up an IF statment in MissionController it does not seem to be able to read the new value in Partmodule. In fact it seems that anyting excuted within PartModule can only be read inside partmodule. It aslo seems that anything that is done inside the original MissionController Code can\u0027t be read by Partmodule. This is confusing me to no end. Any idea on how to get this to work?\u003C/p\u003E\u003Cp\u003EThis is the Github of the project.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/malkuth1974/KSPMissionController\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/malkuth1974/KSPMissionController\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EPS did they change the forums? LOL.. Sucks to write anything without the advanced options.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-08T23:11:26Z\u0022 title=\u002209/08/2013 11:11  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 8, 2013\u003C/time\u003E by malkuth\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-09-09T04:39:55Z","Content":"\n\u003Cp\u003EPlease think about what exactly your code is doing. For example in repairStation.OnUpdate(), that are pretty much your instructions:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EEnable or disable some event\u003Cbr\u003EEnable or disable another event\u003Cbr\u003Eif( whatever ){\u003Cbr\u003E    Create a new MissionController and save it in a local variable\u003Cbr\u003E    Call some func on the newly created object\u003Cbr\u003E    // You don\u0027t explicitly do sth, but in fact drop the last reference to the newly created object so it isn\u0027t used anymore and can be destroyed internally\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESame in MissionController.drawMainWindow(). You create a new object of type repairStation. Of it will always be in the same state of an newly initiated repairStation, so an \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif( repStation.repair )\u003C/pre\u003E\u003Cp\u003E just below does not make any sense at all. Anyway, lets make it short. You need a reference to the actual object your want to interact with. Creating a new object is almost never a solution for \u0022i don\u0027t have a reference\u0022... just like repairing you own chair is not the same as repairing any just newly created chair. I could give you the exact lines you need, but a little bit of research will help you to understand how you can adds behaviors (PartModules are nothing else) to an unity game objects \u0026amp; how they handle it internally. Once you know how you, you will no doubt be able to fix your issue. All necessary info should either be here on the KSP forum \u0026amp; mod source codes or directly in unitys ScriptReference docs / via Google... if you need any, at all. Hope that helps you to get on the right track.\u003C/p\u003E\n"},{"CreatedByName":"malkuth","CreatedById":57414,"CreatedDateTime":"2013-09-09T04:55:21Z","Content":"\n\u003Cp\u003Ethanks for the info. I knew the if statment wasn\u0027t working.. But I have been trying to figure this out for 2 days. LOL. Still totally new to C# so its been a long learning curve. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I will figure it out. So I take it your saying that creating a new instance of something is not the answer?\u003C/p\u003E\u003Cp\u003ESeems to me that if you have a simple bool.. false. And you use the Part context to change it to true..\u003C/p\u003E\u003Cp\u003EIf from another class if you initiate that bool to be read by the other class it should work.. But it does not. I guess I will have to keep researching.\u003C/p\u003E\u003Cp\u003EIf I should start using Ref to keep the original bool and be able to change it.. Then since the objects I need to edit are in different classes.. I would still have to create a new in at least one of them correct? Since having a ref in one class is fine.. But in another class I will still have to initiate the ref to call it..\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-09T05:26:06Z\u0022 title=\u002209/09/2013 05:26  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 9, 2013\u003C/time\u003E by malkuth\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-09-09T14:08:43Z","Content":"\n\u003Cp\u003EYou only have/should create a new one if there isn\u0027t one already. Didn\u0027t you mention that both modules work fine on their own? They could not, if they wouldn\u0027t already exist... so they most likely were already created from other parts of the game/mod, e.G. by loading the part \u0026amp; part module or however MissionController does it. If they exist, you have to get a ref without creating another copy. And we are back on how to do this / how unity manages its MonoBehaviors... *referring to their docs \u0026amp; google*\u003C/p\u003E\n"},{"CreatedByName":"malkuth","CreatedById":57414,"CreatedDateTime":"2013-09-09T15:50:37Z","Content":"\n\u003Cp\u003Ehmmm maybe im not being clear.. As I\u0027m new to C# and still learning as I go, what Im trying to say so I might not have all the correct terms down.\u003C/p\u003E\u003Cp\u003EBut the original MissionController never had a part. And it used this bit of code to simulate the adding a part. (for windows and stuff could show up without adding a part)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E public class MissionControllerTest : KSP.Testing.UnitTest\u003Cbr\u003E    {\u003Cbr\u003E        public MissionControllerTest () : base()\u003Cbr\u003E        {\u003Cbr\u003E            I.AddI\u0026lt;MissionController\u0026gt; (\u0022MISSION_CONTROLLER\u0022);\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    static class I\u003Cbr\u003E    {\u003Cbr\u003E        private static GameObject _gameObject;\u003Cbr\u003E\u003Cbr\u003E        public static T AddI\u0026lt;T\u0026gt; (string name) where T : Component\u003Cbr\u003E        {\u003Cbr\u003E            if (_gameObject == null) {\u003Cbr\u003E                _gameObject = new GameObject (name, typeof(T));\u003Cbr\u003E                GameObject.DontDestroyOnLoad (_gameObject);\u003Cbr\u003E\u003Cbr\u003E                return _gameObject.GetComponent\u0026lt;T\u0026gt; ();\u003Cbr\u003E            } else {\u003Cbr\u003E                if (_gameObject.GetComponent\u0026lt;T\u0026gt; () != null)\u003Cbr\u003E                    return _gameObject.GetComponent\u0026lt;T\u0026gt; ();\u003Cbr\u003E                else\u003Cbr\u003E                    return _gameObject.AddComponent\u0026lt;T\u0026gt; ();\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo it never used the PartModule Inheritance.. \u003C/p\u003E\u003Cp\u003EWhen I added a part to Mission Controller I used the PartModule Inheritance for the first time in its own Class file. So \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic class repairStation : PartModule\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow MissionController is set like this\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic partial class MissionController : MonoBehaviour\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eall the classes that Have all The MissionGoals Info in them are seperate classes too and also are set as\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E public partial class MissionController\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow I know I had confusing things set in the code.. But it was 2 days of trying so many different ideas that I didn\u0027t clean it all up. I have since combined repairStation Class into RepairGoal to make it easier to code. But they are still seperate classes. Just in same file.\u003C/p\u003E\u003Cp\u003ESo now that Seems clear enough.\u003C/p\u003E\u003Cp\u003EEvery Thing in the code works.... But what I want to do is in repairStation class I originally had it set up for when you right click on the part a context menu appears.. You select it and it changes a BoolValue to True... \u003C/p\u003E\u003Cp\u003ENow In the code for RepairGoal there is a check to see when The Bool from repairStation is set to True.. When that happens the MissionGoal Is complete. The problem has been all this time that nothing outside of repairStation seems to be seeing the bool being changed to True.. So its not working.\u003C/p\u003E\u003Cp\u003EAlso To check to see if how I wrote RepairGoal correct and it Actually works, I set up a Button Inside of MissionController : MonoBehavior to simulate the same thing that repairStation code is suppose to do.. That actually works.. And if you push that ingame the mission will be complete. This part of the code is not going to stay.. I want this to work from repairStation instead. But I used it to just check if MissionGoal Actually works. And it does.\u003C/p\u003E\u003Cp\u003ENow I understand what your saying about Referencing somewhat. Since repairStation is a seperate class from Missioncontroller: MonoBehavior and all the other Classes Im working with are Basically inheriting MissionController : MonoBehavior Code.. That is why the Button I made works correct. \u003C/p\u003E\u003Cp\u003EBut since repairStation only inherits from PartModule and Not MissionController I have to use the New command to initiated stuff.. But now I understand that makes a copy of whatever it is Im calling and doesn\u0027t actually change the Reference.. So this is why the code I execute inside of repairStation can\u0027t be read by MissionController.\u003C/p\u003E\u003Cp\u003EWhat you see in the code now is what I tried to do to replace the Bool and use a Method Instead like the other MissionGoals Used.. (I copied DockingGoal and CrashGoal) All these Use Flag System.\u003C/p\u003E\u003Cp\u003ESo what I did was this. Set up some methods instead (that was the part where I made things harder then they needed)\u003C/p\u003E\u003Cp\u003EIn missioncontroller I copied the DockingGoal to be almost the same as RepairGoal.. It uses a flag system and when the flag is set to REPAIR it will set a bool that is located inside GameEvents to true in this case (isrepaired). Then I set up this little method inside MissionCotrollerEvents (still a partial of MissionController) To set the whole thing in motion.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E        public void shipRepaired()\u003Cbr\u003E        {                       \u003Cbr\u003E          eventFlags = eventFlags.Add(EventFlags.REPAIR);\u003Cbr\u003E          print(\u0022Event Flag Has Been Set To: \u0022 \u002B eventFlags);          \u003Cbr\u003E        }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo far so good.. This method is also what I use in the Button I set Up To TEST If RepairGoal actually works.\u003C/p\u003E\u003Cp\u003ENow in repairstation this bit of code is located like this.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[KSPEvent(guiActive = true, guiName = \u0022Start Repair\u0022, active = true)] \u003Cbr\u003E        public void EnableRepair()\u003Cbr\u003E        {\u003Cbr\u003E            repair = true;\u003Cbr\u003E            MissionController mc = new MissionController();\u003Cbr\u003E            mc.shipRepaired();\u003Cbr\u003E            print(\u0022repair is = \u0022 \u002B repair);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow in game the context menu works.. You can right click and select Start Repair.. And it even activates the code.. But for some reason it stop at shipRepaired() inside MissionController : Behavior.\u003C/p\u003E\u003Cp\u003EI have a print() set up inside the code.. In game it actually gets to the print and prints it out from shipRepaired() Event Flag Has Been Set To: \u0022 \u002B eventFlags and even says ingame that eventflags set to REPAIR.. But stops there.. And the other part of code is never executed which sets the bool to true.. That code is like this.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif (eventFlags.Has(EventFlags.REPAIR))\u003Cbr\u003E                {\u003Cbr\u003E                    print(\u0022Event Flag Set: \u0022 \u002B eventFlags \u002B \u0022 and about to be Removed.\u0022);                   \u003Cbr\u003E                    eventFlags = eventFlags.Remove(EventFlags.REPAIR);\u003Cbr\u003E                    s.events.isrepaired = true;\u003Cbr\u003E                    print(\u0022isrepaire is = \u0022 \u002B s.events.isrepaired \u002B \u0022 current flag is: \u0022 \u002B eventFlags);\u003Cbr\u003E                }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo I take it that Im doing this.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMissionController mc = new MissionController();\u003Cbr\u003E            mc.shipRepaired();\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m still only making a copy of the Refrence? But I thought the whole point of a Method was that it can be called from anywhere in the code. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-09T16:00:26Z\u0022 title=\u002209/09/2013 04:00  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 9, 2013\u003C/time\u003E by malkuth\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"malkuth","CreatedById":57414,"CreatedDateTime":"2013-09-09T16:43:48Z","Content":"\n\u003Cp\u003EAnyway I think I get it now.. And will try my fixes using a ref. I will report if it works.. Totally forgot that even a method will create 2 copies.. Be back in a little bit.l\u003C/p\u003E\u003Cp\u003EEDIT ADDED NEW UPDATE\u003C/p\u003E\u003Cp\u003EI feel like such a godarn idiot.. Really using static changes everything.. HOLY FREAKING CRAP... 3 days and all the trouble I was missing one little word in the code.. \u003C/p\u003E\u003Cp\u003EIT WORKS!!!\u003C/p\u003E\u003Cp\u003EThanks so much Faark for the nudge in the right direction.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-09T17:53:23Z\u0022 title=\u002209/09/2013 05:53  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 9, 2013\u003C/time\u003E by malkuth\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-09-09T20:22:16Z","Content":"\n\u003Cp\u003ENo... thats not really the solution i wanted you to find.^^ Static means that there will alway only be a single \u0022repair\u0022 bool slot at all per application. What if someone starts the mission again or loads a save? Sure, you could add a lot of code to handle all those cases and reset your bool. But there really is no reason to make it static. You have a repair you ship goal. Maybe you want to repair 2 different parts, so you create a goal for each of those parts. Anyway, what you should try to do is find the reference to your repairStation PartModule. Its a part module, so its associated with a part... so a way to do it is to loop though all parts of your vessel and check if it has a repairStation, and whether its repair flag is set. You will used \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/GameObject.GetComponent.html\u0022 rel=\u0022external nofollow\u0022\u003EGetComponent\u003C/a\u003E to do so, btw.\u003C/p\u003E\u003Cp\u003EBtw, you shouldn\u0027t use KSP.Testing.UnitTest anymore. Afaik its an old way that \u0022abuses\u0022 stuff within KSP to load stuff instantly. KSPAddon is the way to go... that way you can even make sure your Addon is loaded only in flight \u0026amp; reloaded when screens changes. Something like that might by nice for you:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    [KSPAddon(KSPAddon.Startup.Flight, false)]\u003Cbr\u003E    public class YourController: MonoBehaviour{\u003Cbr\u003E      public static YourController CurrentControllerInstance;\u003Cbr\u003E      public void Start(){\u003Cbr\u003E        CurrentControllerInstance= this;\u003Cbr\u003E      }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat lets KSP take care of loading your MonoBehavior while you still can access the last created one from anywhere via a static var. Technically you do not need the static var. You could also find the current instance via Unity\u0027s API. But in this case the simple version should be enough. Though your mission controller might not like being reload every screen, especially since it look like it would reload lots of resources... so you might just want to skip that for now^^\u003C/p\u003E\u003Cp\u003EBtw2: Who has written KSPMissionController.activeVessel? There should not be a try catch, but they should either check FlightGlobals.ready or FlightGlobals.fetch instead.\u003C/p\u003E\n"},{"CreatedByName":"malkuth","CreatedById":57414,"CreatedDateTime":"2013-09-09T22:46:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003ENo... thats not really the solution i wanted you to find.^^ Static means that there will alway only be a single \u0022repair\u0022 bool slot at all per application. What if someone starts the mission again or loads a save? Sure, you could add a lot of code to handle all those cases and reset your bool. But there really is no reason to make it static. You have a repair you ship goal. Maybe you want to repair 2 different parts, so you create a goal for each of those parts. Anyway, what you should try to do is find the reference to your repairStation PartModule. Its a part module, so its associated with a part... so a way to do it is to loop though all parts of your vessel and check if it has a repairStation, and whether its repair flag is set. You will used \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/GameObject.GetComponent.html\u0022 rel=\u0022external nofollow\u0022\u003EGetComponent\u003C/a\u003E to do so, btw.\u003Cp\u003EBtw, you shouldn\u0027t use KSP.Testing.UnitTest anymore. Afaik its an old way that \u0022abuses\u0022 stuff within KSP to load stuff instantly. KSPAddon is the way to go... that way you can even make sure your Addon is loaded only in flight \u0026amp; reloaded when screens changes. Something like that might by nice for you:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    [KSPAddon(KSPAddon.Startup.Flight, false)]\u003Cbr\u003E    public class YourController: MonoBehaviour{\u003Cbr\u003E      public static YourController CurrentControllerInstance;\u003Cbr\u003E      public void Start(){\u003Cbr\u003E        CurrentControllerInstance= this;\u003Cbr\u003E      }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat lets KSP take care of loading your MonoBehavior while you still can access the last created one from anywhere via a static var. Technically you do not need the static var. You could also find the current instance via Unity\u0027s API. But in this case the simple version should be enough. Though your mission controller might not like being reload every screen, especially since it look like it would reload lots of resources... so you might just want to skip that for now^^\u003C/p\u003E\u003Cp\u003EBtw2: Who has written KSPMissionController.activeVessel? There should not be a try catch, but they should either check FlightGlobals.ready or FlightGlobals.fetch instead.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMission controller was originally written by nobody. i took over the project when .21 came out. Most of the code was not even written by me or the other person working on it Nathan. We just added new things to it. Knew about the new way to add to make KSP plugins run without that old code bit.. But I was a little nervous.. Didn\u0027t know what it would break.\u003C/p\u003E\u003Cp\u003EI will try the new method way of starting it up and comment out that old way.. \u003C/p\u003E\u003Cp\u003Eseems to work.\u003C/p\u003E\u003Cp\u003EWe took over MC in an alpha state... And its still an alpha so don\u0027t be too hard on it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Code cleanup is coming after I have a few more C# classes under my belt.\u003C/p\u003E\u003Cp\u003EThe repairGoal wasn\u0027t meant to be part of the active vessel.. The plan I have when this is finished is to be able to check (have not figured out how to do this yet) the active vessels in the universe (IE the vessels located in persistent file) and check to see if it has the part I added. If it does the player can select a random mission that will select the Vessel with the part and make it the missionGoal. If there are say 7 satellites that have the part on it.. Then missionController Random Mission will select 1 of the 7 vessels for the MissionGoal. So not only will eventually the MissionGoal of getting out of vessel and right clicking on part have to be met.. But if I can figure it out.. The vessel ID will have to match too.\u003C/p\u003E\u003Cp\u003EThis part of the code I knew would be the HARD part.. didn\u0027t think I would get stuck on the simple part.. Like I did.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-10T02:07:10Z\u0022 title=\u002209/10/2013 02:07  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 10, 2013\u003C/time\u003E by malkuth\u003C/strong\u003E\n\u003C/span\u003E\n"}]}