{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":103,"Articles":[{"CreatedByName":"rowns","CreatedById":66524,"CreatedDateTime":"2014-11-10T19:30:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EBetter yet, convert to DDS and use DDSLoader! No memory leaks, and \u003Cem\u003Emuch\u003C/em\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u00B9 faster load times...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBut not all mods are supported right?\u003C/p\u003E\n"},{"CreatedByName":"TheGripenSaidWhat?","CreatedById":23890,"CreatedDateTime":"2014-11-11T00:33:07Z","Content":"\n\u003Cp\u003EIs there a list of known bugs with ATM? I am having an issue where in the Space Center view the only building that\u0027s clickable is the Astronaut Complex, and once you get out of that KSP no longer responds to button inputs or mouse clicks with the exception of anything on Blizzy\u0027s toolbar.\u003C/p\u003E\n"},{"CreatedByName":"ctbram","CreatedById":99635,"CreatedDateTime":"2014-11-11T18:21:55Z","Content":"\n\u003Cp\u003EI am running x86 aggressive and I still have to run with my stock graphics textures at one-quarter res. I am still hitting nearly 3GB at game start and my toolbar icons are totally hosed! Is there a way to fix the toolbar icons? They cannot possibly be taking enough memory to warrant making them illegible.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/IcnmtpZ.png\u0022 alt=\u0022IcnmtpZ.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso is there a way to force it to re compress everything? I was going to delete the texture cache but wanted to confirm this was okay first.\u003C/p\u003E\n"},{"CreatedByName":"ctbram","CreatedById":99635,"CreatedDateTime":"2014-11-12T00:02:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CommanderJohnKoenig\u0022 data-cite=\u0022CommanderJohnKoenig\u0022\u003E\u003Cdiv\u003Ectbram,\u003Cp\u003E Your problem can be solved by going to the settings screen from the KSP main menu. Go to the video tab and increase your graphics setting. That should clear up the white box problem with the tool bar. If your comp can\u0027t handle it or you have too much of a slow down. You\u0027ll have to change it back.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0022 increase your graphics setting...\u0022 What does that mean? Do you mean increase my texture setting? If so then I CANNOT do it. Even with Aggressive ATM and the stock game texture setting at 1/4 my game starts at 3.1GB!!!!!\u003C/p\u003E\u003Cp\u003EThere is just no way I can increase that setting. If I go to 1/2 I get about 15 minutes of game time or maybe two trips to the VAB before my game crashes because of the damn memory limit!!!\u003C/p\u003E\u003Cp\u003EIt\u0027s just maddening because I am right at the damn cap. With one stinking more GIG I\u0027d be able to run everything I\u0027d like with no compression at all. 64-bit is totally broken as I will not play the game without proc fairings and realchute and 64-bit does not support them as well as having all sorts of other issues with artifacts and what not.\u003C/p\u003E\u003Cp\u003EI am at the point now where I am thinking of going through all the part mods and cutting out the bits I don\u0027t use. But that turns into a never ending task where I am not playing anymore! I am just fighting to cram 10 pounds of crap into a 1 pound bag. It\u0027s sucking all the fun out of the game.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-11-12T00:12:25Z","Content":"\n\u003Cp\u003ETried OpenGL? Did wonders for me. Running B9, KWR, a few KerbinSide assets, KSC\u002B\u002B, EVE and a fair few other mods and even without ATM actually doing any compressing and graphics on normal, I rarely hit even 3Gb.\u003C/p\u003E\n"},{"CreatedByName":"Master Tao","CreatedById":110410,"CreatedDateTime":"2014-11-12T00:14:07Z","Content":"\n\u003Cp\u003EIn addition to the \u003Cspan style=\u0022font-family:\u0027courier new\u0027;\u0022\u003E-force-opengl\u003C/span\u003E option, try editing the \u003Cspan style=\u0022font-family:\u0027courier new\u0027;\u0022\u003Escale\u003C/span\u003E setting in \u003Cspan style=\u0022font-family:\u0027courier new\u0027;\u0022\u003EKSP/GameData/Active Texture Management/settings.cfg\u003C/span\u003E. Based on how you have your Texture Quality setting right now, you\u0027ll probably need \u003Cspan style=\u0022font-family:\u0027courier new\u0027;\u0022\u003Escale = 8\u003C/span\u003E. Then you can return your Texture Quality setting to full.\u003C/p\u003E\n"},{"CreatedByName":"ebigunso","CreatedById":113229,"CreatedDateTime":"2014-11-12T01:34:39Z","Content":"\n\u003Cp\u003EI have a HUGE lot of mods on KSP, I can load the game fine but while playing, at vehicle loading the game seems to run out of memory even with ATM. What now? is my only hope left with 64bit KSP?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-12T02:04:37Z\u0022 title=\u002211/12/2014 02:04  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 12, 2014\u003C/time\u003E by ebigunso\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"somnambulist","CreatedById":62108,"CreatedDateTime":"2014-11-12T02:49:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ebigunso\u0022 data-cite=\u0022ebigunso\u0022\u003E\u003Cdiv\u003EI have a HUGE lot of mods on KSP, I can load the game fine but while playing, at vehicle loading the game seems to run out of memory even with ATM. What now? is my only hope left with 64bit KSP?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETry OpenGL mode. See the post immediately above yours.\u003C/p\u003E\n"},{"CreatedByName":"ctbram","CreatedById":99635,"CreatedDateTime":"2014-11-12T04:34:34Z","Content":"\n\u003Cp\u003EO M G!!! -force-opengl where have you been all my life!!!! What a difference! I set scale in the ATM .cfg to 8. Set texture scale in the stock graphic settings to \u0022full\u0022. launched with -force-opengl and my game now starts at 2,343,588 mem. \u003C/p\u003E\u003Cp\u003EBefore these changes I was running with atm scale 4. Stock graphics ts at quarter and my game was starting at 3,188,527 bytes and my textures looked like absolute crap. The addon icons where just blank black boxes in fact. I\u0027d have to hover over them to read the popup text to see what they did!\u003C/p\u003E\u003Cp\u003ETY for the tip you may have just let me get back to playing instead of cursing at it as I have been for the last few weeks.\u003C/p\u003E\u003Cp\u003EUPDATE: my settings now are stock graphics texture scale full, ATM scale 4, and I am starting well below 2,600,000 mem and can play for hours without any memory issues. The force-opengl launch flag is a life savor for me. I have a gtx-780 and also was able to crank up a lot of the stock graphics features like ground scatter and per pixel shaders and anti-aliasing up as well.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-13T10:49:26Z\u0022 title=\u002211/13/2014 10:49  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 13, 2014\u003C/time\u003E by ctbram\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TheGripenSaidWhat?","CreatedById":23890,"CreatedDateTime":"2014-11-13T00:26:16Z","Content":"\n\u003Cp\u003Esadly, \u0022-force-opengl\u0022 simply causes KSP to flash black and transparent. Oh well. If anyone has word on what\u0027s causing ATM to render the Space center menu unclickable I\u0027d love to know!\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2014-11-13T00:44:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheGripenSaidWhat?\u0022 data-cite=\u0022TheGripenSaidWhat?\u0022\u003E\u003Cdiv\u003Esadly, \u0022-force-opengl\u0022 simply causes KSP to flash black and transparent.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s unfortunate. What GPU do you have? I have an NVidia 760M (or thereabouts) in my laptop and -force-opengl runs just as well and saves me nearly a GB of RAM compared to Direct3D.\u003C/p\u003E\n"},{"CreatedByName":"TheGripenSaidWhat?","CreatedById":23890,"CreatedDateTime":"2014-11-13T01:41:24Z","Content":"\n\u003Cp\u003EI have a Mobility Radeon 5870 as part of the Asus G73jh Laptop Series. I made sure all my drivers are updated but nothing changed. And it doesn\u0027t outright crash either so no error reports. For now I\u0027ve just taken to playing for ~15 minutes at a time prior to crashing.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-11-13T04:27:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheGripenSaidWhat?\u0022 data-cite=\u0022TheGripenSaidWhat?\u0022\u003E\u003Cdiv\u003EI have a Mobility Radeon 5870 as part of the Asus G73jh Laptop Series. I made sure all my drivers are updated but nothing changed. \u003Cstrong\u003EAnd it doesn\u0027t outright crash either so no error reports\u003C/strong\u003E. For now I\u0027ve just taken to playing for ~15 minutes at a time prior to crashing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot so. Unless you disabled logging then you always have logs, and those logs contain errors and all manner of logged events regardless of whether your crash resulted in an error being displayed to you. \u003C/p\u003E\u003Cp\u003EVisit this link: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92229-How-To-Get-Support-%28READ-FIRST%29\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/92229-How-To-Get-Support-%28READ-FIRST%29\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt contains information about finding your logs. Create a thread in that forum and post your logs there.\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-11-14T23:10:02Z","Content":"\n\u003Cp\u003EIs there a way you could set it up so that 2-channel normal maps are stored in either RG-16 format or color-swiveled LA-16 format? This would cut the memory footprint of normal maps in half, and the later option, would allow for the use of DXT-5 texture compression without significant distortion. (Although a color space conversion shader may be necessary for compression/decompression and hence reading and writing. Either all three color parts can be mirrored from the \u0022L\u0022 channel or the G and the B can be zero-filled it doesn\u0027t matter. It might actually be faster to simply use a greyscale to color conversion, hence mirroring out the \u0022L\u0022 channel into RGB, because there is a driver routine to do that, and there is no zero-fill routine, so you\u0027ll need a custom shader for that, or use the more advanced color-space conversion routine.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-14T23:18:38Z\u0022 title=\u002211/14/2014 11:18  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 14, 2014\u003C/time\u003E by Ruedii\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-11-14T23:15:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ruedii\u0022 data-cite=\u0022Ruedii\u0022\u003E\u003Cdiv\u003EIs there a way you could set it up so that 2-channel normal maps are stored in either RG-16 format or color-swiveled LA-16 format? This would cut the memory footprint of normal maps in half, and the later option, would allow for the use of DXT-5 texture compression without significant distortion. (Although a color space conversion shader may be necessary for blending. Either all three color parts can be mirrored from the \u0022L\u0022 channel or the G and the B can be zero-filled it doesn\u0027t matter. If you are using a shader to do the color conversion on read, it shouldn\u0027t take any additional time.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnity shaders already expect GA format for normal maps. You can set compression enabled (via ATM config) for normal maps, but I am not about to be the judge for weather the RGBA or DXT-5 normal maps are better.\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-11-14T23:20:31Z","Content":"\n\u003Cp\u003EYes, they expect GA, but they don\u0027t expect LA16, which is packed LA:LA:LA:LA instead of XGXA:XGXA:XGXA:XGXA (In other words, LA16 is fully packed, while RGBA32 has fill bytes.)\u003C/p\u003E\u003Cp\u003EWithout the fill bytes, LA16 has half the required memory space.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-14T23:21:56Z\u0022 title=\u002211/14/2014 11:21  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 14, 2014\u003C/time\u003E by Ruedii\u003C/strong\u003E\n\u003Cbr\u003Emore detail\n\u003C/span\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-11-14T23:23:50Z","Content":"\n\u003Cp\u003EBTW LA16 is also called LA-8:8, RA-8:8 or GA-8:8 and uses 16bpp/8bpc As opposed to the default of XGXA-8:8:8:8 which uses 32bpp/8bpc\u003C/p\u003E\u003Cp\u003EI\u0027m basically saying you should pixel pack into a 2-channel 16bpp texture, instead of leaving filler in the ignored channels. The graphics card can be set up to automatically convert it by simply saying the L channel is monochrome and the A channel is alpha. The fill channels don\u0027t matter, so it doesn\u0027t matter that it will mirror into it. (Saves the other option which is to say it\u0027s palleted and use a lookup table.)\u003C/p\u003E\u003Cp\u003ELikewise you can also take the compressed and put it in a 2 channel 8bpp/4bpc texture by doing the same swiveling technique.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-14T23:27:59Z\u0022 title=\u002211/14/2014 11:27  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 14, 2014\u003C/time\u003E by Ruedii\u003C/strong\u003E\n\u003Cbr\u003Emoar info\n\u003C/span\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-11-14T23:39:50Z","Content":"\n\u003Cp\u003EFrom what I can tell, Unity3D doesn\u0027t seem to expose that part of the function, so you\u0027d have to bypass some of Unity\u0027s texture loading mechanisms, and that is never easy. (It\u0027s possible, but not easy.)\u003C/p\u003E\u003Cp\u003EThat might be an issue. It\u0027s a real shame too. \u003C/p\u003E\u003Cp\u003EI also noticed that they no longer mark ATITC as mobile only. Could you create an experimental version that will check for that capability and use it if it\u0027s available? \u003C/p\u003E\u003Cp\u003EAccording to my research, ATITC is optional in Direct3D 9 and required in Direct3D 10. It\u0027s also handled differently in the two versions. Likewise it\u0027s optional in OpenGL 3.x and required in OpenGL 4.x. (Believe it or not it was nVidia who pushed to get it in OpenGL 4.x, which is why the nVidia variant with 4 different mappings is used, instead of the ATI version with only 2 mappings.)\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-11-14T23:43:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ruedii\u0022 data-cite=\u0022Ruedii\u0022\u003E\u003Cdiv\u003EYes, they expect GA, but they don\u0027t expect LA16, which is packed LA:LA:LA:LA instead of XGXA:XGXA:XGXA:XGXA (In other words, LA16 is fully packed, while RGBA32 has fill bytes.)\u003Cp\u003EWithout the fill bytes, LA16 has half the required memory space.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/TextureFormat.html\u0022 rel=\u0022external nofollow\u0022\u003EThese\u003C/a\u003E are the texture format types available for use. Given that I can\u0027t find ANY documentation on the use of EAC_RG (1-byte encoded), I\u0027m not particularily inclined to use it. \u003C/p\u003E\u003Cp\u003ENote that while DXT5 can\u0027t fully utilize the bytes it has per pixel for the AG component, under the right conditions it comes pretty close (either zeroing or duplicating the values... can\u0027t remember which)\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-11-15T00:18:07Z","Content":"\n\u003Cp\u003EWell, I did more research, the only way around Unity\u0027s default texture formats is to write your own texture handling shaders to real-time convert the shader to and from the desired format (i.e. convert from LA88 to RGBA888), in other words, Unity3D made life a POTA again for us because they can\u0027t keep up with the times and expose all the graphics capabilities of modern hardware!\u003C/p\u003E\u003Cp\u003EIt probably isn\u0027t worth this hassle.\u003C/p\u003E\u003Cp\u003EAlso, you don\u0027t want to be using ECRG format, because EC compression sucks.\u003C/p\u003E\u003Cp\u003EFortunately, from what I can tell they might just be exposing ATITC capability on PC hardware. It\u0027s worth an attempt, as it would create a night and day difference in both rendering speed and quality.\u003C/p\u003E\u003Cp\u003EHowever, they have yet to expose the PC hardware capability of ASTC, which is an even better algorithm (i.e. it is currently the best algorithm out there.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-15T00:20:45Z\u0022 title=\u002211/15/2014 12:20  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 15, 2014\u003C/time\u003E by Ruedii\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"l0rdakat31","CreatedById":127295,"CreatedDateTime":"2014-11-15T06:14:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bobhendly\u0022 data-cite=\u0022Bobhendly\u0022\u003E\u003Cdiv\u003EEdit: There we go.\u003Cp\u003EWill this break any mods of any kind? I may consider getting it.. Im starting to get RAM Crashes\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wanted to use the mod SciFi Shipyards and it wouldn\u0027t load, it would get stuck on a part of USS Voyager. When I install this mod, it does load but nothing has textures.\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"l0rdakat31","CreatedById":127295,"CreatedDateTime":"2014-11-15T06:50:59Z","Content":"\n\u003Cp\u003EAre there versions for 0.23?\u003C/p\u003E\n"},{"CreatedByName":"KoolBreeze420","CreatedById":103315,"CreatedDateTime":"2014-11-16T04:27:19Z","Content":"\n\u003Cp\u003EWhen I load the basic version it reduces the textures in the toolbar mod so badly I can\u0027t read them and it blacks some of them out completely making them unrecognizable so my question is How can I change the toolbar textures back and let the toolbar use it\u0027s normal textures yet reap the results of the other memory saving things this mod does?\u003C/p\u003E\n"},{"CreatedByName":"Kedwin Hubble","CreatedById":124939,"CreatedDateTime":"2014-11-17T18:11:55Z","Content":"\n\u003Cp\u003ENoob question:\u003C/p\u003E\u003Cp\u003EThe hardware bottleneck on my laptop is definitely its ....ty graphics card. Launches of even basic ships hit like 15 fps and even in orbit I have to rotate the camera away from the planet in order to not get lag. The game typically uses about 2.5-2.75 gigs of RAM when I play. Will this help the lag from my ....ty graphics card?\u003C/p\u003E\u003Cp\u003ETYIA\u003C/p\u003E\n"},{"CreatedByName":"Unknow0059","CreatedById":127534,"CreatedDateTime":"2014-11-18T06:37:38Z","Content":"\n\u003Cp\u003EAll my textures are blank.\u003C/p\u003E\n"}]}