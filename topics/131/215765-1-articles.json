{"TopicId":215765,"ForumId":131,"TopicTitle":"KSP2 Part Texturing - Discussion \u0026amp; Resources","CreatedByName":"benjee10","CreatedById":84110,"CreatedDateTime":"2023-03-23T01:24:24Z","PageNum":1,"Articles":[{"CreatedByName":"benjee10","CreatedById":84110,"CreatedDateTime":"2023-03-23T01:24:24Z","Content":"\n\u003Cp\u003E\nAlthough I\u0027m holding off on modding proper until we get some more official modding support, curiosity got the better of me and I have started poking at the game to figure out texturing \u0026amp; asset creation techniques for part modding in the future.\u00A0I thought it would be worth creating a thread for discussion \u0026amp; resources on this. Below are some of my findings, based on my own experience and the work of others who have been hard at work unpicking how the game works.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is by no means comprehensive \u0026amp; while I have some background in PBR texturing it has not been for Unity or real-time assets specifically, so please do correct any errors you see.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMost parts seem to be using a modified version of the Unity Standard shader called \u003Cstrong\u003EStandard (Damaged)\u003C/strong\u003E. As expected this is a PBR shader using the MetallicGloss workflow. It has been modified for the purposes of adding the paint feature.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cu\u003EThe Channels\u003C/u\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHere is a brief breakdown of the maps I\u0027ve experimented with so far. There are lots of things I haven\u0027t explored yet, and frankly have no idea what do. Would be great to get some insight from the devs on how this thing is intended to work. I am using the textures for a WIP T-38 part I am working to illustrate the different maps I\u0027ve tested.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EAlbedo Map,\u00A0\u003C/strong\u003Ealso called baseColour or Diffuse, possibly damageMap as well? Uses suffix _d. RGB map.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022T-38_v1_d.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022100.00\u0022 height=\u00221200\u0022 style=\u0022width:256px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1088269946456391810/T-38_v1_d.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMetallicGloss Map,\u00A0\u003C/strong\u003Euses suffix _m. This is an RGBA map:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cstrong\u003ERGB \u003C/strong\u003Econtrols the Metallicity value of the shader. This should be a b\u0026amp;w map with pure white wherever materials are metallic and pure black where they are non-metallic. There should be no intermediate values; surfaces are either metallic or not.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EA -\u00A0\u003C/strong\u003EGloss/Smoothness. This is effectively the shininess of the surface, where black is completely rough/dull and white is completely shiny. This the inverse of a Roughness map, which many other programs use. If you are using Substance Painter it will automatically convert your Roughness channel into a Gloss/Smoothness map (this confused me initially \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0)\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022T-38_v1_m.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022100.00\u0022 height=\u00221200\u0022 style=\u0022width:256px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1088269947102310562/T-38_v1_m.png\u0022\u003E\u00A0\u003Cbr\u003E\n\u003Cem\u003ENote the alpha channel - you may need to open the image in a new tab to see this\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cstrong\u003EAmbient Occlusion Map\u003C/strong\u003E, uses suffix _ao. Grayscale map.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022T-38_v1_ao.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022100.00\u0022 height=\u00221200\u0022 style=\u0022width:256px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1088269948108943450/T-38_v1_ao.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cstrong\u003EBumpMap/Normal Map,\u003C/strong\u003E\u00A0uses suffix _n. Seems to take openGL normal maps in either a regular blue format or a \u0027swizzled\u0027 AG \u0027red\u0027 format.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022T-38_v1_n.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022100.00\u0022 height=\u00221200\u0022 style=\u0022width:256px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1088269947421081630/T-38_v1_n.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cstrong\u003EEmissive Map,\u003C/strong\u003E\u00A0uses suffix _e. Fairly self explanatory, for window lights etc. RGB map.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022T-38_v1_e.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022100.00\u0022 height=\u00221200\u0022 style=\u0022width:256px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1088269946804523100/T-38_v1_e.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cstrong\u003EPaintMask Map\u003C/strong\u003E\u003Cstrong\u003E,\u003C/strong\u003E\u00A0uses suffix _pm. This is what the paint system draws on. It\u0027s a packed RGBA map and each channel does something different:\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cstrong\u003ER\u00A0\u003C/strong\u003Econtains the accent color mask. White is paint, black is unpainted. In principle it should be possible to have intermediate values (i.e. semi transparent areas of paint) in the mask but I\u0027m not sure why you would want that, maybe for some subtle wear here and there. The accent paint layer is always drawn on top the base paint mask.\u00A0\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EG\u00A0\u003C/strong\u003Eis the base colour mask. Works the same way as the accent colour mask but is drawn below.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EB\u00A0\u003C/strong\u003Eis a dirtMap for the paint. It gets multiplied over the colours the user chooses, so you can add wear/grime to this and it will darken the paint so it isn\u0027t all one perfect color.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EA\u00A0\u003C/strong\u003Eis a smoothnessMap for the paint. It seems like this can be toggled on/off in the shader settings and not all parts make use of it. I haven\u0027t experimented with this yet but am assuming it completely overrides the smoothness values of the paint layer. By default it uses the smoothness from the metallicGloss map.\u00A0\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022T-38_v1_pm.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022100.00\u0022 height=\u00221200\u0022 style=\u0022width:256px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1088269947739852931/T-38_v1_pm.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd this is how all these maps \u003Cem\u003Eshould\u003C/em\u003E come together:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Screen_Shot_2023-03-20_at_21.55.41.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002245.70\u0022 height=\u0022548\u0022 style=\u0022width:512px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1087494845934874644/Screen_Shot_2023-03-20_at_21.55.41.png\u0022\u003E\u00A0\u00A0\u003Cem\u003EPainted\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Screen_Shot_2023-03-20_at_21.55.55.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002244.73\u0022 height=\u0022536\u0022 style=\u0022width:512px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1087494846480130089/Screen_Shot_2023-03-20_at_21.55.55.png\u0022\u003E\u00A0 \u003Cem\u003EUnpainted\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003E\u003Cstrong\u003ECreating the maps\u003C/strong\u003E\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are familiar with a PBR workflow, creating most of the above should be fairly standard. You can take a peak at the values the stock parts use to match them. From what I\u0027ve seen, base albedo for metallic parts seems to be about 0.72, and smoothness about 0.8, but YMMV and things may change with development.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCreating the paintMask texture is a bit more challenging, since those are not standard PBR maps. In Substance Painter you can generate this map by making user of the user configurable channels. I have created a couple of \u003Cstrong\u003E\u003Ca href=\u0022https://drive.google.com/drive/folders/18TMk01A4sFqlE-shvJQsUrea1eKuznJr?usp=share_link\u0022 rel=\u0022external nofollow\u0022\u003ESubstance Painter presets\u003C/a\u003E\u003C/strong\u003E that you can make use of, a project setup preset and an export preset. They use user channels 0-3 as pm Accent, pm Base, pm Dirt and pm Smooth respectively, as shown here:\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Screen_Shot_2023-03-21_at_22.47.26.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022127.34\u0022 height=\u0022792\u0022 style=\u0022width:256px;height:auto;\u0022 width=\u0022621\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1087870309815828542/Screen_Shot_2023-03-21_at_22.47.26.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe export preset - \u003Cem\u003EKerbal Space Program 2 - Standard (Damaged) \u003C/em\u003E- will give you albedo (_d), metalGloss (_m), emissive (_e), normal (openGL format for now, _n) and paintMask (_pm).\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThese are both works in progress and I intend to keep updating them, but hopefully they will be some use to you.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cu\u003EPreviewing paintMask\u003C/u\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAs the paintMask does not use standard maps or a standard shader, it is not possible to preview it in Unity or in Substance Painter. The best thing to do when painting the maps I have found is to work on a separate layer using a mask, with the colour \u0026amp; metallic channel turned on, and then turn off the colour \u0026amp; metallic channels for that layer before export.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTo check your maps work correctly, you can use Blender. Here is a node setup for previewing the results of your export:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Screen_Shot_2023-03-21_at_23.17.55.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022166.67\u0022 height=\u0022643\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1087877919302488064/Screen_Shot_2023-03-21_at_23.17.55.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI will add a downloadable version of this to the drive link above once we\u0027ve figured out exactly what\u0027s going on with normal maps.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cu\u003ETest Results\u003C/u\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/149802-kemorno/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022149802\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/149802-kemorno/\u0022 rel=\u0022\u0022\u003E@Kemorno\u003C/a\u003E\u00A0was kind enough to help me validate these maps by getting one of my models in-game and providing some tools for manipulating shader values in flight. As mentionned, normal maps are not working correctly yet, so these are without them:\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022t38-1.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002268.63\u0022 height=\u0022823\u0022 style=\u0022width:800px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1088244213239533678/t38-1.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EWith default paint scheme\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022t38-2.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002257.63\u0022 height=\u0022691\u0022 style=\u0022width:800px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1088245800733249566/t38-2.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EPaint opacity set to zero\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cimg alt=\u0022t38-3.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.00\u0022 height=\u0022672\u0022 style=\u0022width:800px;height:auto;\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1075863787862757437/1088250766336204920/t38-3.png\u0022\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EZesty\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAs you can see the paint map is working as expected! There are some tweaks required to match the look of stock parts but these are purely artistic changes.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWould love to know what others have figured out and any resources you make use of. I\u0027ll try to keep the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003E\u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E\u003C/abbr\u003E updated with discoveries/useful recourses \u0026amp; let me know if I\u0027ve made any errors!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cu\u003EResource Links\u003C/u\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/215845-tux-texture-utilities-expanded-shader-editing-tool-for-artists/\u0022 rel=\u0022\u0022\u003ETexture Utilities eXpanded\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/drive/folders/18TMk01A4sFqlE-shvJQsUrea1eKuznJr?usp=share_link\u0022 rel=\u0022external nofollow\u0022\u003ESubstance Painter Presets\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://docs.unity3d.com/Manual/StandardShaderMaterialCharts.html\u0022 rel=\u0022external nofollow\u0022\u003EStandard Shader material charts\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-24T16:26:20Z\u0022 title=\u002203/24/2023 04:26  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 24, 2023\u003C/time\u003E by benjee10\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LuxStice","CreatedById":149802,"CreatedDateTime":"2023-03-23T02:30:10Z","Content":"\n\u003Cp\u003E\nStunning! I\u0027m excited to see what artists are able to do with this game!\u003Cbr\u003E\nBtw for anyone who wants to use TUX, its still WIP, progress can be found on the KSP Modding discord!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-23T02:35:38Z\u0022 title=\u002203/23/2023 02:35  AM\u0022 data-short=\u00221 yr\u0022\u003EMarch 23, 2023\u003C/time\u003E by Kemorno\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dorygon","CreatedById":227494,"CreatedDateTime":"2023-03-26T07:01:09Z","Content":"\n\u003Cp\u003E\nLooks like modding in KSP2 will be harder than in KSP1.\n\u003C/p\u003E\n"},{"CreatedByName":"Tundra","CreatedById":210926,"CreatedDateTime":"2023-05-08T23:53:45Z","Content":"\n\u003Cp\u003E\nWhen you eventually make a KSP2 mod, I am 100% sure it will be fantastic.\u00A0 \u00A0I can\u0027t wait (But no pressure).\n\u003C/p\u003E\n"},{"CreatedByName":"cvusmo","CreatedById":77262,"CreatedDateTime":"2023-06-28T22:06:54Z","Content":"\n\u003Cp\u003E\nLifesaver. Finally understand how this works. Thank you for the preset!\n\u003C/p\u003E\n"},{"CreatedByName":"cvusmo","CreatedById":77262,"CreatedDateTime":"2023-07-01T02:00:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224298199\u0022 data-ipsquote-contentid=\u0022215765\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221687990014\u0022 data-ipsquote-userid=\u002277262\u0022 data-ipsquote-username=\u0022cvusmo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/28/2023 at 5:06 PM, cvusmo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLifesaver. Finally understand how this works. Thank you for the preset!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not sure what\u0027s happened or why a model I\u0027ve made doesn\u0027t want to apply the paintmap properly.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[With _pm]\u003Cbr\u003E\n\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022166.67\u0022 height=\u0022837\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1112981422836301844/1124495498225664091/image.png\u0022\u003E\u003Cbr\u003E\n\u003Cbr\u003E\nWithout a _pm\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022166.67\u0022 height=\u0022885\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1112981422836301844/1124516960256925866/image.png\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022166.67\u0022 height=\u0022889\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1112981422836301844/1124516961037058138/image.png\u0022\u003E\u003Cimg alt=\u0022image.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022166.67\u0022 height=\u0022861\u0022 width=\u00221200\u0022 src=\u0022https://cdn.discordapp.com/attachments/1112981422836301844/1124516961649438820/image.png\u0022\u003E\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nI can\u0027t figure it out. Not sure what I\u0027ve done wrong or how I get the paintmap to function properly. It\u0027s like _d prevents it from being painted since it\u0027s #1 in the hierarchy in substance painter. I\u0027m extremely new to this. Curious if anyone has a fix?\n\u003C/p\u003E\n"}]}