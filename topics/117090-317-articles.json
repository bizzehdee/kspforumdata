{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":317,"Articles":[{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-12-21T22:21:48Z","Content":"Ahh, the fun of strong encapsulation....  This is (part of) the public interface of the (partially rewritten) \u0027ModelModule\u0027 -- the collection of code that handles the positioning and scaling of models, texture set and recoloring handling, and the in-editor model selection bits (model selection, texture selection, etc).\n\n![RwuFaHo.png](https://i.imgur.com/RwuFaHo.png)\n\nLots of generic boilerplate stuff.  Pretty boring.  Makes for code that is more pleasant to use (for the developer), faster to develop with, and if done properly leaves fewer possibilities for mistakes ( = fewer bugs, and easier to track down).\n\nBut then once in awhile, you get into the actual fun(ctional) bits of the code:  \n\n(nothing special, just one of the random model setup related methods... this method takes an input model from the GameDatabase, keeps any transforms specified in the model definition config, examines for and also keeps the parents of the desired transforms, and finally destroys any transforms that were not kept)\n\n![M2qs3fE.png](https://i.imgur.com/M2qs3fE.png)\n\nIf you ever wondered how much \u0027fun\u0027 programming is... ^^^ that is about it it.  Lots of writing, lots of structure, and lots of waiting on KSP to start up so you can test changes."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-12-22T00:13:12Z","Content":"I do programming of different sorts (motion control), but find it quite enjoyable actually. Especially since my code makes real world machinery do stuff ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Akira_R","CreatedById":117470,"CreatedDateTime":"2017-12-22T16:09:43Z","Content":"I find coding to be quite enjoyable as a hobby, I write some basic Python and MatLab, I learned C\u002B\u002B back in the stone age when I was in high school, but have pretty much forgotten everything syntax wise about it, the main thing I held onto is the thought/problem-solving process when writing/de-bugging, and general design theory. Have wanted to take the plunge into C# for a while now so that I could help contribute to mods but just haven\u0027t gotten around to it.\n\nI like it because it gives my ADD addled brain something to chew on, it thoroughly enjoys the problem solving process.\n\n**Edited \u003Ctime datetime=\u00222017-12-22T16:16:23Z\u0022 title=\u002212/22/2017 04:16  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 22, 2017\u003C/time\u003E by Akira\\_R**"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-12-22T17:45:03Z","Content":"You means lots of coffee and loads of swearing?\n\nSpoiler\n\n![chuck-norris-debugger-meme.jpg](http://www.neobytesolutions.com/wp-content/uploads/2013/07/chuck-norris-debugger-meme.jpg)  ![fadd8770c34d21909c55dba97c195fd9833a6bdf](http://s2.quickmeme.com/img/fa/fadd8770c34d21909c55dba97c195fd9833a6bdfc8b68bdbbb8a83c7956357ec.jpg)  ![web-designer-developer-jokes-humour-funn](https://digitalsynopsis.com/wp-content/uploads/2015/03/web-designer-developer-jokes-humour-funny-41.jpg)  ![073370content_1b2119b4-25aa-4ec6-9529-4d](https://pics.jilljuck.com/content/max/073370content_1b2119b4-25aa-4ec6-9529-4daad965538f.jpg)\n\n**Edited \u003Ctime datetime=\u00222017-12-22T17:55:26Z\u0022 title=\u002212/22/2017 05:55  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 22, 2017\u003C/time\u003E by Jimbodiah**"},{"CreatedByName":"RaiderMan","CreatedById":180001,"CreatedDateTime":"2017-12-22T18:37:28Z","Content":"sounds about the same for us model makers and fliers...I\u0027ve been fighting the tantares soyuz stack all morning. wondering if the sstu partset has an equivalent.."},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2017-12-22T20:00:52Z","Content":"[@RaiderMan](https://forum.kerbalspaceprogram.com/index.php?/profile/180001-raiderman/), yes to both Soyuz spacecraft and launcher, the Soyuz stuff is among my favorite parts of this mod.\n\nThe spacecraft bits are called SC-A.\n\nFor the launcher use MFT-A with Soyuz caps and MFT-D tanks for boosters. \n\nSSTU uses real names for engines, so a quick trip to Wikipedia can help you find those.\n\n**Edited \u003Ctime datetime=\u00222017-12-22T20:02:21Z\u0022 title=\u002212/22/2017 08:02  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 22, 2017\u003C/time\u003E by Nightside**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-12-22T20:47:44Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Akira\\_R said:\n\u003E \n\u003E \n\u003E the main thing I held onto is the thought/problem-solving process when writing/de-bugging,\n\u003E \n\nThose are the important bits, as they transfer well to nearly all other languages.  Flow control (if/for/while), and boolean operations (\u0026\u0026 / ||) are probably the most vital bits to understanding programming.  Past that it is mostly just language syntax and special features.\n\n\u003E \n\u003E \n\u003E 46 minutes ago, Nightside said:\n\u003E \n\u003E \n\u003E SSTU uses real names for engines, so a quick trip to Wikipedia can help you find those.\n\u003E \n\n[@RaiderMan](https://forum.kerbalspaceprogram.com/index.php?/profile/180001-raiderman/)\n\nUse an MFT-A for the central core, sized at 1.4375m diameter (set to 1.25m and then use the slider to adjust), and select the \u0027Soyuz\u0027 nose adapter (4 variants available if I remember correctly).  Engine is RD-108A for the central core (if the fuel tank is sized correctly, the mount should line up very precisely with the fuel tank diameter).\n\nThe radial boosters should use the MFT-D tank (has integrated decouplers for surface attached use), and the RD-107A engines.\n\n\u003E \n\u003E \n\u003E 3 hours ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E You means lots of coffee and loads of swearing?\n\u003E \n\nYep, sometimes more of one than the other.  The precise mixture varies from day to day.\n\n\u003E \n\u003E \n\u003E 20 hours ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E I do programming of different sorts (motion control), but find it quite enjoyable actually.\n\u003E \n\nNice; I\u0027ve had a little bit of experience at that -- programming servo controls for RC use (complex scratch-built RC aircraft).  I\u0027m guessing yours is probably more robotics or automation oriented though.\n\nSame stuff with KSP, only the results are less real-world physical.  Still very neat the first time you program something and see it actually work in-game.\n\nGeneral Development News:\n\nProgress is coming along nicely on work for the ModelDefinition / ModelModule systems rewrite.  Just got the code back to a state where there are no more compiler errors, so I might be able to start working on adapting configs and doing some actual testing -- making sure the existing part-module still function, and that all of their configs have been adapted correctly (ModularEngineCluster, solar panels, ISDC).  The new \u0027SSTUModularPart\u0027 code is still only about halfway done, but with all the back-end support worked out, the rest of the work on it should go a lot faster/smoother.\n\nGoing to be a slew of new features coming with this code update.  The basic system that handles how engine layouts position the engine models is being brought over to the rest of the model-definition system -- so any use of a \u0027model definition\u0027 will consist of the definition to use, and the layout data to use for it (default layout is a single model positioned at origin).  This is mostly so that things like \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E and solar panels can have \u0027built in\u0027 support for different layouts... but it might also be adapted for other uses -- e.g. multiple ascent-tank layout options on the LC pod parts, or multiple engine layout options on the ISDC, or multiple landing strut layouts on a fuel tank (rigid, no suspension).\n\nStill (slowly) working on geometry for the landing legs.  Have the first set mostly worked out (light legs), and some early WIP geometry for another set (heavy legs for paneled tanks).  Still going to be at least a few weeks before there is anything usable on them.  Mostly I\u0027m finding it difficult to create realistic looking (and functioning) legs that are generic enough to be used for more than one fuel tank.  Really not easy; stock models simply ignored all of that, which is why you have the single-piston leg setups that exist in stock (that in real life would suffer from all sorts of stability problems due to lack of lateral bracing).\n\nI\u0027ve got some good concept stuff from [@tater](https://forum.kerbalspaceprogram.com/index.php?/profile/119411-tater/) and [@Jimbodiah](https://forum.kerbalspaceprogram.com/index.php?/profile/152759-jimbodiah/) already, and I would welcome anyone else to drop by the thread and submit ideas/concepts -- [https://github.com/shadowmage45/SSTULabs/issues/652](https://github.com/shadowmage45/SSTULabs/issues/652)"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2017-12-22T20:50:33Z","Content":"Yeah, the single stick legs look odd compared to RL solutions. I think you have chosen well with the light legs in terms of embracing some clipping, and that can play out with other choices as well (or something like the \u0022backplate\u0022 on the docking ports?)"},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-12-24T15:32:41Z","Content":"Engines are not done yet, right? or is there something wrong with my install? I mean the pbr shaders.. There are some with no textures it seems.... like boring grey. Mounts do have textures but not the engines themselves at least in my install.\n\nexample: merlin 1A\n\n**Edited \u003Ctime datetime=\u00222017-12-24T15:36:22Z\u0022 title=\u002212/24/2017 03:36  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 24, 2017\u003C/time\u003E by Agustin**"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-12-24T17:25:38Z","Content":"yep, only F1 and J1 have PBR shaders IIRC."},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2017-12-24T17:25:51Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Agustin said:\n\u003E \n\u003E \n\u003E Engines are not done yet, right? or is there something wrong with my install? I mean the pbr shaders.. There are some with no textures it seems.... like boring grey. Mounts do have textures but not the engines themselves at least in my install.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E example: merlin 1A\n\u003E \n\nSounds like an install problem. I\u2019ll check at some point later for you.\n\nAssuming you mean no textures at all."},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-12-24T17:56:03Z","Content":"the model is there. There isn\u0027t any textures, and colors and metallics aren\u0027t there.\n\nYeah,  I think only F1 and J1 are complete."},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2017-12-24T18:08:01Z","Content":"What does your game data folder look like?"},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-12-24T18:14:24Z","Content":"\u003E \n\u003E \n\u003E Just now, tater said:\n\u003E \n\u003E \n\u003E What does your game data folder look like?\n\u003E \n\n![eMsiDMg.png](https://i.imgur.com/eMsiDMg.png)\n\nInside Textures Unlimited Stock I have thee 3 files:\n\nTU\\_PorkjetStock\n\nTU\\_PartOverhauls\n\nTU\\_VenStockRevamp\n\nI think the file DefaultShaderAssignments-Engines - PBR is only patching the F1 and J2, and also there the textures of example merlin 1 in SSTU PBR assets folder...  \n\nI just created some  totally grey png\u0027s there and added some CFG and then the engines have reflections (although I can\u0027t make any changes) like this:\n\nSpoiler\n\nKSP\\_MODEL\\_SHADER  \n\n{  \n\n name = SSTU/Assets/SC-ENG-Merlin-1A  \n\n model = SSTU/Assets/SC-ENG-Merlin-1A  \n\n TEXTURE  \n\n {  \n\n  shader = SSTU/PBR/Metallic  \n\n  texture = \\_MainTex, SSTU-PBR/Assets/SC-ENG-Merlin-DIFF  \n\n  texture = \\_BumpMap, SSTU-PBR/Assets/SC-ENG-Merlin-NRM  \n\n  texture = \\_MetallicGlossMap, SSTU-PBR/Assets/SC-ENG-Merlin-MET  \n\n  texture = \\_AOMap, SSTU-PBR/Assets/SC-ENG-Merlin-AO  \n\n }  \n\n}\n\nand added the totaally grey textures in the SSTU-PBR/assets folder to test (i am not modder or anything)\n\n**Edited \u003Ctime datetime=\u00222017-12-24T18:18:40Z\u0022 title=\u002212/24/2017 06:18  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 24, 2017\u003C/time\u003E by Agustin**"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-12-24T18:53:13Z","Content":"A screenshot might help. I know the merlins don\u0027t have a lot of detail to begin with."},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-12-24T19:15:29Z","Content":"\u003E \n\u003E \n\u003E Just now, Jimbodiah said:\n\u003E \n\u003E \n\u003E A screenshot might help. I know the merlins don\u0027t have a lot of detail to begin with.\n\u003E \n\nSome of these have better textures, but not recoloring and metallic properties, and some other seem to have no textures at all. The upper one is the one that I added the patch to make it mettalic, but it looks too homogeneous... \n\n![T92qr4f.png](https://i.imgur.com/T92qr4f.png)"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2017-12-24T22:47:28Z","Content":"All the engines are not set up for recoloring yet, just the mounts."},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-12-24T22:48:25Z","Content":"\u003E \n\u003E \n\u003E Just now, tater said:\n\u003E \n\u003E \n\u003E All the engines are not set up for recoloring yet, just the mounts.\n\u003E \n\nokay, but they haven\u0027t any metallic either, is that okay, or is it something wrong in my install?\n\n**Edited \u003Ctime datetime=\u00222017-12-24T22:48:39Z\u0022 title=\u002212/24/2017 10:48  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 24, 2017\u003C/time\u003E by Agustin**"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-12-25T01:30:37Z","Content":"No, only the F1 and J1 have gotten PBR textures, but are fixed and not recolorable except for the mount. There is nothing wrong with your install."},{"CreatedByName":"Delta_6","CreatedById":91611,"CreatedDateTime":"2017-12-26T08:01:27Z","Content":"What the BLEEPING BLEEP is the SSTU Reflection probe, why the BLEEP is it destroying my craft and how the BLEEPING BLEEP do I disable it?"},{"CreatedByName":"Agustin","CreatedById":172127,"CreatedDateTime":"2017-12-26T12:48:22Z","Content":"\u003E \n\u003E \n\u003E 44 minutes ago, Delta\\_6 said:\n\u003E \n\u003E \n\u003E What the BLEEPING BLEEP is the SSTU Reflection probe, why the BLEEP is it destroying my craft and how the BLEEPING BLEEP do I disable it?\n\u003E \n\nprovide more information.\n\nspecs, performance during playing the game (see how much ram are you using). image of your gamedata folder as well as a link to your ksp.log file\n\nmaybe someone can help you but you have to provide something."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-12-26T17:38:44Z","Content":"\u003E \n\u003E \n\u003E 9 hours ago, Delta\\_6 said:\n\u003E \n\u003E \n\u003E What the BLEEPING BLEEP is the SSTU Reflection probe, why the BLEEP is it destroying my craft and how the BLEEPING BLEEP do I disable it?\n\u003E \n\nTry updating your TexturesUnlimited -- there were some issues in the early versions that could cause explosions on decoupling.\n\nOtherwise, going to need more info -- logs, screenshots, you know... the usual stuff that should be posted with each and every support request."},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2017-12-26T21:10:03Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, Delta\\_6 said:\n\u003E \n\u003E \n\u003E What the BLEEPING BLEEP is the SSTU Reflection probe, why the BLEEP is it destroying my craft and how the BLEEPING BLEEP do I disable it?\n\u003E \n\nI can\u2019t tell if you are just complaining or if you actually have a question. \n\nThe reflection probe is part of the PBR system that makes reflections possible. I believe you can get rid of it by not installing the PBR pack, is that right [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/)?"},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2017-12-29T13:43:26Z","Content":"Could i get a sanity check on this? Code for Xenon gas into SSTU tanks   \n\n    SSTU_FUELTYPE:NEEDS[Bluedog_DB]\n    {\n        name = XenonGas\n        RESOURCE\n        {    resource = XenonGas    ratio = 1\n        }\n    }    \n\n    SSTU_RESOURCEVOLUME:NEEDS[Bluedog_DB]\n    {name = XenonGasvolume = 0.003049\n    }\n\n    @PART[SSTU-SC-TANK-MFT-A|SSTU-SC-TANK-MFT-S|SSTU-SC-TANK-MFT-R|SSTU-SC-TANK-MFT-LV|SSTU-SC-TANK-MUS|SSTU-SC-TANK-MFT-D]:NEEDS[Bluedog_DB]\n    {@MODULE[SSTUVolumeContainer]{\t@CONTAINER,0\t{\t\tresource = XenonGas}}\n    }\n\n**Edited \u003Ctime datetime=\u00222017-12-29T13:44:42Z\u0022 title=\u002212/29/2017 01:44  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 29, 2017\u003C/time\u003E by Sudragon**"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-12-29T14:02:32Z","Content":"Xenon already has it\u0027s volume defined in SSTU, so no need to add it again. Also xenon does not \u0022needs bdb\u0022 as it is a stock fuel type and has already been defined in the base sstu install.\n\nI take it you are trying to add the sstu container to BDB parts?  All you need to do is add the SSTU\\_VolumeContainer module to the BDB part like so:\n\n        MODULE\n        {    name = SSTUVolumeContainer    volume = 1000    baseContainerIndex = 0    subtractMass = false    subtractCost = false    enableContainerEdit = true    enableFuelTypeChange = true    CONTAINER    {\t    name = Battery\t    percent = 100\t    tankageVolume = 0\t    tankageMass = 0\t    ecHasCost = false\t    defaultModifier = standard\t    defaultResources = ElectricCharge,1\t    resource = LiquidFuel\t    resource = LqdHydrogen\t    resource = Oxidizer\t    resource = MonoPropellant\t    resource = Aerozine50\t    resource = NTO\t    resource = ElectricCharge\t    resource = RocketParts\t    resource = Ore\t    resource = XenonGas\t    modifier = standard    }\n        }\n\nCheck my patches for examples, as I\u0027ve already added the VolumeContainer to the BDB Aardvark part.\n\n**Edited \u003Ctime datetime=\u00222017-12-29T14:06:17Z\u0022 title=\u002212/29/2017 02:06  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 29, 2017\u003C/time\u003E by Jimbodiah**"}]}