{"TopicId":89666,"ForumId":29,"TopicTitle":"How do I get the date/time?","CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-11-07T16:35:41Z","PageNum":1,"Articles":[{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-11-07T16:35:41Z","Content":"\n\u003Cp\u003EI am trying to do timestamps for my plug-in, KerbLog. I have tried KSPUtil.KerbinYear, KSPutil.KerbinDay, etc. I have tried the KSPUtil.GetDateFromUT methods, but I don\u0027t know how to get UT or even if it is what I am looking for.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-07T16:51:37Z","Content":"\n\u003Cp\u003EHmmm. Interesting, never seen those methods before.\u003C/p\u003E\u003Cp\u003EThe current gametime I\u0027ve always used is Planatarium.GetUniversalTime(), that returns a double that is seconds since game start.\u003C/p\u003E\u003Cp\u003EHowever, I\u0027ve never had to make that human readable, I\u0027m not sure how you would go about converting it. Maybe KSPUtil.GetDateFromUI( Planetarium.GetUniversalTime()); ?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-11-07T19:05:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EHmmm. Interesting, never seen those methods before.\u003Cp\u003EThe current gametime I\u0027ve always used is Planatarium.GetUniversalTime(), that returns a double that is seconds since game start.\u003C/p\u003E\u003Cp\u003EHowever, I\u0027ve never had to make that human readable, I\u0027m not sure how you would go about converting it. Maybe KSPUtil.GetDateFromUI( Planetarium.GetUniversalTime()); ?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI will try that, hopefully it will work.\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-11-07T21:36:57Z","Content":"\n\u003Cp\u003EThat works, and I believe FlightGLobals.ActiveVessel.missionTime will work for elapsed mission time timestamps.\u003C/p\u003E\n"},{"CreatedByName":"intervenience","CreatedById":110171,"CreatedDateTime":"2014-12-19T07:57:19Z","Content":"\n\u003Cp\u003EPerhaps I\u0027m misunderstanding something obvious here but when I try to use \u003Cem\u003EKSPUtil.GetDateFromUT(Planetarium.GetUniversalTime()); \u003C/em\u003EI\u0027m getting an error: \u0022The best overloaded method match for \u0027KSPUtil.GetDateFromUT(int)\u0027 has some invalid arguments\u0022 -\u0026gt; \u0022Argument 1: cannot convert from \u0027double\u0027 to \u0027int\u0027\u0022\u003C/p\u003E\u003Cp\u003EMy code looks like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edouble currentUniversalTime = KSPUtil.GetDateFromUT(Planetarium.GetUniversalTime());\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-12-19T08:47:06Z","Content":"\n\u003Cp\u003EPlanetarium.GetUniversalTime() returns a Double, so you would have to cast/convert it as an Int for the GetDateFromUT function.\u003C/p\u003E\u003Cp\u003EAlthough what GetDateFromUT is gonna return I dont know as Planetarium.GetUniversalTime() is the current Universal Time. If you are looking for something that converts UT to year and day I can share a timelibrary I worked on recently that I think is ready. But cant link it till I get home\u003C/p\u003E\n"},{"CreatedByName":"intervenience","CreatedById":110171,"CreatedDateTime":"2014-12-19T09:44:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TriggerAu\u0022 data-cite=\u0022TriggerAu\u0022\u003E\u003Cdiv\u003EPlanetarium.GetUniversalTime() returns a Double, so you would have to cast/convert it as an Int for the GetDateFromUT function.\u003Cp\u003EAlthough what GetDateFromUT is gonna return I dont know as Planetarium.GetUniversalTime() is the current Universal Time. If you are looking for something that converts UT to year and day I can share a timelibrary I worked on recently that I think is ready. But cant link it till I get home\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003ECool, so I\u0027ll just mess about with converting the function then. Also, if you can upload the timelibrary I\u0027ll definitely check it out. Thanks.\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-12-19T21:56:09Z","Content":"\n\u003Cp\u003EI have it in place in a dev branch of my TWP mod. The two files you need are:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/TriggerAu/TransferWindowPlanner/blob/feature/timelibrary/TransferWindowPlanner/FrameworkExt/KSPDateTime.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/TriggerAu/TransferWindowPlanner/blob/feature/timelibrary/TransferWindowPlanner/FrameworkExt/KSPDateTime.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/TriggerAu/TransferWindowPlanner/blob/feature/timelibrary/TransferWindowPlanner/FrameworkExt/KSPTimeSpan.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/TriggerAu/TransferWindowPlanner/blob/feature/timelibrary/TransferWindowPlanner/FrameworkExt/KSPTimeSpan.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EJust put these in your project and add using KSPPluginFramework; and you shoudl have them accessible\u003C/p\u003E\u003Cp\u003EBasically these are KSP versions of the c# datetime and timespan structs. So some simple examples are:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EKSPDateTime dt = new KSPDateTime(301.123);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis will give you a Datetime of year 1, Day 1, Hour 0, Minute 5, Second 1, millisecond 123 - each attribute (Hour, Day, etc is a property you can read)\u003C/p\u003E\u003Cp\u003EYou can do add/deletes/compares like the DateTime ones too\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Edt = dt.AddDays(3);\u003Cbr\u003Edt = dt.AddHours(-5)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Egives you dt of Year 1, Day 2, Hour 1, Minute 5, Second 1, millisceond 123\u003C/p\u003E\u003Cp\u003EYou can also create the datetie/timespans the other way round\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EKSPDateTime dt2 = new KSPDateTime(3,3);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EGives you year 3, day 3 and the UT will match - it reads the game settings to know if you are in 6hour or 24 hour days\u003C/p\u003E\u003Cp\u003ELastly you can also use Earth Time for RSS, and the usual datetime string formats\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EKSPDateStructure.SetEarthCalendar();\u003Cbr\u003EKSPDateTime dt3 = new KSPDateTime(301.123);\u003Cbr\u003EDebug.WriteLine(dt3.ToString(\u0022yyyy-MM-dd HH:mm:ss\u0022)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis will output 1951-01-01 00:05:01 - as RSS Start date is 1 jan 1951\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-12-20T01:55:00Z","Content":"\n\u003Cp\u003EYessssss. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf Trigger\u0027s gonna publicly post that, I\u0027m gonna publicly thank him! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"intervenience","CreatedById":110171,"CreatedDateTime":"2014-12-20T07:50:18Z","Content":"\n\u003Cp\u003EThank you very much Trigger\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-12-20T10:46:14Z","Content":"\n\u003Cp\u003ENo Probs, When I finally get all the 0.90 tidied away i\u0027ll add more detail to the pluginframework proper like\u003C/p\u003E\n"}]}