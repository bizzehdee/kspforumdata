{"TopicId":152932,"ForumId":69,"TopicTitle":"Unable to assign second joystick","CreatedByName":"cartman","CreatedById":132294,"CreatedDateTime":"2016-12-03T16:23:07Z","PageNum":1,"Articles":[{"CreatedByName":"cartman","CreatedById":132294,"CreatedDateTime":"2016-12-03T16:23:08Z","Content":"\n\u003Cp\u003E\nHi,\n\u003C/p\u003E\n\u003Cp\u003E\nI am unable to assign second joystick. I have two T.16000M, the first works ok but the second I can\u0027t bind axes. When assigning the axis in the popup dialog I can see it detecting the correct one (joy1.1) but when I accept it it just assignes the same axis but from the first joystick (joy0.1). I am able to assign buttons ok though.\n\u003C/p\u003E\n\u003Cp\u003E\nDual joystick setup:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/open?id=0Bw0NnniTswrVN1hsX192M0M3UmM\u0022 rel=\u0022external nofollow\u0022\u003Esettings.cfg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/open?id=0Bw0NnniTswrVOHN5T292ckNLYTA\u0022 rel=\u0022external nofollow\u0022\u003Eoutput_log.txt\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDual joystick and Dual gamepad setup:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/open?id=0Bw0NnniTswrVWFNucWNzNGZEYmM\u0022 rel=\u0022external nofollow\u0022\u003Esettings.cfg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/open?id=0Bw0NnniTswrVbWtPX3RraDNFQlk\u0022 rel=\u0022external nofollow\u0022\u003Eoutput_log.txt\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHere I have assigned the second joysticks\u00A0axis and the second gamepads axis - this I saw in the popup dialog -\u00A0 but it assigned the first joysticks and the first gamepads axis. I also have assigned 1 button from all 4 hardware just so its visible there are 4 different hw. (they all have the correct name - joystickXbuttonY)\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT:\n\u003C/p\u003E\n\u003Cp\u003E\nI have added full logs and added another case where this happens. This case can be simulated easily with two identical gamepads as well.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-04T18:22:35Z\u0022 title=\u002212/04/2016 06:22  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 4, 2016\u003C/time\u003E by cartman\u003C/strong\u003E\n\u003Cbr\u003Eadded full log and another case.\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2016-12-04T16:15:58Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/132294-cartman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022132294\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/132294-cartman/\u0022 rel=\u0022\u0022\u003E@cartman\u003C/a\u003E: not sure how many in the community have multiple joysticks to test how KSP works with them all. I have one (and a bunch of other input devices) and know of noone else having more among KSP testers.\n\u003C/p\u003E\n\u003Cp\u003E\nYou may be the first to have found that issue; but to let KSP developers know more and possibly find a fix, would be better if you could fill a report on the public tracker (\u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/projects/ksp/issues\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bugs.kerbalspaceprogram.com/projects/ksp/issues\u003C/a\u003E). Please include the whole of settings.cfg and output_log.txt with the report.\n\u003C/p\u003E\n"},{"CreatedByName":"kl0buk","CreatedById":132747,"CreatedDateTime":"2016-12-04T17:30:36Z","Content":"\n\u003Cp\u003E\nHaving\u00A0the same problem with the same 2 joysticks. :-/\n\u003C/p\u003E\n"},{"CreatedByName":"cartman","CreatedById":132294,"CreatedDateTime":"2016-12-04T18:17:17Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/93700-diomedea/\u0026amp;do=hovercard\u0022 data-mentionid=\u002293700\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/93700-diomedea/\u0022 rel=\u0022\u0022\u003E@diomedea\u003C/a\u003E I have added more logs. This case can be easily simulated with two gamepads as well IF they are the same type. For me the problem is kinda obvious. KSP is treating the \u003Cstrong\u003Ehardware name as a HW Unique Identifier\u003C/strong\u003E. I don\u0027t really understand why..\n\u003C/p\u003E\n\u003Cp\u003E\nAlso \u003Cspan\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/137445-joystick-mapping-error/\u0026amp;do=findComment\u0026amp;comment=2525643\u0022 rel=\u0022\u0022\u003EI am not the first\u003C/a\u003E\u00A0 but this guys comment was missed/ignored.\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-12-04T19:54:18Z","Content":"\n\u003Cp\u003E\nHi \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/132294-cartman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022132294\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/132294-cartman/\u0022 id=\u0022ips_uid_2492_7\u0022 rel=\u0022\u0022\u003E@cartman\u003C/a\u003E, Unity3D enumerates the controllers it can detect when the engine is started, unfortunately a controllers number can change if it is unplugged or the PC is restarted, even if only one controller is present.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a major issue on Windows where controllers can be enumerated by Unity differently each time, less so on Linux and OSX where controllers are labelled by the operating system as js0, js1 etc.\n\u003C/p\u003E\n\u003Cp\u003E\nThis meant of course that your bindings would not work if the controller was 1 this time, but 0 before, as Unity treats the \u003Cstrong\u003E\u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/KeyCode.html\u0022 rel=\u0022external nofollow\u0022\u003Ekeycodes\u003C/a\u003E\u003C/strong\u003E from each joystick separately.\n\u003C/p\u003E\n\u003Cp\u003E\nUnity3D offers a way to deal with this though, \u003Cstrong\u003E\u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Input.GetJoystickNames.html\u0022 rel=\u0022external nofollow\u0022\u003Evia the controllers name\u003C/a\u003E\u003C/strong\u003E\u003Cspan ipsnoautolink=\u0022true\u0022\u003E, however as you have found this fails with two identical controllers, and there is no method in Unitys \u003Cstrong\u003E\u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Input.html\u0022 rel=\u0022external nofollow\u0022\u003EInput class\u003C/a\u003E\u003C/strong\u003E to get a controllers unique identifier.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan ipsnoautolink=\u0022true\u0022\u003EThis is fine for basic games where all 8 joysticks in Unity\u0027s \u003Cstrong\u003E\u003Ca href=\u0022https://docs.unity3d.com/Manual/class-InputManager.html\u0022 rel=\u0022external nofollow\u0022\u003Einput manager\u003C/a\u003E\u003C/strong\u003E can be treated the same, or a few popular controllers can be set up and detected via their name, for example the X-Box and Playstation gamepads.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s not good for games where the player could use any number of flight sim sticks, especially where the player can bind those sticks to suit their tastes, the developer has to write an intervening layer to translate the players custom bindings to the ones baked into the game when the project is built.\n\u003C/p\u003E\n\u003Cp\u003E\nThat only gets around one problem though, there\u0027s plenty of others such as the hard limit on fire buttons and axis, the lack of hot-swapping, \u003Cstrong\u003E\u003Ca href=\u0022http://wiki.etc.cmu.edu/unity3d/index.php/Joystick/Controller\u0022 rel=\u0022external nofollow\u0022\u003Ethe detection limit of 4 controllers\u003C/a\u003E\u003C/strong\u003E and complete lack of access to the UID.\n\u003C/p\u003E\n\u003Cp\u003E\nNone of this is news to a developer using Unity for their game, \u003Cstrong\u003E\u003Ca href=\u0022https://forum.unity3d.com/threads/game-controller-that-works-with-unity.151349/#post-1055088\u0022 rel=\u0022external nofollow\u0022\u003Epeople have been complaining about all of these issues since at least 2012\u003C/a\u003E\u003C/strong\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nSo the controllers enumeration cannot be used because this can change, the controllers name can be used but there are limitations, and using both the name and the controllers number in the enumerated list doesn\u0027t work as you have the same issue as using the number alone, T.16000M#0 can be T.16000M#1 the next time you play, so none of your bindings would apply.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s \u003Cstrong\u003E\u003Ca href=\u0022https://www.assetstore.unity3d.com/en/#!/content/21676\u0022 rel=\u0022external nofollow\u0022\u003E3rd party controller plugins\u003C/a\u003E\u003C/strong\u003E for Unity, though incorporating them at such a late stage in KSP\u0027s development isn\u0027t going to be trivial it\u0027s something I\u0027ve been asking for for a while.\n\u003C/p\u003E\n\u003Cp\u003E\nA more immediate option might be \u003Cstrong\u003E\u003Ca href=\u0022https://ppjoy.blogspot.co.uk/2009/11/finally-new-version.html\u0022 rel=\u0022external nofollow\u0022\u003EPPJoy\u003C/a\u003E\u003C/strong\u003E\u003Cspan ipsnoautolink=\u0022true\u0022\u003E, letting you combine both sticks as one device with twice the axis and buttons but watch out for Unity\u0027s hard limit of 20 fire buttons per controller, or set up one of the \u003C/span\u003ET.16000M\u0027s as a virtual stick with another name.\n\u003C/p\u003E\n\u003Cp\u003E\nHope this helps.\n\u003C/p\u003E\n"},{"CreatedByName":"cartman","CreatedById":132294,"CreatedDateTime":"2016-12-04T22:00:50Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/16426-sal_vager/\u0026amp;do=hovercard\u0022 data-mentionid=\u002216426\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/16426-sal_vager/\u0022 rel=\u0022\u0022\u003E@sal_vager\u003C/a\u003E Thank you for the extensive explanation! Its a shame because I love to have translation and attidute on 2 sticks. I had the feeling that its bec. of unity. I vaguely remember something about those IDs getting mixed up. It happened to me before but it was rather rare, if it happend I just replaced the IDs with the new ones. I will try the PPJoy stuff.\n\u003C/p\u003E\n"}]}