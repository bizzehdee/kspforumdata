{"TopicId":103786,"ForumId":29,"TopicTitle":"Survey: How do you program your \u0026quot;Toggle\u0026quot; actions in your plug-ins?","CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-04-09T20:22:57Z","PageNum":1,"Articles":[{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-04-09T20:22:57Z","Content":"\n\u003Cp\u003EIn my development of Action Groups Extended (which adds more action groups to KSP), and in the work I\u0027m doing with other mods in order to integrate with them, I\u0027m starting to notice two distinct methods of how to handle \u0022Toggle\u0022 actions.\u003C/p\u003E\u003Cp\u003EAs I\u0027m providing ways to activate these actions the community is creating, I\u0027m feeling out the waters on what is going on.\u003C/p\u003E\u003Cp\u003ENote this is not a \u0022you are doing it wrong\u0022 thread, or an attempt to standardize or anything. I just need to know how you guys are programming your actions so I can handle them correctly in my mods.\u003C/p\u003E\u003Cp\u003EThe two methods I\u0027m seeing are as follows:\u003C/p\u003E\u003Cp\u003E1) Activate is turn on, Deactivate is turn off:\u003C/p\u003E\u003Cp\u003EThis is how stock partModules work. \u003C/p\u003E\u003Cp\u003EThe KSPAction(ActionParam) method on every action is passed the ActionParam variable as an Activate or Deactivate command.\u003C/p\u003E\u003Cp\u003EThe code behind the toggle action then checks this ActionParam and Activates or Deactivates as appropriate.\u003C/p\u003E\u003Cp\u003EThis is why you see things such as the first press of the G (gear) key doing nothing when you launch a vessel with stock landing legs already extended. The landing legs are already extended (activated), but the Gear group starts deactivated. Then when you toggle the Gear group with G, you are passing KSP the ToggleGear(Activate) command, but because the landing legs are already extended, nothing happens.\u003C/p\u003E\u003Cp\u003E2) Toggle \u003Cem\u003Emeans\u003C/em\u003E toggle, ignore the ActionParam activate/deactivate.\u003C/p\u003E\u003Cp\u003EI\u0027m seeing several mods use this. Rather then check the ActionParam to see if they should activate/deactivate, they are checking their own variable.\u003C/p\u003E\u003Cp\u003EFor instance, in the landing leg example above with the landing legs already extended (activated).\u003C/p\u003E\u003Cp\u003EThe Gear group is still deactivated on flight start, however when the player presses the G key and KSP passes the modded landing leg the ToggleGear(Activate) action, the landing leg checks its own state instead of the passed ActionParam, sees it is already extended and retracts (deactivates) as opposed to the ActionParam activate that it was passed.\u003C/p\u003E\u003Cp\u003ENow, in my opinion both methods have their advantages, but supporting both methods does make the work on the mods I\u0027m doing more complex so I wanted to get the opinions of the people making the mods (and actions) I have to work with to see what they thought.\u003C/p\u003E\u003Cp\u003EAlso, I\u0027m doing this to check if there is a third method to handling the Toggle action that I\u0027ve missed that I need to support.\u003C/p\u003E\u003Cp\u003ESo, what are peoples thoughts on this?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"}]}