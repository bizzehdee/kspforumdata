{"TopicId":105202,"ForumId":34,"TopicTitle":"[1.12.x] USI Life Support","CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2015-04-27T17:37:19Z","PageNum":172,"Articles":[{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2017-07-02T23:25:45Z","Content":"\u003E \n\u003E \n\u003E Just now, DStaal said:\n\u003E \n\u003E \n\u003E They use EC, so you may want to conserve power for parts of your mission - especially if you don\u0027t always fully crew something.\n\u003E \n\nGotcha, thanks for the help to both of you."},{"CreatedByName":"ExplorerKlatt","CreatedById":107424,"CreatedDateTime":"2017-07-03T02:30:07Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, TheRagingIrishman said:\n\u003E \n\u003E \n\u003E [@Blackline](https://forum.kerbalspaceprogram.com/index.php?/profile/159475-blackline/) I\u0027m not seeing any bug. What is it that you think is wrong?\n\u003E \n\nThe bug he is seeing is that all timers are green but Kerbal is still a tourist."},{"CreatedByName":"KerbMav","CreatedById":70338,"CreatedDateTime":"2017-07-03T20:32:28Z","Content":"This has probably been asked/mentioned before?\n\nWhen the grace period has started (survival without resources) the supply counter shows 00:00:00 (\u002B*grace*) for the active vessel, even if before a vessel switch the counter showed the remaining time before death.\n\n\u003Ciframe data-controller=\u0022core.front.core.autosizeiframe\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026module=system\u0026controller=embed\u0026url=http://imgur.com/a/GVVlT\u0022 style=\u0022height:414px;\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2017-07-04T10:31:03Z","Content":"\u003E \n\u003E \n\u003E On 2.7.2017 at 7:57 PM, TheRagingIrishman said:\n\u003E \n\u003E \n\u003E [@Blackline](https://forum.kerbalspaceprogram.com/index.php?/profile/159475-blackline/) I\u0027m not seeing any bug. What is it that you think is wrong?\n\u003E \n\nMy Kerbal being a tourist?\n\nHe was a scientist, food ran out, he became useless, so I restocked food. But he still was a tourist."},{"CreatedByName":"danielboro","CreatedById":166078,"CreatedDateTime":"2017-07-04T10:52:56Z","Content":"\u003E \n\u003E \n\u003E 19 minutes ago, Blackline said:\n\u003E \n\u003E \n\u003E My Kerbal being a tourist?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E He was a scientist, food ran out, he became useless, so I restocked food. But he still was a tourist.\n\u003E \n\nim not sure running out of supply is reversible in orbit (need a mead bay\u002Bscientist?) i think only if recovered  \n\nhub defenatly is reversible in orbit"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2017-07-04T17:19:01Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, danielboro said:\n\u003E \n\u003E \n\u003E im not sure running out of supply is reversible in orbit (need a mead bay\u002Bscientist?) i think only if recovered  \n\u003E \n\u003E hub defenatly is reversible in orbit\n\u003E \n\nNo MKS installed btw, so no medbays available."},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2017-07-04T17:38:58Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, danielboro said:\n\u003E \n\u003E \n\u003E im not sure running out of supply is reversible in orbit (need a mead bay\u002Bscientist?) i think only if recovered  \n\u003E \n\u003E hub defenatly is reversible in orbit\n\u003E \n\nNo, in theory just attaching supplies - if they went tourist due to supply loss - will revive them.  If this is NOT happening, then I need someone to get me a save as I cant repro this"},{"CreatedByName":"KerbMav","CreatedById":70338,"CreatedDateTime":"2017-07-04T17:46:44Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, RoverDude said:\n\u003E \n\u003E \n\u003E No, in theory just attaching supplies - if they went tourist due to supply loss - will revive them.  If this is NOT happening, then I need someone to get me a save as I cant repro this\n\u003E \n\nWould there be any expected problems when a supply-loss-induced tourist also faces a different shortage that would put him into a tourist state?"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2017-07-04T17:55:43Z","Content":"I\u0027m seeing some strange log spam:\n\n    [EXC 20:26:20.903] NullReferenceException: Object reference not set to an instance of an objectUSITools.ModuleResourceConverter_USI.PostProcess (ConverterResults result, Double deltaTime)LifeSupport.ModuleLifeSupportRecycler.PostProcess (ConverterResults result, Double deltaTime)BaseConverter.FixedUpdate ()\n    [EXC 20:26:20.904] NullReferenceException: Object reference not set to an instance of an objectUSITools.ModuleResourceConverter_USI.PostProcess (ConverterResults result, Double deltaTime)LifeSupport.ModuleHabitation.PostProcess (ConverterResults result, Double deltaTime)BaseConverter.FixedUpdate ()\n\nThis comes in spurts, and not unexpectedly, coincides with a significant drop in framerate while it lasts.\n\nI\u0027m not sure if I can produce a reproducible save and there could be hundreds of mod interactions, so there could be lots of reasons, but maybe this section of the code needs some more robust debug messaging... One particular interaction I\u0027m suspecting might be involved is [EditorTime](https://forum.kerbalspaceprogram.com/index.php?/topic/97033-13122-magico13s-modlets-sensible-screenshot-dated-quicksaves-etc/): the slowdown is particularly prominent when I\u0027m in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, and its whole shtick is spinning time while you\u0027re there. The spurts do appear to start after I spend some time in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E while my vessels with life support are in the world. It never happens in the design sandbox save, which is free of running vessels."},{"CreatedByName":"KerbMav","CreatedById":70338,"CreatedDateTime":"2017-07-04T18:08:51Z","Content":"\u003E \n\u003E \n\u003E 12 minutes ago, Mihara said:\n\u003E \n\u003E \n\u003E The spurts do appear to start after I spend some time in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E while my vessels with life support are in the world. It never happens in the design sandbox save, which is free of running vessels.\n\u003E \n\nDo you use a mod to keep the game time running while in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E?"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2017-07-04T18:09:40Z","Content":"\u003E \n\u003E \n\u003E Just now, KerbMav said:\n\u003E \n\u003E \n\u003E Do you use a mod to keep the game time running while in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E?\n\u003E \n\n...Wasn\u0027t that exactly what I said?"},{"CreatedByName":"KerbMav","CreatedById":70338,"CreatedDateTime":"2017-07-04T18:34:10Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, Mihara said:\n\u003E \n\u003E \n\u003E ...Wasn\u0027t that exactly what I said?\n\u003E \n\nOh - my sugery brain read it as you meaning you edited your post. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2017-07-04T18:43:12Z","Content":"\u003E \n\u003E \n\u003E 56 minutes ago, KerbMav said:\n\u003E \n\u003E \n\u003E Would there be any expected problems when a supply-loss-induced tourist also faces a different shortage that would put him into a tourist state?\n\u003E \n\nYeah you would need to clear both conditions."},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2017-07-04T19:06:52Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Mihara said:\n\u003E \n\u003E \n\u003E I\u0027m seeing some strange log spam:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     [EXC 20:26:20.903] NullReferenceException: Object reference not set to an instance of an objectUSITools.ModuleResourceConverter_USI.PostProcess (ConverterResults result, Double deltaTime)LifeSupport.ModuleLifeSupportRecycler.PostProcess (ConverterResults result, Double deltaTime)BaseConverter.FixedUpdate ()\n\u003E     [EXC 20:26:20.904] NullReferenceException: Object reference not set to an instance of an objectUSITools.ModuleResourceConverter_USI.PostProcess (ConverterResults result, Double deltaTime)LifeSupport.ModuleHabitation.PostProcess (ConverterResults result, Double deltaTime)BaseConverter.FixedUpdate ()\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This comes in spurts, and not unexpectedly, coincides with a significant drop in framerate while it lasts.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027m not sure if I can produce a reproducible save and there could be hundreds of mod interactions, so there could be lots of reasons, but maybe this section of the code needs some more robust debug messaging... One particular interaction I\u0027m suspecting might be involved is [EditorTime](https://forum.kerbalspaceprogram.com/index.php?/topic/97033-13122-magico13s-modlets-sensible-screenshot-dated-quicksaves-etc/): the slowdown is particularly prominent when I\u0027m in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, and its whole shtick is spinning time while you\u0027re there. The spurts do appear to start after I spend some time in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E while my vessels with life support are in the world. It never happens in the design sandbox save, which is free of running vessels.\n\u003E \n\nRemove EditorTime and see if it still occurs."},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2017-07-04T19:59:29Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, RoverDude said:\n\u003E \n\u003E \n\u003E No, in theory just attaching supplies - if they went tourist due to supply loss - will revive them.  If this is NOT happening, then I need someone to get me a save as I cant repro this\n\u003E \n\n[https://drive.google.com/open?id=0B9E1ELqaaxtIc3hlbng1ZmZGc2c](https://drive.google.com/open?id=0B9E1ELqaaxtIc3hlbng1ZmZGc2c)\n\nin this save, you are in an \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003Essto\u003C/abbr\u003E aproaching the starving scientist from about 500m away.\n\nHeavily modded tho... But i THINK space-y, KW rocketry, realBattery and kerbal atomics are the only part-related mods you should need. Aside from \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS ofc :-)\n\nSpoiler\n\n![1rdTOAc.png](https://i.imgur.com/1rdTOAc.png)\n\n**Edited \u003Ctime datetime=\u00222017-07-04T20:03:19Z\u0022 title=\u002207/04/2017 08:03  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 4, 2017\u003C/time\u003E by Blackline**"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2017-07-04T20:14:07Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, RoverDude said:\n\u003E \n\u003E \n\u003E Remove EditorTime and see if it still occurs.\n\u003E \n\nDid. As far as I can tell the problem no longer recurs.\n\nThis should be relatively easy to prevent, though, shouldn\u0027t it?"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2017-07-04T23:31:09Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Mihara said:\n\u003E \n\u003E \n\u003E Did. As far as I can tell the problem no longer recurs.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This should be relatively easy to prevent, though, shouldn\u0027t it?\n\u003E \n\nWell, other than not using EditorTime, no.  There are a lot of assumptions made whether you are in flight or in the editor."},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2017-07-05T00:17:04Z","Content":"\u003E \n\u003E \n\u003E 45 minutes ago, RoverDude said:\n\u003E \n\u003E \n\u003E Well, other than not using EditorTime, no.  There are a lot of assumptions made whether you are in flight or in the editor.\n\u003E \n\nShouldn\u0027t just returning if active scene is editor without touching the last update time nix the problem, though?"},{"CreatedByName":"goldenpsp","CreatedById":113874,"CreatedDateTime":"2017-07-05T00:18:34Z","Content":"\u003E \n\u003E \n\u003E Just now, Mihara said:\n\u003E \n\u003E \n\u003E Shouldn\u0027t just returning if active scene is editor without touching the last update time nix the problem, though?\n\u003E \n\nLet us know.  @roverdude takes pull requests"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2017-07-05T00:29:26Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, goldenpsp said:\n\u003E \n\u003E \n\u003E Let us know.  @roverdude takes pull requests\n\u003E \n\nI dearly wanted to avoid diving into KSP code again. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\nWell, upon reflection, no, it looks like the exception is thrown somewhere in KSP\u0027s base resource converter class, which means that the exception can probably be suppressed, but can\u0027t really be prevented, since the assumption in question is not made by accessible user code.\n\nThat\u0027s why we can\u0027t have nice things."},{"CreatedByName":"shdwlrd","CreatedById":113880,"CreatedDateTime":"2017-07-05T02:42:30Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, Mihara said:\n\u003E \n\u003E \n\u003E I\u0027m seeing some strange log spam:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     [EXC 20:26:20.903] NullReferenceException: Object reference not set to an instance of an objectUSITools.ModuleResourceConverter_USI.PostProcess (ConverterResults result, Double deltaTime)LifeSupport.ModuleLifeSupportRecycler.PostProcess (ConverterResults result, Double deltaTime)BaseConverter.FixedUpdate ()\n\u003E     [EXC 20:26:20.904] NullReferenceException: Object reference not set to an instance of an objectUSITools.ModuleResourceConverter_USI.PostProcess (ConverterResults result, Double deltaTime)LifeSupport.ModuleHabitation.PostProcess (ConverterResults result, Double deltaTime)BaseConverter.FixedUpdate ()\n\u003E \n\nI\u0027m getting the same NRE spam. I ran out of EC after starting the nom-o-matic 5000 and the rt5000. The spam starts as soon as I start building up EC again. It happens in this order.\n\nGet into orbit. (Hyper Edit)\n\nStart the nom-o-matic 5000 and rt5000.\n\nRun out of power.\n\nOpen solar panels.\n\nStart building EC.\n\nStart NRE spam."},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2017-07-05T03:59:24Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Mihara said:\n\u003E \n\u003E \n\u003E I dearly wanted to avoid diving into KSP code again. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\u003E \n\u003E \n\u003E Well, upon reflection, no, it looks like the exception is thrown somewhere in KSP\u0027s base resource converter class, which means that the exception can probably be suppressed, but can\u0027t really be prevented, since the assumption in question is not made by accessible user code.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E That\u0027s why we can\u0027t have nice things.\n\u003E \n\nExcept that converters are completely extensible (your log spam is one that I extended).  Point stands that it is a mod doing a bad / unexpected thing, not stock.  If you want to fiddle with it and send a PR (that breaks nothing else) then go for it ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2017-07-06T09:23:07Z","Content":"\u003E \n\u003E \n\u003E On 7/5/2017 at 6:59 AM, RoverDude said:\n\u003E \n\u003E \n\u003E Except that converters are completely extensible (your log spam is one that I extended).  Point stands that it is a mod doing a bad / unexpected thing, not stock.  If you want to fiddle with it and send a PR (that breaks nothing else) then go for it ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nStock converters were one of those things I never dived into before -- actually, when I last abandoned KSP they didn\u0027t exist yet -- and I don\u0027t really want to start now, because I have a feeling this will turn into another session of running after everyone\u0027s code with a flyswatter trying to change something right after they did it. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) \n\nAnyway, since I\u0027m here... I think the concept of habitation needs work. What exactly is it supposed to be, and how exactly does it cause homesickness? What exactly is homesickness, conceptually, and how exactly does it impair or kill a kerbal? Because here\u0027s a story...\n\nSo I have a large station around Minmus, and I\u0027m trying to devise a crew transfer vehicle with the following properties:\n\n- Must hold six kerbals, and be an automatic, pushbutton launch with no intermediate docking procedures. This is a chore, it\u0027s taking my time from other things to do around Minmus.\n- Must be able to get there, *and,* which is important, return after a flyby if something happened, and for whatever reason they can\u0027t dock and resupply.\n- Must be able to land safely without complicated manual procedures like landing an aircraft, because I suck at those.\n\nThe limiting factor on this turns out to be hab, not supplies, because it\u0027s easy enough to stock enough supplies and/or recyclers to make them last 15 days, and there\u0027s the 15-day grace period anyway, a 20-day endurance on supplies is trivial. But habitation in a pod runs out after 7 days with the default settings -- and not a month as the documentation seems to say *(and for the record, NASA\u0027s Orion is apparently supposed to have 21 days endurance, which obviously includes habitation requirements)* -- often leaving them hours of hab left before they dock, and leaving no margin of error for the return trip. I\u0027ve found multiple solutions for keeping six kerbals in one pod, but none of them have habitation bonuses, and upon reflection most of them probably shouldn\u0027t, being, well, descent capsules.\n\nSo I have to pack a hab module, and the most mass and cost effective solution is usually one or another variation on the hitchhiker can. Which don\u0027t exactly make for an easy automatic landing, so they need to be decoupled. They also complicate launch escape systems, not to mention that they tend to look rather ugly. They also tend to result in far more hab than this vehicle could possibly need, and stacking up observation cupolas to get just the right amount produces *really* ugly, not to mention part-heavy vehicles. I\u0027ve spent a few days tuning such a vehicle with varying results, but here\u0027s an anecdote about one of the versions:\n\nThe trip to Minmus proceeds normally, they burn for aerobraking, and it so happens that the descent module enters Kerbin\u0027s atmosphere right at the edge of dawn. I decouple everything below the heatshield, and that\u0027s exactly the moment the crew refuses to work. Due to homesickness. Literally when they can\u0027t possibly go anywhere *but* home, anymore. I\u0027m not sure if that\u0027s the hab sucking out the remaining batteries in seconds, or the number of parts changing triggering a recomputation, but the pod with the hitchhiker can *(because I tried to be optimal and packed six kerbals in six seats, four of them being the hitchhiker)* has no one at the controls and is flying through the air sideways.\n\nThe vehicle has remote control as a matter of policy, but because there\u0027s still no batteries, and because I just decoupled the solar panels, I can\u0027t turn them heatshield first. They return to duty at 25km altitude, moments before the vehicle burns up in the atmosphere.\n\nI obviously can just turn up the base habitation multiplier, but -- why did you balance it this way, and not some other way?\n\n**P.S.** Possibly, homesickness should also have a grace period the way supplies do, so that given an unprepared pod, by default, a kerbal would be disabled by lack of supplies and homesickness simultaneously..."},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2017-07-06T09:33:22Z","Content":"To be honest, sounds like it is working as designed.  Send less kerbals."},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2017-07-06T09:49:58Z","Content":"\u003E \n\u003E \n\u003E 13 minutes ago, RoverDude said:\n\u003E \n\u003E \n\u003E To be honest, sounds like it is working as designed.  Send less kerbals.\n\u003E \n\n- Why is it designed so that kerbals can refuse to control their capsule during reentry, due to being homesick? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) Because that\u0027s what killed them, before the loss of power they had 30\u002B days of habitation remaining.\n- What\u0027s the point of the 15 day grace period on supplies, then?"}]}