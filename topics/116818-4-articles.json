{"TopicId":116818,"ForumId":34,"TopicTitle":"[1.1.3] Orbital Decay v1.5.2 (17/07/2016) - Total Overhaul","CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-07-25T16:14:41Z","PageNum":4,"Articles":[{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2015-12-12T03:41:57Z","Content":"About the lag issues, what if you updated one vessels orbit per X seconds? You\u0027d get a few frames dropped, but by avoiding batch operations you\u0027re mitigating lag. And same as with batch operations, you\u0027d get all 200 vessels updated after the same time span. \n\nX could be set in some configuration file  for so that we can change it for laggy computers."},{"CreatedByName":"hraban","CreatedById":145453,"CreatedDateTime":"2016-01-06T20:39:41Z","Content":"Basically, a good idea of this plugin, but when will that be usefully applied?  \nLives the idea and the plugin yet?  \n  \nOnly then asked: When does KSP a reasonable atmospheres system?"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-01-07T00:39:28Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, hraban said:\n\u003E \n\u003E \n\u003E Basically, a good idea of this plugin, but when will that be usefully applied?  \n\u003E Lives the idea and the plugin yet?  \n\u003E   \n\u003E Only then asked: When does KSP a reasonable atmospheres system?\n\u003E \n\nI have smoothed out most of the lag issues occurring (mainly due to bad coding on my part of UI\u0027s and timings), however the mod is on hold until KSP 1.1 since this update is likely to break any further work I put into it. \n\nOf course the change to 1.1 may even break the system of updating background vessel positions and we might be back to square one...\n\nI have discovered a few new tricks to background resource processing and UI trickery that will make this mod much more usable. Once I have more time I will try and release a 1.0.5 compatible version (if 1.1 gets pushed back anymore!). I also have plans for a configurable version compatible with RSS and Kopernicus. \n\nIn the mean time the mod is still alive... just laggy with..... ~~lots of~~.....~~some~~ ....any.... vessels... Soon I promise everyone! Real life has been busy lately so no updates for a little while ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)\n\nWhitecat106 ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-23T22:56:11Z","Content":"Hello everyone,\n\nIt has been a while but I thought I would release a quick update, this fixes lag and is the result of a complete rewrite of the code, station keeping is also fixed..hopefully!\n\nActive vessel decay and the UI have been temporarily removed in preparation for KSP 1.1 and subsequently version 1.1.0 of Orbital Decay. I will be working on a more accurate decay simulation, smooth UI menus with decay predictions, maybe some pretty conics in the map view and hopefully a \u0027Station Keeping Module\u0027 part for the game!\n\nI hope you enjoy this small update which makes the Mod playable again, however for this to function properly you will have to switch to each vessel you currently have in game to allow the vessel to be registered by the decay code - this will be fixed in 1.1.0 too!\n\nI have not given up; have hope! \n\nWhitecat106 ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"731destroyer","CreatedById":125086,"CreatedDateTime":"2016-03-25T05:31:15Z","Content":"\u003E \n\u003E \n\u003E On 3/23/2016 at 4:56 PM, Whitecat106 said:\n\u003E \n\u003E \n\u003E Hello everyone,\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It has been a while but I thought I would release a quick update, this fixes lag and is the result of a complete rewrite of the code, station keeping is also fixed..hopefully!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Active vessel decay and the UI have been temporarily removed in preparation for KSP 1.1 and subsequently version 1.1.0 of Orbital Decay. I will be working on a more accurate decay simulation, smooth UI menus with decay predictions, maybe some pretty conics in the map view and hopefully a \u0027Station Keeping Module\u0027 part for the game!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I hope you enjoy this small update which makes the Mod playable again, however for this to function properly you will have to switch to each vessel you currently have in game to allow the vessel to be registered by the decay code - this will be fixed in 1.1.0 too!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have not given up; have hope! \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Whitecat106 ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nYAY"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-25T22:25:09Z","Content":"Hello everyone,\n\nI have just released version 1.0.6 which fixes many issues that popped up in 1.0.5. This version adds the UI again and a partial working version of the Active Vessel Decay (More for 1.7.0 or 1.1 (whichever comes first!)).\n\nI am now currently working on a version of the Active Decay which mimics the earlier versions of this mod but without the lag!\n\nI hope you enjoy this, more functional version, of the mod. I apologize for my hasty 1.0.5 release and any damage caused to your save games caused by the code. This version is much more stable (after two days of error testing and bug fixing).\n\nEnjoy!\n\nWhitecat106 ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Einkleinermensch","CreatedById":112999,"CreatedDateTime":"2016-03-25T23:51:42Z","Content":"Yay! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"RocketSquid","CreatedById":152665,"CreatedDateTime":"2016-03-25T23:59:29Z","Content":"Hmm. When this starts supporting Xenon I\u0027ll try it out. I like ion-engine stationkeeping."},{"CreatedByName":"FiiZzioN","CreatedById":108954,"CreatedDateTime":"2016-03-26T01:11:23Z","Content":"Would there be any way to add the function of a config file where we could add what fuels we wanted to allow for station keeping? This way it isn\u0027t hard-coded and could appease literally anyone."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-26T12:53:58Z","Content":"\u003E \n\u003E \n\u003E 11 hours ago, FiiZzioN said:\n\u003E \n\u003E \n\u003E Would there be any way to add the function of a config file where we could add what fuels we wanted to allow for station keeping? This way it isn\u0027t hard-coded and could appease literally anyone.\n\u003E \n\nThat\u0027s a very good idea! I will add in this feature today for a 1.7.0 version!\n\nThanks!"},{"CreatedByName":"Einkleinermensch","CreatedById":112999,"CreatedDateTime":"2016-03-26T13:12:31Z","Content":"I\u0027ve found a bit strange bug on Linux RSS-RO install. This mod conflicts with something (KSPAPIExtensions?) with the next string in KSP.log:\n\n[LOG 13:56:18.217] System.NullReferenceException: Object reference not set to an instance of an object  \n\n  at KSPAPIExtensions.UIPartActionChooseOption.UpdateItem () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\u003Cbr\u003E\n[EXC 13:56:25.195] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n    System.Guid.BaseToString (Boolean h, Boolean p, Boolean b)\u003Cbr\u003E\n    System.Guid.ToString ()\u003Cbr\u003E\n    WhitecatIndustries.VesselData.FetchStationKeeping (.Vessel vessel)\u003Cbr\u003E\n    WhitecatIndustries.StationKeepingModule.OnStart (StartState state)\u003Cbr\u003E\n    Part.ModulesOnStart ()\u003Cbr\u003E\n    Part\u002B.MoveNext ()\n\u003C/filename\u003E\n\nThis appears, when I take some command modules in VAB and try to put some fuel in their internal tank: GUI of RealFuels is not working and Tweakscale-like field appears in right-click menu of this module, but this field is empty so I can\u0027t do anything. Filling an external tank works fine."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-26T14:44:58Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Einkleinermensch said:\n\u003E \n\u003E \n\u003E I\u0027ve found a bit strange bug on Linux RSS-RO install. This mod conflicts with something (KSPAPIExtensions?) with the next string in KSP.log:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [LOG 13:56:18.217] System.NullReferenceException: Object reference not set to an instance of an object  \n\u003E \n\u003E   at KSPAPIExtensions.UIPartActionChooseOption.UpdateItem () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\u003Cbr\u003E\n\u003E [EXC 13:56:25.195] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u003E     System.Guid.BaseToString (Boolean h, Boolean p, Boolean b)\u003Cbr\u003E\n\u003E     System.Guid.ToString ()\u003Cbr\u003E\n\u003E     WhitecatIndustries.VesselData.FetchStationKeeping (.Vessel vessel)\u003Cbr\u003E\n\u003E     WhitecatIndustries.StationKeepingModule.OnStart (StartState state)\u003Cbr\u003E\n\u003E     Part.ModulesOnStart ()\u003Cbr\u003E\n\u003E     Part\u002B.MoveNext ()\n\u003E \u003C/filename\u003E\n\u003E \n\u003E \n\u003E \n\u003E This appears, when I take some command modules in VAB and try to put some fuel in their internal tank: GUI of RealFuels is not working and Tweakscale-like field appears in right-click menu of this module, but this field is empty so I can\u0027t do anything. Filling an external tank works fine.\n\u003E \n\nHmm this is interesting, the part module for Station Keeping is barely used and only used in flight, it could even be removed come to think of it.... But the module does not use any fuel or resources so I don\u0027t see why tweakscale or real fuels would have an issue with it. I will see what I can look into module manager wise and see if KSPAPI requires anything else in the Module. Thanks for this report!\n\n1.0.7 should be released today, no more reliance on just monoprop or hydrazine, each resource is toggle-able by the Settings menu in the ui. I should have fixed the Active vessel issues, and this Module issue by then too!"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-26T18:06:10Z","Content":"Hello everyone,\n\nI have just released 1.0.7 which fixes the Active Decay during timewarp, and adds the ability to use any KSP resource (within reason) as a station keeping fuel. (Use the Settings Menu to choose these). \n\n1.0.8 shall be a balancing release to assign a proper \u0022ISP\u0022 to each resource, and to balance the mod in general. I will also introduce a stockalike decay formula as well as the realistic formula. \n\nAs for the KSPAPIExtensions error I shall look into this for the next update, if anyone else encounters this (preferably on a Windows system), please let me know here and Ill see what I can do, at the moment I\u0027m a bit stumped!\n\nEnjoy,\n\nWhitecat106 ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Phineas Freak","CreatedById":146521,"CreatedDateTime":"2016-03-26T19:33:52Z","Content":"[@Whitecat106](https://forum.kerbalspaceprogram.com/index.php?/profile/140086-whitecat106/)it is pretty easy to reproduce the KSPAPI error. I have captured a log for it \u003Clink removed=\u0022\u0022\u003E.\n\nMods used:\n\n- Community Resource Pack [0.4.9]\n- Module Manager [2.6.20]\n- Real Fuels [10.8.4]\n- Realism Overhaul [10.9.6]\n- Orbital Decay [1.0.7]\n\nReproduction steps:\n\n1. Launch KSP with the above mods installed.\n2. Enter either the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E or the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\n3. Select a Pod part\n4. Right - click the part. The RF options for opening it\u0027s GUI and/or removing the tank contents will be broken.\n\nTested on a Windows OS environment with a clean installation of KSP (version 1.0.5.1028).\n\nAlso, from a preliminary test while using \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, Orbital Decay tends to simply erase any craft from orbit (test launch on a 750 km polar orbit, both the satellite and the upper stage were deleted upon returning to the Space Center).\n\n**Edited \u003Ctime datetime=\u00222016-11-16T17:42:02Z\u0022 title=\u002211/16/2016 05:42  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 16, 2016\u003C/time\u003E by Phineas Freak**\n  \nRemoved log link"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-26T20:08:11Z","Content":"\u003E \n\u003E \n\u003E 27 minutes ago, Phineas Freak said:\n\u003E \n\u003E \n\u003E [@Whitecat106](https://forum.kerbalspaceprogram.com/index.php?/profile/140086-whitecat106/)it is pretty easy to reproduce the KSPAPI error. I have captured a log for it [here](https://raw.githubusercontent.com/PhineasFreak/DocBin/bb639bfec92acf0cc1489a01aa8df5c633e68c4e/DocBin/ORBDEC_26032016_211700_log.txt).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Mods used:\n\u003E \n\u003E \n\u003E \n\u003E - Community Resource Pack [0.4.9]\n\u003E - Module Manager [2.6.20]\n\u003E - Real Fuels [10.8.4]\n\u003E - Realism Overhaul [10.9.6]\n\u003E - Orbital Decay [1.0.7]\n\u003E \n\u003E \n\u003E \n\u003E Reproduction steps:\n\u003E \n\u003E \n\u003E 1. Launch KSP with the above mods installed.\n\u003E 2. Enter either the SPH or the VAB\n\u003E 3. Select a Pod part\n\u003E 4. Right - click the part. The RF options for opening it\u0027s GUI and/or removing the tank contents will be broken.\n\u003E \n\u003E \n\u003E \n\u003E Tested on a Windows OS environment with a clean installation of KSP (version 1.0.5.1028).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Also, from a preliminary test while using RSS, Orbital Decay tends to simply erase any craft from orbit (test launch on a 750 km polar orbit, both the satellite and the upper stage were deleted upon returning to the Space Center).\n\u003E \n\nThanks for that,\n\nOkay I am updating the mod now to work without the need for the Module, so KSPAPI shouldn\u0027t be a problem. As for RSS I will look into this too, 750km is well above the threshold that the mod uses for a \u0027Hard Atmosphere\u0027 which would cause vessels to be destroyed upon scene changes, maybe some new changes (since version 1.0.4 of this mod) to RSS/RO might have caused this. I will be looking into this thoroughly for 1.0.8 (Tonight possibly!).\n\nSorry for destroying anyones vessels!\n\nWhitecat106 ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)"},{"CreatedByName":"FiiZzioN","CreatedById":108954,"CreatedDateTime":"2016-03-27T12:03:21Z","Content":"Would there be any way to allow the area where we can choose different station keeping resources to be a bit bigger? The picture that I included shows how much of an issue it is to choose them. I also might just be a dunce and not know how to enlarge it.\n\n![AcmtXyL.png](https://i.imgur.com/AcmtXyL.png)\n\n**Edited \u003Ctime datetime=\u00222016-03-27T12:17:58Z\u0022 title=\u002203/27/2016 12:17  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 27, 2016\u003C/time\u003E by FiiZzioN**"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-27T20:01:50Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, FiiZzioN said:\n\u003E \n\u003E \n\u003E Would there be any way to allow the area where we can choose different station keeping resources to be a bit bigger? The picture that I included shows how much of an issue it is to choose them. I also might just be a dunce and not know how to enlarge it.\n\u003E \n\nI am increasing the size of this for 1.0.8 so not to worry!\n\nI have also addressed some major bugs in the RSS version, removed the station keeping module (abit redundant due to the UI) fixing issues with KSPAPI extensions and I am currently working towards fixing the RSS switch to-from vessel issues causing vessel deletions.\n\nBefore I release 1.0.8 I hope to have a more accurate RSS decay formula (based on a less \u0027kerbalised\u0027 orbital decay equation). But this will be done soon! If anyone is having issues with the mod in RSS currently, I would recommend switching back to 1.0.6 of this mod before I added greater resource variety or simply wait until this evening or tomorrow for 1.0.8. I will also be releasing 1.0.8 onto Ckan along with Historic Missions 1.9.0."},{"CreatedByName":"Phineas Freak","CreatedById":146521,"CreatedDateTime":"2016-03-27T21:03:18Z","Content":"Nice work!\n\nQuestion: how difficult would be to calculate the drag factor via the mass \u0026 area that a craft presents? As i understand, the current model only takes into account a hard-coded decay factor.\n\nOr maybe i am a bit ignorant and that the better model that you mentioned is exactly what i was asking..."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-27T21:20:00Z","Content":"\u003E \n\u003E \n\u003E 11 minutes ago, Phineas Freak said:\n\u003E \n\u003E \n\u003E Nice work!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Question: how difficult would be to calculate the drag factor via the mass \u0026 area that a craft presents? As i understand, the current model only takes into account a hard-coded decay factor.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Or maybe i am a bit ignorant and that the better model that you mentioned is exactly what i was asking...\n\u003E \n\nI am just about to test a new model which will be the realistic decay model, this uses information from [here](http://www.sws.bom.gov.au/Category/Educational/Space%20Weather/Space%20Weather%20Effects/SatelliteOrbitalDecayCalculations.pdf), and uses the drag factor via area and mass, although somewhat rudimentary since I am limited to the functions I can use with unloaded vessel and part information, at the moment I am thinking of using the KSP aerodynamic area of the root part \u002B- a balancing amount (since in real life a spacecraft would be orientated to reduce drag as much as possible), this seems as close to realistic as I can think of at the moment."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-28T18:21:36Z","Content":"Hello everyone,\n\nI have just released 1.0.8 which fixes the RSS crash on launch issues, fixes RSS resources and adjusts UI menus.\n\nSadly I am having great difficulty in implementing the new decay model (there is so little useful/accurate documentation on orbital decay online, hopefully I will get a chance to look at the information in the University library this week), hopefully I will release a 1.0.9 asap with more fixes (probably with rendezvous issues), UI additions, and with the new decay formula. (Currently I am thinking of using Orbital Energy formulas based on the Drag Force. 1.0.9 will also be on Ckan.\n\n    I was using the rate of change of Period to determine the Semi Major Axis at a certain atmospheric density, but the \u0027Kerbal\u0027 version of the Orbital Period does not seem to be the Mathematical version... (why am I not surprised?...) But anyway!\n\nEnjoy,\n\nWhitecat106 ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"the_pazter","CreatedById":153052,"CreatedDateTime":"2016-03-28T21:12:37Z","Content":"does Station Keeping take power then?"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-03-28T22:31:10Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, the\\_pazter said:\n\u003E \n\u003E \n\u003E does Station Keeping take power then?\n\u003E \n\nIt does not take power as in Electric Charge (since this would be constantly changing in the background), but it requires fuel such as Mono Propellant, Liquid Fuel or pretty much any other fuel (this is select-able in the Settings tab on the UI).\n\nStill working on the Decay Formulas, now for some reason these simple [Semi Major Axis - Energy formulas](https://en.wikipedia.org/wiki/Semi-major_axis)  fail to work in KSP. The orbital energy can be calculated from the Semi Major Axis but manipulating the orbital energies to get back to the SMA fails? If anyone has any suggestions; the code I currently have is included below.\n\nSpoiler\n\ndouble InitialSemiMajorAxis = VesselData.FetchSMA(vessel);\n                double GravitationalConstant = Math.Pow(6.674 * 10, -11);\n                Orbit orbit = vessel.orbitDriver.orbit;\n                CelestialBody body = orbit.referenceBody;\n                double InitialOrbitalVelocity = orbit.vel.magnitude;\n                double StandardGravitationalParameter = GravitationalConstant * (body.Mass \u002B VesselData.FetchMass(vessel));\n                double CartesianPositionVectorMagnitude = orbit.getRelativePositionAtT(Planetarium.GetUniversalTime()).magnitude;\n                double InitialOrbitalEnergy = (((InitialOrbitalVelocity * InitialOrbitalVelocity) / 2) - (StandardGravitationalParameter / CartesianPositionVectorMagnitude));\n    \n                double InitialDensity = body.atmDensityASL;\n                double BoltzmannConstant = Math.Pow(1.380 * 10, -23);\n                double AltitudeEquivalent = 0;\n                if (body.atmosphere)\n                {\n                    AltitudeEquivalent = InitialSemiMajorAxis - (body.Radius \u002B body.atmosphereDepth);\n                }\n                else\n                {\n                    AltitudeEquivalent = InitialSemiMajorAxis - (body.Radius);\n                }\n                double GravityASL = body.GeeASL;\n                double ParticleMass = Math.Pow(4.8079 * 10, -26);\n                double VesselArea = VesselData.FetchArea(vessel);\n                if (VesselArea == 0)\n                {\n                    VesselArea = 1;\n                }\n                double DistanceTravelled = InitialOrbitalVelocity;\n    \n                double AtmosphericDensity = Math.Pow(2.84 * 10, -10); // Will be formulated for each body. \n                \n                double DragForce = 0.5 * AtmosphericDensity * VesselArea * 2.2 * (InitialOrbitalVelocity * InitialOrbitalVelocity);\n                double DragWork = DragForce * InitialOrbitalVelocity;\n                double FinalOrbitalEnergy = InitialOrbitalEnergy - DragWork;\n                double FinalSemiMajorAxis = (StandardGravitationalParameter / (2 * FinalOrbitalEnergy));\n    \n                double CalSMA = (GravitationalConstant * body.Mass / (2 * (InitialOrbitalEnergy / Math.Pow(1*10, 9)))); // Energy in GJ? -- Nope? Peculiar...\n    \n                print(\u0022Vel \u0022 \u002B InitialOrbitalVelocity);\n                print(\u0022AtmosDensity \u0022 \u002B AtmosphericDensity);\n                print(\u0022DragForce \u0022 \u002B DragForce);\n                print(\u0022DragWork \u0022 \u002B DragWork);\n                print(\u0022InitialOrbitalEnergy\u0022 \u002B InitialOrbitalEnergy);\n                print(\u0022FinalOrbitalEnergy \u0022 \u002B FinalOrbitalEnergy);\n                print(\u0022Initial SMA \u0022 \u002B InitialSemiMajorAxis);\n                print(\u0022Final SMA \u0022 \u002B FinalSemiMajorAxis);\n                print(\u0022Cal SMA \u0022 \u002B CalSMA);"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-04-07T15:29:43Z","Content":"Hello everyone,\n\nI have just released 1.0.9, this fixes many bugs (including the blackscreen on startup bug), adds old style tracking station views (visually apparent decay in conics) and tweaks decay formulas to factor in vessel area and mass. This version has not been compiled for 1.1 (still on 1.0.5 here) but I believe everything should work fine, if anyone has any issues please let me know!\n\nNext up will be 1.1.0 this will include:\n\n- Adding toggled Realistic Decay Formulas and Predictions. Including Solar Radiation Pressure on all objects (Expect asteroids to decay into the sun in around 10000 years....!) - (Ready just needs some more testing!)  \n\n- Adding menu option to Update decay formulas every x no of seconds up to 500 to reduce lag in game.  \n\n- Adding batch Settings and VesselData fetches to limit fps drops (to around 24FPS) every x no of seconds (as above)  \n\n- Adding fuel efficiency and UI beautification.\n\n- And anything else anyone would like to suggest!\n\nWhitecat106 ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\n**Edited \u003Ctime datetime=\u00222016-04-07T15:30:01Z\u0022 title=\u002204/07/2016 03:30  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 7, 2016\u003C/time\u003E by Whitecat106**"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2016-04-07T18:18:21Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Whitecat106 said:\n\u003E \n\u003E \n\u003E Hello everyone,\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have just released 1.0.9, this fixes many bugs (including the blackscreen on startup bug), adds old style tracking station views (visually apparent decay in conics) and tweaks decay formulas to factor in vessel area and mass. This version has not been compiled for 1.1 (still on 1.0.5 here) but I believe everything should work fine, if anyone has any issues please let me know!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Next up will be 1.1.0 this will include:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E - Adding toggled Realistic Decay Formulas and Predictions. Including Solar Radiation Pressure on all objects (Expect asteroids to decay into the sun in around 10000 years....!) - (Ready just needs some more testing!)  \n\u003E \n\u003E - Adding menu option to Update decay formulas every x no of seconds up to 500 to reduce lag in game.  \n\u003E \n\u003E - Adding batch Settings and VesselData fetches to limit fps drops (to around 24FPS) every x no of seconds (as above)  \n\u003E \n\u003E - Adding fuel efficiency and UI beautification.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E - And anything else anyone would like to suggest!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Whitecat106 ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nIf 1.1.0 will still be for 1.0.5 I would be very grateful! Thanks [@Whitecat106](https://forum.kerbalspaceprogram.com/index.php?/profile/140086-whitecat106/) for continuing an awesome mod!"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-04-08T13:59:24Z","Content":"\u003E \n\u003E \n\u003E 19 hours ago, Svm420 said:\n\u003E \n\u003E \n\u003E If 1.1.0 will still be for 1.0.5 I would be very grateful! Thanks [@Whitecat106](https://forum.kerbalspaceprogram.com/index.php?/profile/140086-whitecat106/) for continuing an awesome mod!\n\u003E \n\nThank you! I don\u0027t think that KSP 1.1 has/will break anything so the mod should be compatible between both, but just incase there are changes, I will release a 1.1.0 on SpacePort compiled against 1.0.5 and a 1.1.1 compiled against KSP 1.1.\n\nStill working on some the decay formulas, at the moment the Realistic Decay Formula (Drag) works fine for altitudes between 225Km and 3000Km, but is somewhat too steep all round for example at low altitudes (A rate of 0.0102 m/s (SMA height) for 400km altitude, whereas a realistic drag rate at this height (experienced by the ISS) is around 0.0007716 m/s (altitude)). Shouldnt be too difficult to tweak this (Divide by 1000 here or there), however for altitudes lower than 225Km some major issues arise, the decay rate suddenly reduces and fluctuates... here is the code so far:\n\n    float AtmosphericDensity = (Mathf.Pow(1.020f * 10, 7) * Mathf.Pow((float)((EquivalentAltitude) / 1000), -7.172f)); // Kg/m^3 // \n    \n                        double MolecularMass = 27 - 0.0012 * ((EquivalentAltitude / 1000) - 200);\n    \n                        double DeltaPeriod = (3 * Math.PI * InitialSemiMajorAxis * AtmosphericDensity * ((VesselArea * 2.2) / MolecularMass)); // Unitless\n                        double InitialPeriod = orbit.period;\n                        double FinalPeriod = InitialPeriod - DeltaPeriod;\n    \n                        double FinalSemiMajorAxis = Math.Pow((Math.Pow(((double)FinalPeriod / (double)(2 * 3.14159265359)), (double)2)) * (double)StandardGravitationalParameter, ((double)1.0 / (double)3.0));\n    \n                        double DecayValue = InitialSemiMajorAxis - FinalSemiMajorAxis; \n\nThe issue is within the DeltaPeriod line, as semi major axis reaches a certain value, the MolecularMass, AtmosphericDensity and SMA all \u0027cancel out\u0027 reducing the DeltaPeriod to close to zero, this happens multiple times (most obviously at around 192Km and 222Km (probably again around 162Km))... it would be easier to describe with a graphical representation and intersections but I\u0027m far too lazy for that...\n\nAs for the radiation pressure drag, well this comes up with a nice \u002BInfinity meters when it should be around -3\\*10^-23 m... here\u0027s the code anyway:\n\n    double SolarEnergy = Math.Pow(3.86 * 10, (double)26); // W\n                    double SolarDistance = vessel.distanceToSun; // m\n                    double SolarConstant = 0;\n                    SolarConstant = SolarEnergy / (4 * Math.PI * Math.Pow((double)SolarDistance, (double)2.0)); // W/m^2\n                    double InitialSemiMajorAxis = VesselData.FetchSMA(vessel);\n                    double StandardGravitationalParameter = body.gravParameter;\n                    double MeanAngularVelocity = Math.Sqrt((double)StandardGravitationalParameter / (Math.Pow((double)InitialSemiMajorAxis, (double)3.0)));\n                    double SpeedOfLight = Math.Pow(3 * 10, (double)8); \n    \n                    double VesselArea = VesselData.FetchArea(vessel);\n                    if (VesselArea == 0)\n                        {\n                            VesselArea = 1;\n                        }\n    \n                    double VesselMass = VesselData.FetchMass(vessel);   // Kg\n                    if (VesselMass == 0)\n                        {\n                            VesselMass = 1;\n                        }\n    \n                    double VesselRadius = Math.Sqrt((double)VesselArea/(double)Math.PI);\n                    double ImmobileAccelleration = ((double)Math.PI * Math.Pow((double)VesselRadius, (double)2.0) * (double)SolarConstant) / ((double)VesselMass * (double)SpeedOfLight * Math.Pow((double)SolarDistance, (double)2.0));\n                    double ChangeInSemiMajorAxis = -(6 * Math.PI * ImmobileAccelleration * InitialSemiMajorAxis) / (MeanAngularVelocity * SpeedOfLight);\n                    double FinalSemiMajorAxis = InitialSemiMajorAxis \u002B ChangeInSemiMajorAxis;\n\n   If anyone has any suggestions please let me know.\n\nAs for everything else, I will be optimising the code for less lag in 1.1.0; it\u0027ll be annoying to code but its worth it! I have also noticed a bug in the vessel mass / aerodynamic area input (sometimes always being fixed at 1, and with the aerodynamic area never being calculated in the first place - (Ksp and the few things you can do whilst the vessel is inactive!))\n\nWhitecat106![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"}]}