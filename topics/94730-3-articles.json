{"TopicId":94730,"ForumId":34,"TopicTitle":"[1.0.4]Better Buoyancy v1.4 - obsolete as of 1.0.5; 7/29/15","CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2014-12-28T01:08:10Z","PageNum":3,"Articles":[{"CreatedByName":"Wjolcz","CreatedById":39636,"CreatedDateTime":"2014-12-30T23:19:49Z","Content":"\n\u003Cp\u003EHow come you aren\u0027t a dev yet? So many incredible, yet so simple mods from you.\u003C/p\u003E\n"},{"CreatedByName":"TeddyDD","CreatedById":28806,"CreatedDateTime":"2014-12-30T23:37:11Z","Content":"\n\u003Cp\u003EDamn it ferram4, every of your mods (excluding NEAR) is must have for my KSP install. Awsome \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"The Pink Ranger","CreatedById":116650,"CreatedDateTime":"2014-12-31T00:49:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Veeltch\u0022 data-cite=\u0022Veeltch\u0022\u003E\u003Cdiv\u003EHow come you aren\u0027t a dev yet? So many incredible, yet so simple mods from you.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYah. If he isn\u0027t behind this upcoming aero update then there\u0027s something wrong with their hiring process\u003C/p\u003E\n"},{"CreatedByName":"Hektos","CreatedById":84721,"CreatedDateTime":"2014-12-31T08:09:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EThat\u0027s something that \u003Cem\u003EFAR\u003C/em\u003E does, not BB. And if you\u0027re trying to go too fast with too draggy a part in the water, it will come apart.\u003Cp\u003EStick to using structural, non-fuel tank, non-wing parts though. Those tend to hold up better to aero-/hydro-dynamic forces. On the other hand, you could probably get away with using the other type if you keep the forces on it low by putting them in low-drag configurations. Build it like you would a plane, just designed for higher forces at lower speeds.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for all your help Ferram! I was finally able to get a boat put together \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/ZHAAxpa.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/ZHAAxpal.png\u0022 alt=\u0022ZHAAxpal.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"GigaG","CreatedById":8013,"CreatedDateTime":"2014-12-31T08:26:54Z","Content":"\n\u003Cp\u003EI don\u0027t personally use this mod, but I think it needs a name like FAR or NEAR has.\u003C/p\u003E\u003Cp\u003EHmm...\u003C/p\u003E\u003Cp\u003EFerram Hydrology Research (FHR)\u003C/p\u003E\u003Cp\u003EFerram Ocean Research (FOR)\u003C/p\u003E\u003Cp\u003EFerram\u0027s Lovely Oceanic Advancement Thing (FLOAT)\u003C/p\u003E\u003Cp\u003EFerram Floating Fix (F3/FFF)\u003C/p\u003E\u003Cp\u003ESome are bad, confusing, or just not catchy. Anybody else have better ideas?\u003C/p\u003E\n"},{"CreatedByName":"Axelord FTW","CreatedById":1896,"CreatedDateTime":"2014-12-31T08:36:49Z","Content":"\n\u003Cp\u003EFerram\u0027s Poseidon Wedgie (FPW) \u003C/p\u003E\u003Cp\u003EFerram\u0027s Continuously Genial Physics Mod, 3rd act (FCGPM3)\u003C/p\u003E\u003Cp\u003ENeptunian Physics Enabler (NPE)\u003C/p\u003E\u003Cp\u003EFerram\u0027s Ultimate Hydrophobia Kerbalizator (I am not typing that out, you get it)\u003C/p\u003E\u003Cp\u003EWater Enabling Transient (WET)\u003C/p\u003E\n"},{"CreatedByName":"theflyingfish","CreatedById":17741,"CreatedDateTime":"2014-12-31T09:23:17Z","Content":"\n\u003Cp\u003EIt should try to continue the \u0022near-far\u0022 acronym theme. How about...\u003C/p\u003E\u003Cp\u003EHydro Enhancement Research Experiment - HERE\u003C/p\u003E\u003Cp\u003ETechnology Helping Enable Realistic Engineering - THERE\u003C/p\u003E\u003Cp\u003ECalculated Lies Optimize Simple Experiments (or Calculating Lawyers Offer Silly Explanations) - CLOSE\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-12-31T11:08:57Z","Content":"\n\u003Cp\u003EContinental Landings Or Splash Escape\u003C/p\u003E\n"},{"CreatedByName":"TMPhoenix","CreatedById":133324,"CreatedDateTime":"2014-12-31T11:28:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022traver626\u0022 data-cite=\u0022traver626\u0022\u003E\u003Cdiv\u003EMy dude just sank to the ground during EVA in Kerbins Ocean. Dunno if it has something to do with this mod xD\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHad the same problem. Jeb slipped of a ladder and went into ragdoll in the water and slowly started to sink to the bottom. I don\u0027t know if this happens without this mod as well, but it\u0027s the first time I\u0027ve noticed it.\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2014-12-31T12:06:16Z","Content":"\n\u003Cp\u003EI\u0027m missing the splash FX (both sound \u0026amp; visual) too FWIW, other than that this is awesome \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EGNU/Linux x86_64, Damn, deleted my log. Will post another, later.\u003C/p\u003E\u003Cp\u003EI have since removed some extraneous mods, I\u0027ll see if it makes a difference (and a smaller logfile) \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EMy thoughts on CKAN are also... mixed \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-31T23:07:28Z\u0022 title=\u002212/31/2014 11:07  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 31, 2014\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Hektos","CreatedById":84721,"CreatedDateTime":"2014-12-31T22:30:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TMPhoenix\u0022 data-cite=\u0022TMPhoenix\u0022\u003E\u003Cdiv\u003EHad the same problem. Jeb slipped of a ladder and went into ragdoll in the water and slowly started to sink to the bottom. I don\u0027t know if this happens without this mod as well, but it\u0027s the first time I\u0027ve noticed it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis just happened to me as well. Completely lost control of poor Jeb. Luckily I was able to recover him while he was still \u0022falling\u0022.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2015-01-01T02:03:28Z","Content":"\n\u003Cp\u003ENo different acronyms!\u003C/p\u003E\u003Cp\u003EBB doubleplusgood. Goodthinkers bellyfeel BB. Ungood crimethinkers ungoodthink BB. Crimethinkers report to miniluv joycamp asap.\u003C/p\u003E\u003Cp\u003E(Yes, the entire acronym is the setup for a \u003Cem\u003ENineteen Eighty-Four\u003C/em\u003E reference. Yeah, I\u0027m weird.)\u003C/p\u003E\u003Cp\u003EAnyway. I might have fixed something related to the sinking Kerbals, which might be the cause of the EVA stuff not being applied properly if it tries to run on a null vessel / Kerbal before it gets to the one that was actually created. Github repo has a dll with the change, but I don\u0027t know if that\u0027s actually gonna fix it.\u003C/p\u003E\u003Cp\u003EI also need to add a maximum splashdown velocity sanity check, because it\u0027s come to my attention that ditching can be done at 150 m/s if you\u0027re crazy enough, and that\u0027s ridiculous.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2015-01-01T02:52:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EI also need to add a maximum splashdown velocity sanity check, because it\u0027s come to my attention that ditching can be done at 150 m/s if you\u0027re crazy enough, and that\u0027s ridiculous.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMach 0.44 into water? ouch. 40-50m/s is reasonable, though, isn\u0027t it?\u003C/p\u003E\u003Cp\u003EI\u0027ll check out the new dll once today\u0027s family stuff is done (New Year\u0027s in Japan is not a relaxing day, though I do very much like \u0022otosu\u0022, so it\u0027s worth it).\u003C/p\u003E\n"},{"CreatedByName":"TMS","CreatedById":57134,"CreatedDateTime":"2015-01-01T09:02:28Z","Content":"\n\u003Cp\u003EThis is a great mod. Makes powered splashdowns a more enticing prospect.\u003C/p\u003E\u003Cp\u003EAlso missing the splash and sound effect. Not that it\u0027s a bad thing. That stock splash sound is ridiculously loud.\u003C/p\u003E\n"},{"CreatedByName":"Joshwoo70","CreatedById":111345,"CreatedDateTime":"2015-01-01T09:31:47Z","Content":"\n\u003Cp\u003EDoes this work with near ferram?\u003C/p\u003E\u003Cp\u003Eso NEAR yet so FAR.(pun)\u003C/p\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2015-01-01T16:21:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EI also need to add a maximum splashdown velocity sanity check, because it\u0027s come to my attention that ditching can be done at 150 m/s if you\u0027re crazy enough, and that\u0027s ridiculous.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs that really so ridiculous? If the vertical velocity is less than, say, 2 m/s, I would think it\u0027s entirely reasonable to \u0022skip\u0022 off the surface of the water for an extended period of time... Water *is* softer and safer to land in than land at the same velocity in real life, and you can already land at 150 m/s on land in stock KSP...\u003C/p\u003E\u003Cp\u003EAlso, have you considered approaching Squad to get this mod added to stock for future versions of KSP? I *really* think that something needs to be done about the stock buoyancy system...\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n"},{"CreatedByName":"SilentWindOfDoom","CreatedById":71611,"CreatedDateTime":"2015-01-02T13:23:13Z","Content":"\n\u003Cp\u003EThis is pretty cool, I hated that ditching in the ocean was an automatic death sentence. It is still risky as all hell, but your kerbals have a chance at least. Thanks Ferram. Before this tweak I only managed it once, when i went \u0022screw it\u0022 and impacted the water so fast KSP glitched out.\u003C/p\u003E\u003Cp\u003EAs for your latest comment, I would implore you not to make BB too harsh. 150 m/s is too fast I agree, but in my opinion the cutoff shouldn\u0027t be much lower than say 90 m/s. That\u0027s still very fast, but I\u0027d say the nature of KSP means most aircraft are going to be high speed, low lift designs that can\u0027t really stay aloft below that speed, rendering BB a lot less useful.\u003C/p\u003E\u003Cp\u003EI have not yet had time to test it, but i\u0027m sure you know about the stock intake \u0022feature\u0022 that allows stuff to float even without BB, even if it is likely to get smashed when landing at speed. Will BB increase this effect? \u003C/p\u003E\u003Cp\u003EPre-BB Intake floaters:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/UUWGjbI.png?1\u0022 alt=\u0022UUWGjbI.png?1\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-02T13:34:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SilentWindOfDoom\u0022 data-cite=\u0022SilentWindOfDoom\u0022\u003E\u003Cdiv\u003EThis is pretty cool, I hated that ditching in the ocean was an automatic death sentence.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo be fair, that is just about what it is like in real life. The Hudson landing was nothing short of a miracle.\u003C/p\u003E\n"},{"CreatedByName":"SilentWindOfDoom","CreatedById":71611,"CreatedDateTime":"2015-01-02T13:42:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003ETo be fair, that is just about what it is like in real life. The Hudson landing was nothing short of a miracle.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh sure, but KSP tends to be a lot more forgiving, allowing much higher horizontal/vertical landing speeds on land, not to mention the impact tolerances of parts when things do get fouled up. BB balances the water to be in line with everything else, or so it would seem. Messing things up and then \u0022saving it\u0022 via crash landing or another stunt is one of the more enjoyable things about KSP for me, giving me a reason to design a rescue mission like seen above.\u003C/p\u003E\n"},{"CreatedByName":"_Augustus_","CreatedById":115084,"CreatedDateTime":"2015-01-03T14:52:56Z","Content":"\n\u003Cp\u003EWith Kopernicus planets with oceans installed this just gives noreferenceexceptions all the way. And I sink to the bottom.\u003C/p\u003E\n"},{"CreatedByName":"EladDv","CreatedById":118368,"CreatedDateTime":"2015-01-03T16:43:32Z","Content":"\n\u003Cp\u003Ei have some questions:\u003C/p\u003E\u003Cp\u003E1. dose it make stuff sink/float due to their buoyancy? (if not i would suggest making it with consistent density)\u003C/p\u003E\u003Cp\u003E2. will we still be able to have intakes as flotation devices?\u003C/p\u003E\u003Cp\u003E3. do you plan any future upgrades to the system/a more accurate mod?(like FAR and NEAR)\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2015-01-03T18:24:51Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@_Augustus_: \u003C/strong\u003EProblem on Kopernicus\u0027s / the planet pack\u0027s side then; why the hell do you have multiple planets with the same FlightGlobalsIndex? Are you deliberately trying to break things?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@EladDv: \u003C/strong\u003E1) *Points to name* Whadda you think bub?\u003C/p\u003E\u003Cp\u003E2) Try it.\u003C/p\u003E\u003Cp\u003E3) Why? There\u0027s not much to improve, and you only get numerical errors because the engine isn\u0027t set up for forces like that. Not worth it.\u003C/p\u003E\n"},{"CreatedByName":"NonWonderDog","CreatedById":10479,"CreatedDateTime":"2015-01-03T20:18:21Z","Content":"\n\u003Cp\u003EWell, you could add material density or porosity or similar fields to parts. Right now the truss parts are some of the most buoyant parts we have, even though they\u0027re mostly made of holes. Scaled to a realistic mass, they will literally rip splashed-down craft apart due to buoyancy forces. \u003C/p\u003E\u003Cp\u003E(I also cleared \u0022PhysicsSignificance=1\u0022 from every part using ModManager, so I don\u0027t know or really care what they do when they\u0027re physicsless.)\u003C/p\u003E\u003Cp\u003EIs there any rotational damping on splashed-down parts? Single parts often seem to spin infinitely in the water, and that might be worth looking at.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-03T20:23:37Z\u0022 title=\u002201/03/2015 08:23  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 3, 2015\u003C/time\u003E by NonWonderDog\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"_Augustus_","CreatedById":115084,"CreatedDateTime":"2015-01-03T20:21:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003E@_Augustus_: \u003C/strong\u003EProblem on Kopernicus\u0027s / the planet pack\u0027s side then; why the hell do you have multiple planets with the same FlightGlobalsIndex? Are you deliberately trying to break things?\u003Cp\u003E\u003Cstrong\u003E@EladDv: \u003C/strong\u003E1) *Points to name* Whadda you think bub?\u003C/p\u003E\u003Cp\u003E2) Try it.\u003C/p\u003E\u003Cp\u003E3) Why? There\u0027s not much to improve, and you only get numerical errors because the engine isn\u0027t set up for forces like that. Not worth it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey don\u0027t have the same flightglobalsindexes.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2015-01-03T20:47:51Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@NonWonderDog: \u003C/strong\u003ENot much I can do without needing a ton of part-specific data, which I really don\u0027t want to do, ever. That just causes issues when people show up later asking, \u0022Why does X not work the way I expected? Why does it need configs, I want it to work automagically!\u0022\u003C/p\u003E\u003Cp\u003EDamping on splashed-down parts should be approximately what it is in the air. Dunno why they\u0027re spinning so much.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@_Augustus_: \u003C/strong\u003EFine, let me walk you through the \u003Ca href=\u0022https://github.com/ferram4/BetterBuoyancy/blob/master/BetterBuoyancy/BBPlanetDensity.cs\u0022 rel=\u0022external nofollow\u0022\u003Ecode\u003C/a\u003E then:\u003C/p\u003E\u003Cp\u003EBB stores water densities in a Dictionary that associates an integer (the FlightGlobalsIndex) with a double (the water density). The first time a density calculation is called, it loads data from a config to get densities associated with each FlightGlobalsIndex. Once that\u0027s done, it goes through all of the bodies that exist to make sure it got them all, adding them to the Dictionary. There can be no repeats here, because the dictionary cannot handle repeat indices.\u003C/p\u003E\u003Cp\u003EAfter that, the BB module uses that in flight to find the appropriate density for each body. There are only three possibilities here:\u003C/p\u003E\u003Cp\u003E1) You\u0027ve got multiple bodies using the same FlightGlobals index, which breaks the Dictionary.\u003C/p\u003E\u003Cp\u003E2) You\u0027ve got bodies that have different FlightGlobalsIndices than the _actual_ index they use, in which case, your Kopernicus code is doing something damn funky and needs to be fixed; I\u0027m sure you\u0027ll get on that right now, you are, after all, the main coder for that, right?\u003C/p\u003E\u003Cp\u003E3) The bodies don\u0027t exist early in flight, in which case, Kopernicus is heavily broken and they should exist as soon as the Space Center Scene loads.\u003C/p\u003E\u003Cp\u003ENothing I can do, problem is on your end.\u003C/p\u003E\n"}]}