{"TopicId":122440,"ForumId":29,"TopicTitle":"Aggressive persistent.sfs editing","CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2015-10-06T16:03:40Z","PageNum":1,"Articles":[{"CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2015-10-06T16:03:40Z","Content":"\n\u003Cp\u003EI\u0027m looking at doing some... aggressive persistant.sfs editing. I\u0027m pushing things hard enough that welding (UbioZur Welding Ltd. Continued 2.2.0) and hyperedit (HyperEdit [v1.4.1]) are failing me... at least as I\u0027m using the tool set.\u003C/p\u003E\u003Cp\u003ESo I\u0027m going to alter the very fabric of kerbal-verse. \u0026lt;evil laugh\u0026gt; I figure this would be the best place to ask my questions.\u003C/p\u003E\u003Cp\u003EThe plan:\u003C/p\u003E\u003Cp\u003E1. launch a marker probe to required location\u003C/p\u003E\u003Cp\u003E2. use the marker probe data as a prototype, extracting orbit info, launchid, mid, thermal data, etc.\u003C/p\u003E\u003Cp\u003E3. rebuild the module segments in the craft file to match persistant format, change attn. names to numbers, insert additional information from the prototype in step 2, etc.\u003C/p\u003E\u003Cp\u003E4. paste and save\u003C/p\u003E\u003Cp\u003E5. ???\u003C/p\u003E\u003Cp\u003E6. prof^H^H^H^H kraken bait\u003C/p\u003E\u003Cp\u003EMost of the stuff in the vessel section I can make some sense of. But I do have some questions:\u003C/p\u003E\u003Cp\u003E- uid appears to be a random 8 hex-digit number. Is it based on anything or can I get away with an old fashioned rnd invocation?\u003C/p\u003E\u003Cp\u003E- -1 in srfN and attn. appear to be nothing attached to the node. Correct?\u003C/p\u003E\u003Cp\u003E- does the order of items matter? for example craft file goes istg, dstg, sidx, spor, sepl, attm. but the persistant.sfs goes istg, dstg, spor, sepl, sidx, attm. unless sidx has two different meanings\u003C/p\u003E\u003Cp\u003E- is rotation in persistant the same as rot in craft or is it attRot0? similar for position. is it attPos0 or pos-pos of the root?\u003C/p\u003E\u003Cp\u003Eof course all of that having been said, am I replicating the wheel?\u003C/p\u003E\n"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2015-10-07T16:00:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022steuben\u0022 data-cite=\u0022steuben\u0022\u003E\u003Cdiv\u003EMost of the stuff in the vessel section I can make some sense of. But I do have some questions:\u003Cp\u003E- uid appears to be a random 8 hex-digit number. Is it based on anything or can I get away with an old fashioned rnd invocation?\u003C/p\u003E\u003Cp\u003E- -1 in srfN and attn. appear to be nothing attached to the node. Correct?\u003C/p\u003E\u003Cp\u003E- does the order of items matter? for example craft file goes istg, dstg, sidx, spor, sepl, attm. but the persistant.sfs goes istg, dstg, spor, sepl, sidx, attm. unless sidx has two different meanings\u003C/p\u003E\u003Cp\u003E- is rotation in persistant the same as rot in craft or is it attRot0? similar for position. is it attPos0 or pos-pos of the root?\u003C/p\u003E\u003Cp\u003Eof course all of that having been said, am I replicating the wheel?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003Eyes, the UID is random, its a \u003Ca href=\u0022https://en.wikipedia.org/wiki/Globally_unique_identifier\u0022 rel=\u0022external nofollow\u0022\u003EGuid\u003C/a\u003E. As long as there are no duplicate UID\u0027s in your persistence file, you should be fine.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Enot sure\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eno, the order does not matter\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eno idea\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-10-07T16:59:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrHappyFace\u0022 data-cite=\u0022MrHappyFace\u0022\u003E\u003Cdiv\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eyes, the UID is random, its a \u003C/span\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Globally_unique_identifier\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EGuid\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003E. As long as there are no duplicate UID\u0027s in your persistence file, you should be fine.\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Enot sure\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eno, the order does not matter\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eno idea\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot quite. The Part UID is a uint, the Vessel ID is a GUID. But yes, a random number works for the part UID.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"steuben","CreatedById":77368,"CreatedDateTime":"2015-10-07T21:36:32Z","Content":"\n\u003Cp\u003Ei figured the uid was some form of a guid.\u003C/p\u003E\u003Cp\u003Eokay that\u0027s two questions off the list.\u003C/p\u003E\u003Cp\u003Eso\u003C/p\u003E\u003Cp\u003Estep 3.1 scan p.sfs and list all uids. generate unique uids for all parts, range 10000000h to FFFFFFFFh.\u003C/p\u003E\u003Cp\u003Estep 3.2 hope ksp checks the list before it generates a new one.\u003C/p\u003E\u003Cp\u003E--------------------\u003C/p\u003E\u003Cp\u003Elooking again at one of the attPos0 in the marker craft file. it looks like position is just relative to the root part... unless there is deeper mathamagic going on than I can see.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-08T12:38:24Z\u0022 title=\u002210/08/2015 12:38  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 8, 2015\u003C/time\u003E by steuben\u003C/strong\u003E\n\u003C/span\u003E\n"}]}