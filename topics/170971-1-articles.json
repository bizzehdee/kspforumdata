{"TopicId":170971,"ForumId":16,"TopicTitle":"kOS - can not set SASMODE / Staging routine does not work","CreatedByName":"Whateverest","CreatedById":139871,"CreatedDateTime":"2018-02-16T11:45:40Z","PageNum":1,"Articles":[{"CreatedByName":"Whateverest","CreatedById":139871,"CreatedDateTime":"2018-02-16T11:45:40Z","Content":"\n\u003Cp\u003E\nHey everybody,\n\u003C/p\u003E\n\u003Cp\u003E\nI could use some help with my kOS script, because I can not find my error. I play 1.2.2 with \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E (no remote tech and remote tech.cfg removed from \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E) and kOS 1.1.5.1.\n\u003C/p\u003E\n\u003Cp\u003E\nMy script describes a gravity turn. Steering up until a certain speed, pitching down by 10 degrees and waiting until pitch is aligned with srfprograde pitch.\n\u003C/p\u003E\n\u003Cp\u003E\nThen\u00A0trouble begins: I unlock the steering to avoid the use of \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E with LOCK. I turn on \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E. I wait 0.01. And Im trying to SET SASMODE TO \u0022SRFPROGRADE\u0022. But nothing changes. I\u00B4m unable to change the SASMODE.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso I use a function to automatically stage each time the SHIP:MAXTHRUST is less than 0.2. But upon flameout it won\u0060t stage. Could someone please check, if my following script is the problem? The part, where I think the trouble is located is marked by red letters.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks very much!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSET FlexPitch TO 0.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// for Periapsis function\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK THROTTLE TO 1.\u003Cbr\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E OFF.\u003Cbr\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E OFF.\u003Cbr\u003E\nLOCK STEERING TO UP.\n\u003C/p\u003E\n\u003Cp\u003E\nSTAGE.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Main Engine ignition\u003Cbr\u003E\nWAIT 3.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Main Engine run up time\u003Cbr\u003E\nSTAGE.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Booster ignition \u002B launch clamps\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nWAIT UNTIL SHIP:VELOCITY:SURFACE:MAG \u0026gt; 40.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// vertical speed for gravity turn\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK STEERING TO HEADING (90,80).\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Gravity turn pitching down 10 degrees\u003Cbr\u003E\nWAIT UNTIL (90 - VANG(ship:up:vector, ship:srfprograde:vector)) \u0026lt; 80.\u00A0\u00A0 \u00A0// wait until sfrprograde pitch is less then 80 degrees.\u00A0\u00A0 \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUNLOCK STEERING.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// to prevent use of \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E with LOCK\u003Cbr\u003E\u003Cspan style=\u0022color:#e74c3c;\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E ON.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E stability assist mode\u003Cbr\u003E\nWAIT 0.01. \u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// thought this would help with the next line\u003Cbr\u003E\nSET SASMODE TO srfPROGRADE.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// supposed to set \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E to srfprograde but does not work\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Cspan style=\u0022color:#e74c3c;\u0022\u003EUNTIL APOAPSIS {\u00A0\u00A0 \u00A0IF SHIP:MAXTHRUST \u0026lt; 0.2 \u00A0 \u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// if the thrust decreases the stage is burnt out\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u00A0\u00A0 \u00A0STAGE.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// decouples empty stage, activates retros, activates next engine\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SET SASMODE TO PROGRADE.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// switching from surface to orbital prograde\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ELSE { WAIT 1. }.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// to avoid kOS doing too many calculations\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E off.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// because I will use LOCK from now on until circularized\u003Cbr\u003E\nLOCK STEERING TO HEADING(90, FlexPitch).\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// FlexPitch is 0 for now\u003Cbr\u003E\nUNTIL SHIP:PERIAPSIS \u0026gt; 140000 { \u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Function pitches up or down, depending on vert speed\u003Cbr\u003E\n\u00A0\u00A0 \u00A0IF SHIP:PERIAPSIS \u0026gt; 132000 SET FlexPitch to 0. \u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// to keep vessel at around apoapsis altitude\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ELSE IF SHIP:VELOCITY:ORBIT:MAG \u0026lt; -50 SET FlexPitch TO 15.\u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ELSE IF SHIP:VELOCITY:ORBIT:MAG \u0026gt; -50 SET FlexPitch TO\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0(SHIP:VELOCITY:ORBIT:MAG / (-4)).\u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}.\u003Cbr\u003E\n}\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// no idea why this curly bracket has to be here, but it works only with it\u003Cbr\u003E\nLOCK THROTTLE TO 0.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// throttle idle\u003Cbr\u003E\nUNLOCK STEERING.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// unlocks the steering\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-02-16T17:51:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223296506\u0022 data-ipsquote-contentid=\u0022170971\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518781540\u0022 data-ipsquote-userid=\u0022139871\u0022 data-ipsquote-username=\u0022Whateverest\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Whateverest said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnd Im trying to SET SASMODE TO \u0022SRFPROGRADE\u0022\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTry \u0022PROGRADE\u0022 instead. Though it\u0027s up to you (as the player, not script writer) to ensure the navball is in surface mode.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: remember the SASMODE is just replicating the user interface to the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E options to the left of the navball. You can only pick values KSP knows about.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ksp-kos.github.io/KOS/commands/flight/systems.html?highlight=sasmode\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS/commands/flight/systems.html?highlight=sasmode\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-02-16T18:15:47Z\u0022 title=\u002202/16/2018 06:15  PM\u0022 data-short=\u00226 yr\u0022\u003EFebruary 16, 2018\u003C/time\u003E by ElWanderer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-02-16T18:14:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223296506\u0022 data-ipsquote-contentid=\u0022170971\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518781540\u0022 data-ipsquote-userid=\u0022139871\u0022 data-ipsquote-username=\u0022Whateverest\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Whateverest said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUNTIL APOAPSIS {\u00A0\u00A0 \u00A0IF SHIP:MAXTHRUST \u0026lt; 0.2 \u00A0 \u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// if the thrust decreases the stage is burnt out\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u00A0\u00A0 \u00A0STAGE.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// decouples empty stage, activates retros, activates next engine\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SET SASMODE TO PROGRADE.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// switching from surface to orbital prograde\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ELSE { WAIT 1. }.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// to avoid kOS doing too many calculations\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis section seems to be missing a closing curly bracket, so your \u0022UNTIL APOAPSIS\u0022 (does that have a greater than comparison, or did it get eaten?) loop encompasses the rest of your script, down to your comment about having to add a curly bracket in. That probably means it won\u0027t work as expected.\n\u003C/p\u003E\n"},{"CreatedByName":"Whateverest","CreatedById":139871,"CreatedDateTime":"2018-02-16T21:23:01Z","Content":"\n\u003Cp\u003E\nThanks for your answers!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223296718\u0022 data-ipsquote-contentid=\u0022170971\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518803462\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTry \u0022PROGRADE\u0022 instead. Though it\u0027s up to you (as the player, not script writer) to ensure the navball is in surface mode.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: remember the SASMODE is just replicating the user interface to the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E options to the left of the navball. You can only pick values KSP knows about.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ksp-kos.github.io/KOS/commands/flight/systems.html?highlight=sasmode\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS/commands/flight/systems.html?highlight=sasmode\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI tried to change it to: SET SASMODE TO \u0022PROGRADE\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nkOS complains about the \u0022unexpected quotation marks\u0022. When I change the script to SET SASMODE TO PROGRADE. and leave them away,\u00A0then it is accepted. But when the script runs it does not change the sasmode... When I enter the command during flight \u003Cstrong\u003E\u003Cu\u003Ewith\u003C/u\u003E \u003C/strong\u003Ethe quotation marks it works. Maybe the problem could be, that upon launch \u00A0-when checking the script- there is no prograde selection available when you turn on the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E. srfprograde becomes of course only available when the ship moves.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd just below the link you sent, there is a way to change the navball setting by using SET NAVMODE TO \u003Cem\u003Evalue\u003C/em\u003E. \u00A0So thanks for pointing me at that.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223296737\u0022 data-ipsquote-contentid=\u0022170971\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518804856\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis section seems to be missing a closing curly bracket, so your \u0022UNTIL APOAPSIS\u0022 (does that have a greater than comparison, or did it get eaten?) loop encompasses the rest of your script, down to your comment about having to add a curly bracket in. That probably means it won\u0027t work as expected.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI changed that. You\u00B4re right, I missed a value as a reference (hope this makes sense to you, I\u00B4m German). Here is the new passage, changes in red:\n\u003C/p\u003E\n\u003Cp\u003E\nUNLOCK STEERING.\u003Cbr\u003E\u003Cspan style=\u0022color:#e74c3c;\u0022\u003EWAIT 0.01.\u003C/span\u003E\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E ON.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\nWAIT 1. \u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\u003Cspan style=\u0022color:#e74c3c;\u0022\u003ESET SASMODE TO prograde.\u003C/span\u003E\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nUNTIL \u003Cspan style=\u0022color:#e74c3c;\u0022\u003ESHIP:ALTITUDE \u0026gt; (SHIP:APOAPSIS - 1000) \u003C/span\u003E{\u00A0\u00A0 \u00A0IF SHIP:MAXTHRUST \u0026lt; 0.2 \u00A0 \u00A0 \u00A0 \u00A0 // An altitude close to Apoapsis \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u00A0\u00A0 \u00A0STAGE.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SET SASMODE TO PROGRADE.\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ELSE { WAIT 1. }.\u003Cbr\u003E\n}\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Whateverest","CreatedById":139871,"CreatedDateTime":"2018-02-16T21:40:55Z","Content":"\n\u003Cp\u003E\nAnd how about that: I wrote a little test script. Setting the navball to \u0022orbit\u0022, then turn on the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E, then reset navball\u00A0to \u0022surface\u0022 and then you can set the sasmode to \u0022Prograde\u0022 - and you get srfprograde.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0060t know why, but this workaround seems to do the job...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK THROTTLE TO 1. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 // ...\u003Cbr\u003E\nLOCK STEERING TO UP. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0// ...\u003Cbr\u003E\nSTAGE. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0// Main engine start\u003Cbr\u003E\nWAIT 3. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0// Main engine run up\u003Cbr\u003E\nSTAGE. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0// actual lift off.\u003Cbr\u003E\nWAIT 5. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 // gain speed\u003Cbr\u003E\nSET NAVMODE TO \u0022Orbit\u0022.\u003Cbr\u003E\nUNLOCK STEERING.\u003Cbr\u003E\nWAIT 0.5. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0// so \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E has time to recognize navball change\u003Cbr\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on.\u003Cbr\u003E\nSET NAVMODE TO \u0022Surface\u0022.\u003Cbr\u003E\nWAIT 1. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0// so \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E has time to recognize navball change\u003Cbr\u003E\nSET SASMODE TO \u0022Prograde\u0022.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-02-16T22:44:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223296923\u0022 data-ipsquote-contentid=\u0022170971\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518816181\u0022 data-ipsquote-userid=\u0022139871\u0022 data-ipsquote-username=\u0022Whateverest\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Whateverest said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthere is a way to change the navball setting by using SET NAVMODE TO \u003Cem\u003Evalue\u003C/em\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, I didn\u0027t know that! \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223296948\u0022 data-ipsquote-contentid=\u0022170971\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518817255\u0022 data-ipsquote-userid=\u0022139871\u0022 data-ipsquote-username=\u0022Whateverest\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n57 minutes ago, Whateverest said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUNLOCK STEERING.\u003Cbr\u003E\nWAIT 0.5. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0// so \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E has time to recognize navball change\u003Cbr\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on.\u003Cbr\u003E\nSET NAVMODE TO \u0022Surface\u0022.\u003Cbr\u003E\nWAIT 1. \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0\u00A0// so \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E has time to recognize navball change\u003Cbr\u003E\nSET SASMODE TO \u0022Prograde\u0022.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe waits here could probably be just one tick (WAIT 0).\n\u003C/p\u003E\n\u003Cp\u003E\nAlternatively, you could use the kOS steering to follow prograde instead of \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E:\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK STEERING TO SRFPROGRADE.\n\u003C/p\u003E\n\u003Cp\u003E\nor\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK STEERING TO LOOKDIRUP(SRFPROGRADE:VECTOR, FACING:TOPVECTOR).\n\u003C/p\u003E\n\u003Cp\u003E\nThe first of those will roll to\u00A0keep the ship\u0027s \u0022top\u0022 facing upwards; the second of those will prevent that. It depends on what you\u0027re launching as to which is better.\n\u003C/p\u003E\n"}]}