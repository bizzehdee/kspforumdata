{"TopicId":47120,"ForumId":34,"TopicTitle":"Astrodynamics Support System for kOS","CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-01T22:18:49Z","PageNum":1,"Articles":[{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-01T22:18:49Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EComing soon!\u003C/strong\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EFrom \u003Cspan style=\u0022text-decoration:underline;\u0022\u003EKerbal Integrated Circuit Kompany\u003C/span\u003E comes the \u003Cstrong\u003EAstrodynamics Support System\u003C/strong\u003E. The Astrodynamics Support System provides new functions for kOS, including allowing developers to create and remove maneuver nodes programatically. Included are several new kOS parts, including a radial version.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo far, I\u0027ve written the code that lets kOS scripts create and remove maneuver nodes, and calculate delta-v vectors based on prograde/normal/radial values of delta-v. This would be the equivalent of adding them manually in the map or in MechJeb.\u003C/p\u003E\u003Cp\u003EI\u0027m going to add \u003Ca href=\u0022https://en.wikipedia.org/wiki/Saturn_V_Instrument_Unit\u0022 rel=\u0022external nofollow\u0022\u003ESaturn V Instrument Unit\u003C/a\u003E-style ring parts in all the appropriate sizes and at least one radial part, each including at least one kOS computer (sometimes I use two), and possibly an accelerometer, gravimeter, barometer, and thermometer. If I include the sensors, my \u003Ca href=\u0022http://kerbalspaceprogram.com/sensor-reporter-kos/\u0022 rel=\u0022external nofollow\u0022\u003ESensor Reporter\u003C/a\u003E will be included in this project.\u003C/p\u003E\u003Cp\u003EIf there is anything else that you think you might want that cannot be done directly with kOS, please let me know, and I\u0027ll be happy to look into it.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EOfficial first release features:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E - Compatibility with kOS 0.7\u003C/p\u003E\u003Cp\u003E - Create and remove maneuver nodes.\u003C/p\u003E\u003Cp\u003E - Target celestial bodies (planets, moons, the Sun).\u003C/p\u003E\u003Cp\u003E - Get phase angles on celestial targets.\u003C/p\u003E\u003Cp\u003E - Four parts (1.25m, 2.5m, 3.75m, and 5m), each containing one of each sensor and a kOS computer.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-12T08:16:58Z\u0022 title=\u002210/12/2013 08:16  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 12, 2013\u003C/time\u003E by woodywood245\u003C/strong\u003E\n\u003Cbr\u003EAdded official features list\n\u003C/span\u003E\n"},{"CreatedByName":"theSpeare","CreatedById":62144,"CreatedDateTime":"2013-10-02T02:07:38Z","Content":"\n\u003Cp\u003EPlease add something that lets us target Moons or Planets automatically. At the same time automatic maneuver nodes for interplanetary transfers would be great.\u003C/p\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-02T02:22:23Z","Content":"\n\u003Cp\u003EI will definitely try to add code that will allow you to target bodies. That shouldn\u0027t be too difficult.\u003C/p\u003E\u003Cp\u003EInterplanetary transfers is a different story. I\u0027m not quite sure about the math for doing that, so that may have to be in a future release, but I will definitely keep it in mind.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-10-02T02:59:17Z","Content":"\n\u003Cp\u003EThere\u0027s a certain point at which if too many features are added to KOS it becomes just mechjeb. Right now there is a VERY important difference between mechjeb and KOS, and that is that KOS makes you write your own autopilot rather than giving you a working one out of the box that someone else wrote for you.\u003C/p\u003E\u003Cp\u003EI like getting information on the positions of planets so I can calculate intelligently when to perform transfer burns. I\u0027m not so sure I like just being handed the transfer burn predeclared on a silver platter though. Giving us more access to the game\u0027s data than KOS gives is good, but making decisions for us sort of takes away the point of using KOS over using mechjeb.\u003C/p\u003E\n"},{"CreatedByName":"theSpeare","CreatedById":62144,"CreatedDateTime":"2013-10-02T03:08:08Z","Content":"\n\u003Cp\u003EPersonally I would like to use kOS in a way like autom8. Right now I\u0027ve written all my own scripts for launch, landing and such. Now I just need a transfer capability so I can do a fully automated launch to land on Duna Curiosity rover mission.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-02T03:22:07Z","Content":"\n\u003Cp\u003EAnd I would like to use kOS like Mission Control. So being able to plot maneuvers using MC\u0027s supercomputers, then having it show up on the tracking screen, then sending the code to the probe...sounds good to me!\u003C/p\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-02T03:51:34Z","Content":"\n\u003Cp\u003EI definitely don\u0027t want to go too far towards the MechJeb path, and I\u0027m looking more towards being able to expose game data and do certain things that kOS simply cannot do that can be done manually (like creating maneuver nodes). However, if you know enough of the math, or you borrow someone else\u0027s scripts, it will be possible to automate your entire system like Autom8, the only problem is you actually have to write your own scripts. But for right now, that\u0027s not really the goal of this plugin. It\u0027s more to provide additional tools for writing scripts.\u003C/p\u003E\u003Cp\u003EMaybe I\u0027ll write a more extensive plugin that does a similar job as Autom8, but that isn\u0027t the goal of this one. However, I will keep it in mind. I too liked Autom8.\u003C/p\u003E\u003Cp\u003EAs far as the Mission Control idea, what kind of interface and workflow are you thinking of?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-02T03:54:47Z","Content":"\n\u003Cp\u003EI was trying to show that the current map-view interface _is_ very much like what Mission Control would have. As a counter to the \u0022it\u0027s doing too much!\u0022 thing.\u003C/p\u003E\u003Cp\u003EEvery time I ask MJ to create a maneuver node I imagine I\u0027m telling the plotting team to calculate my intercept on the Cray, and when I hit execute...etc.\u003C/p\u003E\u003Cp\u003EI\u0027d much rather do that through kOS. Even closer to real life.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-10-02T05:57:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022woodywood245\u0022 data-cite=\u0022woodywood245\u0022\u003E\u003Cdiv\u003EI definitely don\u0027t want to go too far towards the MechJeb path, and I\u0027m looking more towards being able to expose game data and do certain things that kOS simply cannot do that can be done manually (like creating maneuver nodes).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMaking them is cool. I was worried about the idea of making them \u0022automatically\u0022. Giving me the ability to write KOS code that lets ME set maneuver nodes *I* calculated is great. I was worried because I thought the goal was to find a way to let the mod calculate it INSTEAD of me. \u003C/p\u003E\u003Cp\u003EWhat makes KOS so great is it lets me make my autopilot instead of somebody else\u0027s autopilot.\u003C/p\u003E\u003Cp\u003EMechjeb would appeal to me a lot more if I was the one who wrote it. Since I\u0027m not, it feels like I\u0027m abdicating part of the game to someone else to play it for me.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-02T06:05:21Z\u0022 title=\u002210/02/2013 06:05  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 2, 2013\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-02T06:05:14Z","Content":"\n\u003Cp\u003EIt would require the user to enter a start time and a 3D vector representing delta-v. The vector can be calculated using another function I\u0027m putting in here that takes prograde, normal, and radial values (or their opposites, as negatives), and it will return the appropriate vector. I\u0027m not sure yet if the kOS V(x,y,z) structure is equivilent to a Vector3d object, so I will be working on that.\u003C/p\u003E\u003Cp\u003EBut essentially, it would be the same as going into map mode and creating a node, then pushing and pulling the delta-v markers around on the gizmo, or using the Edit Node (I think that\u0027s what it\u0027s called) option in MechJeb. You have to set all the parameters to make it work, which means you have to calculate all the parameters yourself in your script.\u003C/p\u003E\n"},{"CreatedByName":"MK3424","CreatedById":19932,"CreatedDateTime":"2013-10-02T10:13:19Z","Content":"\n\u003Cp\u003EI would love to see this on ksp but i wonder if it\u0027s possible to ever implement the actual AGC (Apollo Guidance Computer) into the game usin kOS.\u003C/p\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2013-10-02T11:26:48Z","Content":"\n\u003Cp\u003EIn order to execute maneuver node, we need to be able to get its\u0027 attitude vector (or, better yet, ability to \u0022lock\u0022 onto it), and either a command for engines to execute X m/s burn (like it is in RL spacecraft like Soyuz), or expose more information about spacecraft propulsion system to script (at very minimum, current/max thrust and Isp), so that we would be able to write a script for that.\u003C/p\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-10-02T13:01:58Z","Content":"\n\u003Cp\u003EkOS already lets you get the direction, magnitude, and eta of a maneuver node. If we can create nodes in kOS, then it allows planning and execution to be decoupled.\u003C/p\u003E\u003Cp\u003EEdit: Sorry to be a wet blanket, but there\u0027s a different forum for mods in development without a release yet.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-10-03T07:12:52Z","Content":"\n\u003Cp\u003EAll a maneuver node is is a direction, a location or time at which to do it, and a delta-V magnitude. The other information you see in the user interface is derived from that (like how many seconds it thinks you\u0027ll burn - that\u0027s not stored in the node, It\u0027s calculated based on your current active engines, current mass, and estimate of how fast that mass will change as you burn given your ISP.) \u003C/p\u003E\u003Cp\u003EI figure all you need to do to add maneuver node setting to KOS is make a routine that lets you pass in a vector and a number of seconds into the future at which to do it. The vector gives you both a direction and a magnitude, and in this case the magnitude is the delta-V you want from the maneuver. The seconds would let you specify where the burn happens (it happens at where I\u0027ll be in N number of seconds from now).\u003C/p\u003E\u003Cp\u003EI\u0027m in the middle of looking at the github code on KOS to see if I can add some of the functionality that I currently have as side scripts that I really think is basic and missing, like letting the script writer seamlessly translate vectors into directions and visa versa. You shouldn\u0027t be having to resort to running the matrix algebra in KOS script (like I am now) to perform transformation rotations just because the language is missing the ability to do things like cast a direction into a unit vector.\u003C/p\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-03T15:57:18Z","Content":"\n\u003Cp\u003EA preliminary release for the maneuver node portion of the system will hopefully be released today after some more testing and debugging. It will allow you to create maneuver nodes only.\u003C/p\u003E\u003Cp\u003EManeuver nodes will be created by using the function node:create(), which takes four parameters: mission time of execution (in seconds), and prograde, normal, and radial delta-v values.\u003C/p\u003E\u003Cp\u003EI want to get the initial release out there right away because it is part-independent, and I know this is something that a lot of people probably want. I still have some things to work out regarding tracking maneuver nodes and being able to remove them at the appropriate times. If all goes well, a full first release, with parts, should occur in less than a week.\u003C/p\u003E\u003Cp\u003EIf it takes longer, I apologize. I\u0027m a college student so obviously school comes first, but this project is important to me also.\u003C/p\u003E\u003Cp\u003EEdit: I just had a sudden inspiration regarding tracking nodes for removal. Instead of having node:create() return an index, I\u0027m going to have it return a hash value as its tracking value. In the event that a node is executed, the node will be removed from internal tracking, and later nodes will change index but not tracking value. If this idea works out (which it ought to, I\u0027ve done something like this before), node removal will be available in the initial release.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-03T16:06:39Z\u0022 title=\u002210/03/2013 04:06  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 3, 2013\u003C/time\u003E by woodywood245\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-03T19:10:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MK3424\u0022 data-cite=\u0022MK3424\u0022\u003E\u003Cdiv\u003EI would love to see this on ksp but i wonder if it\u0027s possible to ever implement the actual AGC (Apollo Guidance Computer) into the game usin kOS.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt would be possible, but also a bit of a pain to use (how many people around here know how to read octal?)\u003C/p\u003E\u003Cp\u003EIt\u0027s been something I\u0027ve thought about for a long time though. Even if I wanted to work on it, I wouldn\u0027t be able to until the government shutdown is over. The NASA site is down for right now, so I can\u0027t get access to any of the official AGC docs.\u003C/p\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-06T00:45:31Z","Content":"\n\u003Cp\u003EWell, it seems, from changes to the docs, that adding and removing maneuver nodes is coming in kOS natively, possibly soon. So the question is, does anyone still want me to develop this? The initial release was due tonight, after I finish the last bit of testing. If you\u0027d still like me to release this, then I will. If I don\u0027t hear anything, I will assume \u0022yes\u0022 and I will release it anyway.\u003C/p\u003E\u003Cp\u003EBy the way, my initial release will come with the Sensor Reporter and 1.25m, 2.5m, 3.75m, and 5m parts, each with one kOS computer, all of the sensors, a little bit of power.\u003C/p\u003E\n"},{"CreatedByName":"MK3424","CreatedById":19932,"CreatedDateTime":"2013-10-06T01:33:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022woodywood245\u0022 data-cite=\u0022woodywood245\u0022\u003E\u003Cdiv\u003EIt would be possible, but also a bit of a pain to use (how many people around here know how to read octal?)\u003Cp\u003EIt\u0027s been something I\u0027ve thought about for a long time though. Even if I wanted to work on it, I wouldn\u0027t be able to until the government shutdown is over. The NASA site is down for right now, so I can\u0027t get access to any of the official AGC docs.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis webpage should provide enough info:\u003Ca href=\u0022http://www.ibiblio.org/apollo/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.ibiblio.org/apollo/\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-06T07:41:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MK3424\u0022 data-cite=\u0022MK3424\u0022\u003E\u003Cdiv\u003EThis webpage should provide enough info:\u003Ca href=\u0022http://www.ibiblio.org/apollo/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.ibiblio.org/apollo/\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks. I will check this out.\u003C/p\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-06T07:43:54Z","Content":"\n\u003Cp\u003EkOS 0.8 is out, which does everything this mod would have done, and more. So this mod is officially being abandoned until further notice, unless anyone else can think of things that it should do.\u003C/p\u003E\u003Cp\u003EOn the upside, I\u0027ve released an update of my \u003Ca href=\u0022http://kerbalspaceprogram.com/sensor-reporter-kos/\u0022 rel=\u0022external nofollow\u0022\u003ESensor Reporter\u003C/a\u003E, which should fix a couple bugs for those of you with kOS 0.7 and earlier, and works best with kOS 0.8.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-10-06T10:53:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022woodywood245\u0022 data-cite=\u0022woodywood245\u0022\u003E\u003Cdiv\u003EkOS 0.8 is out, which does everything this mod would have done, and more. So this mod is officially being abandoned until further notice, unless anyone else can think of things that it should do.\u003Cp\u003EOn the upside, I\u0027ve released an update of my \u003Ca href=\u0022http://kerbalspaceprogram.com/sensor-reporter-kos/\u0022 rel=\u0022external nofollow\u0022\u003ESensor Reporter\u003C/a\u003E, which should fix a couple bugs for those of you with kOS 0.7 and earlier, and works best with kOS 0.8.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust a warning. 0.8 is unusable at the moment. The parsing of curly braces doesn\u0027t work right anymore if they span more than one line, making any code of significant size not work.\u003C/p\u003E\n"},{"CreatedByName":"devanmedrow","CreatedById":15850,"CreatedDateTime":"2013-10-07T05:31:43Z","Content":"\n\u003Cp\u003EI would really like to see an external window that you could use on a second monitor. Or even a web page display like the telemetry mod. it doesn\u0027t have to be type-able, but that would a plus. You have the termanle on the second monitor and you press \u0022~\u0022 now your keyboard is set to the termanle. You type your commands then press \u0022~\u0022 aging and your keyboard is back to KSP control\u0027s. The \u0022~\u0022 key could be what ever you like it to be.\u003C/p\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-07T05:37:58Z","Content":"\n\u003Cp\u003EI\u0027ve been thinking about something similar for a while. I was going to write a program that did something very similar to this and have the data transfer back and forth via a script and the logging system. That was going to be my next project, but I wasn\u0027t sure if anyone would want it besides me.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-10-07T12:59:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022devanmedrow\u0022 data-cite=\u0022devanmedrow\u0022\u003E\u003Cdiv\u003EI would really like to see an external window that you could use on a second monitor. Or even a web page display like the telemetry mod. it doesn\u0027t have to be type-able, but that would a plus. You have the terminal on the second monitor and you press \u0022~\u0022 now your keyboard is set to the termanle. You type your commands then press \u0022~\u0022 aging and your keyboard is back to KSP control\u0027s. The \u0022~\u0022 key could be what ever you like it to be.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESomeone is/has been working on a way to add telnet support to kOS. You could use pUTTY and telnet in from somewhere in your network to control kOS. You could also telnet into multiple kOS units as each one that is initialized gets different port number in sequence. Not sure how far along they\u0027ve gotten though or where this thread/plugin can be downloaded though so you\u0027ll have to do a search if you want to try it out.\u003C/p\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-10-07T17:42:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003ESomeone is/has been working on a way to add telnet support to kOS. You could use pUTTY and telnet in from somewhere in your network to control kOS. You could also telnet into multiple kOS units as each one that is initialized gets different port number in sequence. Not sure how far along they\u0027ve gotten though or where this thread/plugin can be downloaded though so you\u0027ll have to do a search if you want to try it out.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt last check (a week ago), that mod is a work in progress, and isn\u0027t always caught up with the rest of kOS. It has a few problems on the pUTTY side that made me abandon it within an hour of playing with it.\u003C/p\u003E\n"}]}