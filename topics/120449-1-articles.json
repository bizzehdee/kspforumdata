{"TopicId":120449,"ForumId":16,"TopicTitle":"That darn wobbling","CreatedByName":"JeeF","CreatedById":143053,"CreatedDateTime":"2015-09-08T18:35:33Z","PageNum":1,"Articles":[{"CreatedByName":"JeeF","CreatedById":143053,"CreatedDateTime":"2015-09-08T18:35:33Z","Content":"\n\u003Cp\u003EHey guys,\u003C/p\u003E\u003Cp\u003EI\u0027ve been trying for weeks now to create a propeller engine from scratch and I\u0027ve come pretty close to a good design.\u003C/p\u003E\u003Cp\u003EIt can lift a CM, that\u0027s how I\u0027ve been testing optimal wing angle. However, in order for it to be able to be attached to an airplane and actually drive it forwards, I need to make it spin REALLY fast.\u003C/p\u003E\u003Cp\u003ESpinning really fast is not the problem... I\u0027ve done that. The problem is the WOBBLING!\u003C/p\u003E\u003Cp\u003EDoesn\u0027t matter what I do, what parts I use, how precisely dead-center I install these parts, after a certain rotation speed it all goes to hell.\u003C/p\u003E\u003Cp\u003EHere\u0027s a video showing the design and the problem:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/KH5QJ6ftvcQ?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EI\u0027ve tried many different approaches, angles, parts, sizes... you name it.\u003C/p\u003E\u003Cp\u003EI\u0027ve installed a previous prototype in a big airplane I\u0027ve made, 4 engines, and it can drive the whole heavy airplane forward at about 25m/s solid steady at about 30% throttle.\u003C/p\u003E\u003Cp\u003EAnything above that, yes the speed increases but the wobbling begins and the more throttle I give the worse it becomes till it all explodes.\u003C/p\u003E\u003Cp\u003EShame KSP doesn\u0027t allow us to connect both sides of a part to another part, otherwise I\u0027d could double the \u0022firmness\u0022 of the design by putting rotatrons on both ends and connecting both ends to the same wing, having the engine spinning in the center of the wing instead of the front.\u003C/p\u003E\u003Cp\u003EAny help is appreciated!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-09T00:17:49Z\u0022 title=\u002209/09/2015 12:17  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 9, 2015\u003C/time\u003E by DuoDex\u003C/strong\u003E\n\u003Cbr\u003Eremoved profanity\n\u003C/span\u003E\n"},{"CreatedByName":"RidingTheFlow","CreatedById":111197,"CreatedDateTime":"2015-09-08T18:42:47Z","Content":"\n\u003Cp\u003EIt looks like physics engine limitation, e.g. lack of integration on rotational component which leads to simplification and lack (Edit: diminishing) of certain \u0022real life\u0022 effects like spin-stabilization.\u003C/p\u003E\u003Cp\u003ESadly unlikely anything can be done about it since physics is part of Unity internals I beleive. Maybe new Unity will make it better.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-08T19:18:35Z\u0022 title=\u002209/08/2015 07:18  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 8, 2015\u003C/time\u003E by RidingTheFlow\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"EladDv","CreatedById":118368,"CreatedDateTime":"2015-09-08T19:13:10Z","Content":"\n\u003Cp\u003Espin stabilization is a thing in KSP just spin a craft and see how it\u0027s more stable- the problem with this configuration is joint stiffness-the joints are not stiff enough to keep it centered in one position and start to slide every which way as you can see when the speeds are lower the spinning is good but when you ramp up the speeds physics steps are no longer keeping up and are making ever increasing approximations- not a KSP problem but a unity one\u003C/p\u003E\n"},{"CreatedByName":"The_Rocketeer","CreatedById":81727,"CreatedDateTime":"2015-09-08T21:32:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JeeF\u0022 data-cite=\u0022JeeF\u0022\u003E\u003Cdiv\u003EShame KSP doesn\u0027t allow us to connect both sides of a part to another part, otherwise I\u0027d could double the \u0022firmness\u0022 of the design by putting rotatrons on both ends and connecting both ends to the same wing, having the engine spinning in the center of the wing instead of the front.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure what mods you\u0027re using - is the rotor itself a modded part or something u\u0027ve fabricated stock?\u003C/p\u003E\n"},{"CreatedByName":"Yasmy","CreatedById":79995,"CreatedDateTime":"2015-09-08T22:02:04Z","Content":"\n\u003Cp\u003ESo how does KSP model the moments of inertia of a craft? Is each part treated as a point particle, a solid body, a shell, or as something part shape-specific? I guess we could do some rotational acceleration tests of full and empty fuel tanks and other parts to find out, but someone must know already. For a large vessel, a point-particle model should work just fine, but it could behave poorly for some corner cases. Without knowing how rotational inertia works in KSP, it is hard to make a good physics based argument.\u003C/p\u003E\u003Cp\u003EOne thing you could try is to change the physics max time step, I think. I could be wrong. I don\u0027t know much about this. But if you can slow down the integrator, and still have stability issues, then maybe it\u0027s a design flaw, and not something like buildup of numerical errors. But this is highly speculative.\u003C/p\u003E\u003Cp\u003EYou seem to lose stability when you crank up the throttle to max. Does it become unstable if you leave it at half throttle? It entirely possible that your stability is a function of your angular velocity. You could be unstable when your angular velocity passes some natural resonant frequency in the craft. (Top-loading washing machines operate in the opposite manner: Below a certain speed, they are unstable and so they are kept locked on axis. Above a certain speed, they become self-centering: the basin is unlocked and allowed to float on springs, so that uneven loads do not cause the machine to wobble or break. This works because the force is out of phase with the displacement above the resonant frequency, and the basin is driven back towards the center.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-08T22:12:17Z\u0022 title=\u002209/08/2015 10:12  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 8, 2015\u003C/time\u003E by Yasmy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JeeF","CreatedById":143053,"CreatedDateTime":"2015-09-08T23:11:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The_Rocketeer\u0022 data-cite=\u0022The_Rocketeer\u0022\u003E\u003Cdiv\u003EI\u0027m not sure what mods you\u0027re using - is the rotor itself a modded part or something u\u0027ve fabricated stock?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERotatron, from Infernal Robotics.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yasmy\u0022 data-cite=\u0022Yasmy\u0022\u003E\u003Cdiv\u003ESo how does KSP model the moments of inertia of a craft? Is each part treated as a point particle, a solid body, a shell, or as something part shape-specific? I guess we could do some rotational acceleration tests of full and empty fuel tanks and other parts to find out, but someone must know already. For a large vessel, a point-particle model should work just fine, but it could behave poorly for some corner cases. Without knowing how rotational inertia works in KSP, it is hard to make a good physics based argument.\u003Cp\u003EOne thing you could try is to change the physics max time step, I think. I could be wrong. I don\u0027t know much about this. But if you can slow down the integrator, and still have stability issues, then maybe it\u0027s a design flaw, and not something like buildup of numerical errors. But this is highly speculative.\u003C/p\u003E\u003Cp\u003EYou seem to lose stability when you crank up the throttle to max. Does it become unstable if you leave it at half throttle? It entirely possible that your stability is a function of your angular velocity. You could be unstable when your angular velocity passes some natural resonant frequency in the craft. (Top-loading washing machines operate in the opposite manner: Below a certain speed, they are unstable and so they are kept locked on axis. Above a certain speed, they become self-centering: the basin is unlocked and allowed to float on springs, so that uneven loads do not cause the machine to wobble or break. This works because the force is out of phase with the displacement above the resonant frequency, and the basin is driven back towards the center.)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOne interesting thing is: If I remove the wings, I can spin that thing to a kazillion rpms, and it\u0027s rock stable. So the wobbling is being caused by the wing drag somehow. \u003C/p\u003E\u003Cp\u003EAt first I thought maybe the exhaust from the turbines was causing turbulence on the wings, but even placing the engines really far away still causes the wobbling.\u003C/p\u003E\u003Cp\u003EI think I may try with FAR installed. Currently I don\u0027t have it installed due to a very annoying bug that was inverting my engine\u0027s _____ (forgot the word) at certain speeds. FAR may kill the wobbling. Will post results later.\u003C/p\u003E\n"},{"CreatedByName":"Merandix","CreatedById":135352,"CreatedDateTime":"2015-09-08T23:56:23Z","Content":"\n\u003Cp\u003EHow about larger lifting surfaces with lower rpm? I think it\u0027s the joints on the rotor becoming unstable due to the high forces on them...\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-09-09T08:48:14Z","Content":"\n\u003Cp\u003EIs it still unstable if you only try to lift up vertically and not apply any cyclic (tilt)? You could do that by angling the wings a little more in the VAB so you have more collective pitch.\u003C/p\u003E\u003Cp\u003EIt looks like your wobble starts when you move the craft out of its plane of rotation to move forward, which causes a lot of stress on the joints where the wings are attached. This causes the wings to flex, which results in your instability.\u003C/p\u003E\u003Cp\u003EFrom the looks of it, the physics is correct. You need to swivel your rotor axis to move, not apply torque to it with a reaction wheel.\u003C/p\u003E\n"},{"CreatedByName":"xtoro","CreatedById":79015,"CreatedDateTime":"2015-09-09T15:43:41Z","Content":"\n\u003Cp\u003EHave you tried installing Kerbal Joint Reinforcement? It might help by preventing joints from bending...\u003C/p\u003E\n"},{"CreatedByName":"The_Rocketeer","CreatedById":81727,"CreatedDateTime":"2015-09-09T16:32:04Z","Content":"\n\u003Cp\u003EWhat if you add another free-coasting rotor part in front of the propellor and attach it to a parallel support with struts?\u003C/p\u003E\u003Cp\u003EWhat you currently have is like the wheel on a car, attached at one end. What I\u0027m suggesting is like a wheel on a bike, attached at both ends to an external framework.\u003C/p\u003E\n"},{"CreatedByName":"windows_x_seven","CreatedById":112926,"CreatedDateTime":"2015-09-09T16:38:44Z","Content":"\n\u003Cp\u003EMost likely game limitations. Try using FAR.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-09T16:40:51Z\u0022 title=\u002209/09/2015 04:40  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 9, 2015\u003C/time\u003E by windows_x_seven\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JeeF","CreatedById":143053,"CreatedDateTime":"2015-09-09T16:53:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Merandix\u0022 data-cite=\u0022Merandix\u0022\u003E\u003Cdiv\u003EHow about larger lifting surfaces with lower rpm? I think it\u0027s the joints on the rotor becoming unstable due to the high forces on them...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat works but would look damn ugly and would be impossible to achieve any decent speed. I\u0027m looking for realism, 9 thousand RPM and speeds over 200m/s on the airplane.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stoney3K\u0022 data-cite=\u0022Stoney3K\u0022\u003E\u003Cdiv\u003EIs it still unstable if you only try to lift up vertically and not apply any cyclic (tilt)? You could do that by angling the wings a little more in the VAB so you have more collective pitch.\u003Cp\u003EIt looks like your wobble starts when you move the craft out of its plane of rotation to move forward, which causes a lot of stress on the joints where the wings are attached. This causes the wings to flex, which results in your instability.\u003C/p\u003E\u003Cp\u003EFrom the looks of it, the physics is correct. You need to swivel your rotor axis to move, not apply torque to it with a reaction wheel.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWasn\u0027t even touching the keyboard, just climbing straight up and increasing throttle.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xtoro\u0022 data-cite=\u0022xtoro\u0022\u003E\u003Cdiv\u003EHave you tried installing Kerbal Joint Reinforcement? It might help by preventing joints from bending...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, using KJR.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The_Rocketeer\u0022 data-cite=\u0022The_Rocketeer\u0022\u003E\u003Cdiv\u003EWhat if you add another free-coasting rotor part in front of the propellor and attach it to a parallel support with struts?\u003Cp\u003EWhat you currently have is like the wheel on a car, attached at one end. What I\u0027m suggesting is like a wheel on a bike, attached at both ends to an external framework.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETried that, the whole structure wobbles.\u003C/p\u003E\n"}]}