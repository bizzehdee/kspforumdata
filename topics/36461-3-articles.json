{"TopicId":36461,"ForumId":55,"TopicTitle":"Barycenters and non-spherical Volumes of Influence (an idea for binary planets/stars)","CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-09T18:38:46Z","PageNum":3,"Articles":[{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-11T16:07:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003EWell, the problem with this code is that it\u0027s only applicable to models where both bodies have exactly the same mass. For bodies with differing masses, the interface should be the plane passing through the L1 lagrange point perpendicular to the line joining the center of the two bodies. So the if would become more complicated.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDiffering masses isn\u0027t all. If this subsystem were to be implemented and made usable by modders (who love to push limits and do arbitrary things), it would need to deal with general cases so you can feed in any configuration and get sane results. Such as:\u003C/p\u003E\u003Cp\u003E- more than 2 bodies. An algorithm that works with n bodies is needed, not an if statement for 2.\u003C/p\u003E\u003Cp\u003E- bodies that don\u0027t share a common plane of revolution - think Ragnar anchorage, which orbits the barycenter of Helios Gamma/Delta rather than either star. There\u0027s no reason it needs to do so in the same plane that H G/D orbit their barycenter, and it\u0027s possible Ragnar\u0027s SOI could intersect one or both of H G/D over the course of their orbits.\u003C/p\u003E\u003Cp\u003EI\u0027m having trouble thinking of a way to extend this model to general cases that would be less complicated than just doing n-body physics.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-11T17:19:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003E- more than 2 bodies. An algorithm that works with n bodies is needed, not an if statement for 2.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWith the exception of a single hypothetical 3-body system that\u0027s never even been seen by astronomers, every stellar or planetary arrangement will be easily approximated using the fragmented sphere piecewise function. That\u0027s because all star systems, even ones composed of 4 or more stars, have a binary hierarchy. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003E- bodies that don\u0027t share a common plane of revolution - think Ragnar anchorage, which orbits the barycenter of Helios Gamma/Delta rather than either star. There\u0027s no reason it needs to do so in the same plane that H G/D orbit their barycenter, and it\u0027s possible Ragnar\u0027s SOI could intersect one or both of H G/D over the course of their orbits.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell in theory Ragnar *could* do that but no one is going to create rails that low for it. In reality Ragnar would have to be in a very high orbit around Helios GD in order to be stable enough to last the billions of years i takes for life to evolve and star traveling around the system. The map circling around the internet doesn\u0027t seem quite right to me.\u003C/p\u003E\n"},{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-11T19:09:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EWith the exception of a single hypothetical 3-body system that\u0027s never even been seen by astronomers, every stellar or planetary arrangement will be easily approximated using the fragmented sphere piecewise function. That\u0027s because all star systems, even ones composed of 4 or more stars, have a binary hierarchy.\u003Cp\u003EWell in theory Ragnar *could* do that but no one is going to create rails that low for it. In reality Ragnar would have to be in a very high orbit around Helios GD in order to be stable enough to last the billions of years i takes for life to evolve and star traveling around the system. The map circling around the internet doesn\u0027t seem quite right to me.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t argue that in reality trinary \u003Cstrong\u003Estar\u003C/strong\u003E systems would be highly unstable and as a result have not been observed. But we would not necessarily be able to observe gas giants in distant orbit around the barycenter of a binary star. The Helios GD \u002B Ragnar system is an example of such.\u003C/p\u003E\u003Cp\u003EI agree that as long as you put the planet at a realistic distance from the barycenter (you\u0027ve seen what people do with mods, right? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E ), you could model it as a separate body in orbit around the barycenter object, and the SOIs would never intersect. But you still need to answer the question: \u0022I\u0027m in the Helios GD system, and my position is \u0026lt;x\u0026gt;. Which SOI am I in?\u0022 There you have an implementation problem: if your SOI-region algorithm can only handle 2 objects, you must restrict the special barycenter object such that only 2 things can be in orbit. If the barycenter object is allowed to have 3 children, but the SOI algorithm for that object can only handle 2 arguments... how do you ever enter Ragnar\u0027s SOI?\u003C/p\u003E\u003Cp\u003EEDIT: as I think about it, this argument holds for anything in \u0022normal\u0022 orbit around a binary star implemented using the proposed barycenter object. How do you distinguish between \u0022preferred\u0022 objects that get specially-shaped SOIs and \u0022normal\u0022 objects?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-11T19:18:02Z\u0022 title=\u002207/11/2013 07:18  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 11, 2013\u003C/time\u003E by NeilC\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-07-11T22:28:27Z","Content":"\n\u003Cp\u003EI really have no idea why you\u0027re making a 3d contour when you don\u0027t really have \u00223d data\u0022 (This is just a 2d analysis).\u003C/p\u003E\u003Cp\u003EI haven\u0027t setup a vector field yet, but I think these make a fair bit more sense than the ones you\u0027re using. (As it is, I\u0027m just comparing the strength of the gravitational field at point, a vector field will indicate the direction of the field, and hence indicate even larger problems). [i also put cut limits which created the boxes, it may look a bit bad, but it adds more contours to the more important data)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/rKrnVhh.png\u0022 alt=\u0022rKrnVhh.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESimulated\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/sZbWyoN.png\u0022 alt=\u0022sZbWyoN.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EReality\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/g6EHsSe.png\u0022 alt=\u0022g6EHsSe.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EDifference\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/nRdSvRi.png\u0022 alt=\u0022nRdSvRi.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EPercent Error\u003C/p\u003E\u003Cp\u003EAnd yay, Vector fields!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/xQ0eT3j.png\u0022 alt=\u0022xQ0eT3j.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EReality\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/VVJatZB.png\u0022 alt=\u0022VVJatZB.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESimulation\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/h2Qkpep.png\u0022 alt=\u0022h2Qkpep.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EDifference\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/S4gUYWr.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/S4gUYWr.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EA nightmare!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-12T02:08:46Z\u0022 title=\u002207/12/2013 02:08  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 12, 2013\u003C/time\u003E by Fel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-11T23:00:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fel\u0022 data-cite=\u0022Fel\u0022\u003E\u003Cdiv\u003EI really have no idea why you\u0027re making a 3d contour when you don\u0027t really have \u00223d data\u0022 (This is just a 2d analysis).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I was doing the same thing you were doing, but using the z-coordinate to show the 1d result of the 2 function. The pictures you have are just 2d contour graphs of the same thing.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2013-07-11T23:14:10Z","Content":"\n\u003Cp\u003EThis idea needs a considerable amount of tweaking, but I could potentially see it as a working approximation of an n-body solution... It\u0027d be interesting if someone could make a simple gravity simulation using a model similar to this just to help find potential problems.\u003C/p\u003E\n"},{"CreatedByName":"CouchLizzard","CreatedById":11580,"CreatedDateTime":"2013-07-12T00:48:33Z","Content":"\n\u003Cp\u003EHm... thinking on the \u0027more than 2 bodies\u0027 problem, the simple if/else hemisphere system could pretty easily be extended to \u0027closest from a list\u0027 instead of \u0027closest of two\u0027. Basically, it becomes a Voronoi diagram for SOI\u0027s. To solve the problem of different masses, I\u0027m pretty sure simply weighting the distances by mass of the bodies could give reasonably accurate results (at the very least, from a gameplay standpoint). No need to calculate the dividing plane, since it\u0027s implied by the simple distance*mass function.\u003C/p\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-07-12T01:06:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003EWell, I was doing the same thing you were doing, but using the z-coordinate to show the 1d result of the 2 function. The pictures you have are just 2d contour graphs of the same thing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAye, just that 2d contour graphs are more appropriate for the data set; especially since you have poles at infinity and piecewise data... and are more concerned about the actual DATA than \u0022how it looks.\u0022 (Although I didn\u0027t clip two of the graphs properly).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003EWhat motivates changing to this system?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI hate this argument. The truth is \u0022Nothing motivates changing the system\u0022 because all motivation is subjective.\u003C/p\u003E\u003Cp\u003EAs one person\u0027s subjective motivation is not another\u0027s subjective motivation, the \u0022request\u0022 is void and \u0022end of discussion.\u0022\u003C/p\u003E\u003Cp\u003EMy 2 cent\u0027s.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2013-07-12T04:45:02Z","Content":"\n\u003Cp\u003EI\u0027m sorry NeilC I\u0027m not entire sure what you\u0027re trying to get at, except:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003EThere you have an implementation problem: if your SOI-region algorithm can only handle 2 objects, you must restrict the special barycenter object such that only 2 things can be in orbit. If the barycenter object is allowed to have 3 children, but the SOI algorithm for that object can only handle 2 arguments... how do you ever enter Ragnar\u0027s SOI?\u003Cp\u003EEDIT: as I think about it, this argument holds for anything in \u0022normal\u0022 orbit around a binary star implemented using the proposed barycenter object. How do you distinguish between \u0022preferred\u0022 objects that get specially-shaped SOIs and \u0022normal\u0022 objects?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think You\u0027ve misunderstood the purpose of this idea. It\u0027s to devise a way of subdividing VOIs to accommodate accurate behaviour relatively close to a binary system so that the physics engine can still take into account only two objects: your ship and the object that you\u0027re in the VOI of. Outside of that the current method can be used. It\u0027s not that a barycenter can only have 2 children. It\u0027s only that a barycenter VOI can have two child-VOIs. Each VOI can still have objects orbiting with their own regular SOIs as they are implemented right now. As for how you distinguish, a good way of deciding whether to use binary VOIs or current nested SOIs is the calculate whether a real barycenter would be inside or outside the bigger object.\u003C/p\u003E\u003Cp\u003EMaybe this image will help. **NOT TO SCALE**\u003C/p\u003E\u003Cp\u003EAll the stars have Hemispheres of influence. AB and GD barycenters also have hemispheres. Finally the barycenter of both AB and GD barycenters (yes, barycenter of barycenters) has a sphere. Beyond that is interstellar space. BUT! Ragnar still has a regular nested SOI inside the GD VOI.\u003C/p\u003E\u003Cp\u003EEdit: I\u0027ve made a spelling error in the image. It should be Ragnar.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/IfjUM9A.png\u0022 alt=\u0022IfjUM9A.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit 2: Actually I don\u0027t think I\u0027m explaining this right. Don\u0027t think of the hemispheres as children, because I think they should be on the same hierarchical level as the barycenter VOI because it\u0027s a piecewise function whereas regular SOIs are actually in a nested hierarchy where the object you\u0027re close to takes precedence.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fel\u0022 data-cite=\u0022Fel\u0022\u003E\u003Cdiv\u003EI really have no idea why you\u0027re making a 3d contour....\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt allows you to easily see the magnitude of discontinuities.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-12T05:13:48Z\u0022 title=\u002207/12/2013 05:13  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 12, 2013\u003C/time\u003E by Cpt. Kipard\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-12T13:32:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003EDiffering masses isn\u0027t all. If this subsystem were to be implemented and made usable by modders (who love to push limits and do arbitrary things), it would need to deal with general cases so you can feed in any configuration and get sane results. Such as:\u003Cp\u003E- more than 2 bodies. An algorithm that works with n bodies is needed, not an if statement for 2.\u003C/p\u003E\u003Cp\u003E- bodies that don\u0027t share a common plane of revolution - think Ragnar anchorage, which orbits the barycenter of Helios Gamma/Delta rather than either star. There\u0027s no reason it needs to do so in the same plane that H G/D orbit their barycenter, and it\u0027s possible Ragnar\u0027s SOI could intersect one or both of H G/D over the course of their orbits.\u003C/p\u003E\u003Cp\u003EI\u0027m having trouble thinking of a way to extend this model to general cases that would be less complicated than just doing n-body physics.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m gonna have to agree with Cpt. Kipard on this. It\u0027s not unreasonable to assume that any n-body system appearing in nature can be sub-divided into single or binary objects in stable orbit around other single/binary objects.\u003C/p\u003E\u003Cp\u003EAs far as the SOI\u0027s we can just use the system that\u0027s already in place: planetary SOI\u0027s take precedence over star SOI\u0027s, and moon SOI\u0027s take precedence over planetary SOI\u0027s\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003EBut you still need to answer the question: \u0022I\u0027m in the Helios GD system, and my position is \u0026lt;x\u0026gt;. Which SOI am I in?\u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, the SOI\u0027s are simply a piecewise function in 3d, as long as your boundaries between regions are well-defined, you should have no problem.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003Eas I think about it, this argument holds for anything in \u0022normal\u0022 orbit around a binary star implemented using the proposed barycenter object. How do you distinguish between \u0022preferred\u0022 objects that get specially-shaped SOIs and \u0022normal\u0022 objects?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe way I see it, it would work like this: all three objects would be in orbit around the barycenter, and the SOI logic would have to be changed so it has an extra \u0022type\u0022 variable, so if the SOI is defined as \u0022type 1\u0022 (the default), it would be spherical, while the two stars would have SOI\u0027s designated as \u0022type 2\u0022, which would be hemispheres or whatever.\u003C/p\u003E\u003Cp\u003EEDIT: actually, VOI\u0027s (Volumes of Influence) does make a lot more sense in this situation. Good idea.\u003C/p\u003E\u003Cp\u003EEDIT2: \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CouchLizzard\u0022 data-cite=\u0022CouchLizzard\u0022\u003E\u003Cdiv\u003EHm... thinking on the \u0027more than 2 bodies\u0027 problem, the simple if/else hemisphere system could pretty easily be extended to \u0027closest from a list\u0027 instead of \u0027closest of two\u0027. Basically, it becomes a Voronoi diagram for SOI\u0027s. To solve the problem of different masses, I\u0027m pretty sure simply weighting the distances by mass of the bodies could give reasonably accurate results (at the very least, from a gameplay standpoint). No need to calculate the dividing plane, since it\u0027s implied by the simple distance*mass function.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually, this wouldn\u0027t be necessary. It\u0027s not unreasonable to assume that any n-body system appearing in nature can be sub-divided into single or binary objects in stable orbit around other single/binary objects. A Voronoi diagram is not needed. See Cpt. Kipard\u0027s post above for an idea of how VOI\u0027s for multiple objects would work.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-12T13:41:46Z\u0022 title=\u002207/12/2013 01:41  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 12, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-12T16:52:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fel\u0022 data-cite=\u0022Fel\u0022\u003E\u003Cdiv\u003EI hate this argument. The truth is \u0022Nothing motivates changing the system\u0022 because all motivation is subjective.\u003Cp\u003EAs one person\u0027s subjective motivation is not another\u0027s subjective motivation, the \u0022request\u0022 is void and \u0022end of discussion.\u0022\u003C/p\u003E\u003Cp\u003EMy 2 cent\u0027s.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt wasn\u0027t an argument. It was a question. Not all features are subjective. The motivation for implementing docking is that it lets you dock. The motivation for implementing staging is that it lets you build rockets that work. The motivation for implementing barycenters is more realistic binary systems.\u003C/p\u003E\u003Cp\u003EMy opinion is that realism oriented features are less important than gameplay oriented features in a game featuring tiny green men and planets denser than lead. You can disagree if you like, but it\u0027s a bit silly to claim that everything\u0027s relative and all features are of equal importance. Some require lots of dev work for little gameplay gain. That\u0027s not subjective.\u003C/p\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2013-07-12T19:18:27Z","Content":"\n\u003Cp\u003ELooking at all of this, I have to say that implementing real n-body would be much easier. You only need second Newton\u0027s law plus some numeric magic to make it work with timewarp...\u003C/p\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-07-12T21:36:33Z","Content":"\n\u003Cp\u003EOkay, did some calculations here....\u003C/p\u003E\u003Cp\u003EStarting with offset being (-1,0) and (1,0) for planets\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E  M1 *  (X - 1)                M2 * (X \u002B 1) \u003Cbr\u003E--------------------   \u002B  ------------------------= gx (x component of the gravity vector)\u003Cbr\u003E(X - 1)^2 \u002B Y^2          (X \u002B 1)^2 \u002B Y^2\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E*** Now technically, I think it is suppose to be\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E  M1 *  (X - 1)                        M2 * (X \u002B 1)\u003Cbr\u003E--------------------           \u002B  ------------------------            = gx (normalized x component)\u003Cbr\u003E((X - 1)^2 \u002B Y^2)^3/2          ((X \u002B 1)^2 \u002B Y^2)^3/2\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut that is annoying to work with. (And there is only so much the CAS on my HP will do before it becomes a bigger headache than it is worth).\u003C/p\u003E\u003Cp\u003ENow, turning this into polar coordinates (X^2 \u002B Y^2 = R, r * cos(theta) = x)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E(M1 - M2) * (R^2 \u002B 1) \u002B 2 * R * cos(theta) * (M1 \u002B M2)\u003Cbr\u003E------------------------------------------------------- = gx (x component of gravity)\u003Cbr\u003E(M1 \u002B M2) * (R^2 \u002B 1) \u002B 2 * R * cos(theta) * (M1 - M2)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eintegral over 0 to 2*pi\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EM1 \u002B M2    4 * M1 * M2\u003Cbr\u003E-------- - ------------- * INV(SQRT( (M1 \u002B M2)^2 - (2 * R * (M1 - M2) / (R^2 \u002B 1))^2)) = x offset\u003Cbr\u003EM1 - M2      M1 - M2\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd that (well, almost right due to laziness not wanting to do elaborate integration), should calculate the offset to the x component. (\u0022Effective Gravitational Center\u0022) at a given distance from the center.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-12T21:46:36Z\u0022 title=\u002207/12/2013 09:46  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 12, 2013\u003C/time\u003E by Fel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-07-12T22:31:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003EIt wasn\u0027t an argument. It was a question. Not all features are subjective. The motivation for implementing docking is that it lets you dock. The motivation for implementing staging is that it lets you build rockets that work. The motivation for implementing barycenters is more realistic binary systems.\u003Cp\u003EMy opinion is that realism oriented features are less important than gameplay oriented features in a game featuring tiny green men and planets denser than lead. You can disagree if you like, but it\u0027s a bit silly to claim that everything\u0027s relative and all features are of equal importance. Some require lots of dev work for little gameplay gain. That\u0027s not subjective.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E*dramatic sigh*\u003C/p\u003E\u003Cp\u003E\u0022Good gameplay\u0022 is \u003Cem\u003Esubjective\u003C/em\u003E to the \u003Cem\u003E\u003Cstrong\u003Eperson\u003C/strong\u003E\u003C/em\u003E playing the game. There is no getting around it, this IS a subjective argument.\u003C/p\u003E\u003Cp\u003EAs it stands, the suggested implementation requires less \u0022devtime\u0022 than adding flags did; the most major change is not implementing the barycenter (KSP already does this), it is reshaping the SOI\u0027s. Though you could argue that adding in a binary object into the current universe is \u0022devtime consuming\u0022 opening the planetary API to the public, and allowing others to use said tools to add said planets in said fashion alleviates said \u0022devtime.\u0022 And Frostkien certainly made note about how the \u0022Features\u0022 SQUAD chose to employ were \u0022Lots of Dev Work for Little Gameplay Gain.\u0022\u003C/p\u003E\u003Cp\u003EThe features being implemented are based on what the people want, and what SQUAD \u0022feels has a nice fit in the game.\u0022 If SQUAD decided to throw all away and work on adding bathrooms to their rockets; you\u0027ll likely have to put in potties for your kerbals.\u003C/p\u003E\u003Cp\u003EEitherway, as I said; KSP really already does this. Take kerbin, the mun\u0027s SOI overlaps Kerbin\u0027s SOI but both exist in harmony. The only thing happening with the \u0022equal mass\u0022 binary system is two objects with very large SOI\u0027s are \u0022orbiting\u0022 an \u0022invisible planet.\u0022 Leaving one planet\u0027s SOI either pulls you into the \u0022barycenter / gravitation center\u0022\u0027s SOI or the other planet\u0027s SOI... exactly like what KSP already does.\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-12T23:46:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022asmi\u0022 data-cite=\u0022asmi\u0022\u003E\u003Cdiv\u003ELooking at all of this, I have to say that implementing real n-body would be much easier. You only need second Newton\u0027s law plus some numeric magic to make it work with timewarp...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo. The N-body problem is \u003Cstrong\u003EVERY\u003C/strong\u003E difficult. As in it hasn\u0027t been solved for more than a few trivial cases. As in it\u0027s \u003Cstrong\u003Estill\u003C/strong\u003E (more than 300 years after Newton\u0027s \u003Cem\u003EPrincipia\u003C/em\u003E) a subject of ongoing research in physics. No amount of \u0022numeric magic\u0022 is going to make the N-body problem work.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003EMy opinion is that realism oriented features are less important than gameplay oriented features in a game featuring tiny green men and planets denser than lead. You can disagree if you like, but it\u0027s a bit silly to claim that everything\u0027s relative and all features are of equal importance. Some require lots of dev work for little gameplay gain. That\u0027s not subjective.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo this statement, I could argue that this \u003Cem\u003Eis\u003C/em\u003E a gameplay feature because it allows us to have systems that would otherwise be impossible, but honestly the main reason I\u0027d like to see this in KSP is because I think it\u0027d be \u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cem\u003E\u003Cstrong\u003Eawesome\u003C/strong\u003E\u003C/em\u003E\u003C/span\u003E. And also we\u0027re trying to come up with a system that would require as little dev time as possible to implement.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EANYWAYS\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EProgress update on differing masses: I\u0027ve gotten the mathematica code to work, and I\u0027m getting some solid results, so expect a post about that either late today or early tomorrow (unless I get interrupted/distracted by something else)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-12T23:53:03Z\u0022 title=\u002207/12/2013 11:53  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 12, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2013-07-13T03:18:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003ENo. The N-body problem is \u003Cstrong\u003EVERY\u003C/strong\u003E difficult. As in it hasn\u0027t been solved for more than a few trivial cases. As in it\u0027s \u003Cstrong\u003Estill\u003C/strong\u003E (more than 300 years after Newton\u0027s \u003Cem\u003EPrincipia\u003C/em\u003E) a subject of ongoing research in physics. No amount of \u0022numeric magic\u0022 is going to make the N-body problem work.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou couldn\u0027t be more wrong. Ever heard of Orbiter? It implements n-body physics and work just fine with time acceleration, and even on ancient computers. The fact that in can not be solved analytically doesn\u0027t mean that in can\u0027t be solved at all. Numeric integration methods work perfectly fine in this case.\u003C/p\u003E\n"},{"CreatedByName":"tntristan12","CreatedById":7005,"CreatedDateTime":"2013-07-13T03:51:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022asmi\u0022 data-cite=\u0022asmi\u0022\u003E\u003Cdiv\u003EYou couldn\u0027t be more wrong. Ever heard of Orbiter? It implements n-body physics and work just fine with time acceleration, and even on ancient computers. The fact that in can not be solved analytically doesn\u0027t mean that in can\u0027t be solved at all. Numeric integration methods work perfectly fine in this case.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcept for cases when sudden time acceleration sends your spacecraft out of the solar system or throws moons out of orbit. Also, orbiter doesn\u0027t simulate physics to individual parts within a ship. Sure, it works on a basic level but it is far from perfect and does not work for casual play like what KSP does.\u003C/p\u003E\n"},{"CreatedByName":"Kragrathea","CreatedById":70850,"CreatedDateTime":"2013-07-13T06:05:35Z","Content":"\n\u003Cp\u003EAh! Hello Kerbals. I found the first post in this thread most fascinating, but I am afraid almost every post since has flown straight over my head. But no worries. I have forwarded on to the boffins and they will give me a summary...\u003C/p\u003E\u003Cp\u003EBut It may interest you to know that we at Kragrathea have some expertize in this area! We use a similar technique as a method for simulating all the \u0022important\u0022 bits of a barycenter. We call it a Manilo... where is that bloody video... Oh yes... Enjoy.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/6SP7izvXoBE?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-13T08:02:16Z\u0022 title=\u002207/13/2013 08:02  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 13, 2013\u003C/time\u003E by Kragrathea\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-13T14:48:49Z","Content":"\n\u003Cp\u003EUniverse sandbox is another example of a numeric n-body code that works just fine. The problem isn\u0027t technical feasibility or implementation difficulty, it\u0027s performance as n gets large. Ksp devs have taken n body off the table for performance reasons, not because it\u0027s hard to do.\u003C/p\u003E\n"},{"CreatedByName":"NeilC","CreatedById":57575,"CreatedDateTime":"2013-07-13T15:19:39Z","Content":"\n\u003Cp\u003EBinary systems can be created without changing anything about the current game. This proposal would not add binary systems, it would increase the realism of spacecraft behaviour while it\u0027s between the binary bodies. Again, I\u0027m not claiming that\u0027s a bad thing. Just that it doesn\u0027t add much to gameplay. I agree that it\u0027s both \u0022cool\u0022 and \u0022awesome\u0022, and I\u0027m only staying in this discussion to help steer it towards \u0022practical\u0022.\u003C/p\u003E\u003Cp\u003EFel, there\u0027s no point in arguing with you further. I think invoking that frostiken thread is pretty much the Godwin\u0027s law of the ksp forums. In the same post you argue that ksp devs are wasting time with low-value features and also that there\u0027s no such thing as low value features. I really can\u0027t respond to that.\u003C/p\u003E\u003Cp\u003EChaos-forge, I look forward to seeing what you come up with for the unequal mass soi equations! What are your thoughts on 3 body systems like Ragnar anchorage?\u003C/p\u003E\n"},{"CreatedByName":"tntristan12","CreatedById":7005,"CreatedDateTime":"2013-07-13T15:26:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kragrathea\u0022 data-cite=\u0022Kragrathea\u0022\u003E\u003Cdiv\u003EAh! Hello Kerbals. I found the first post in this thread most fascinating, but I am afraid almost every post since has flown straight over my head. But no worries. I have forwarded on to the boffins and they will give me a summary...\u003Cp\u003EBut It may interest you to know that we at Kragrathea have some expertize in this area! We use a similar technique as a method for simulating all the \u0022important\u0022 bits of a barycenter. We call it a Manilo... where is that bloody video... Oh yes... Enjoy.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is two stars orbiting a planet which is not only unrealistic but as discussed in this very thread simulates very unphysical behavior off the centerline between them.\u003C/p\u003E\n"},{"CreatedByName":"Sean Mirrsen","CreatedById":3873,"CreatedDateTime":"2013-07-13T16:38:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tntristan12\u0022 data-cite=\u0022tntristan12\u0022\u003E\u003Cdiv\u003EExcept for cases when sudden time acceleration sends your spacecraft out of the solar system or throws moons out of orbit.\u003C/div\u003E\u003C/blockquote\u003EThe first still happens in extreme cases in KSP, and the latter does not apply as all of KSP\u0027s stellar bodies are on rails.\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EAlso, orbiter doesn\u0027t simulate physics to individual parts within a ship.\u003C/div\u003E\u003C/blockquote\u003ENeither does KSP when the numeric integration would be at work. At any significant time warp, everything is reduced to a parametrized point. \u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ESure, it works on a basic level but it is far from perfect and does not work for casual play like what KSP does.\u003C/div\u003E\u003C/blockquote\u003EOn the contrary, it is perfect for casual play (nothing is more exciting than having \u003Cstrong\u003Ereal\u003C/strong\u003E physics in accessible form), and would not require anything more complex than has already been done by other games, while adding a great amount of possibilities to both the world and the gameplay.\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-13T16:57:32Z","Content":"\n\u003Cp\u003EFirst of all, can we \u003Cstrong\u003Eplease\u003C/strong\u003E stop talking about the feasibility of implementing N-body physics? The devs have said time and time again that they are \u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003Enot\u003C/strong\u003E\u003C/span\u003E implementing N-body physics, it\u0027s on the do-not-suggest list, and I don\u0027t want this thread getting shut down. I shouldn\u0027t have gotten drawn into the argument, and I apologize for that, but can we please drop this or take it somewhere else?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kragrathea\u0022 data-cite=\u0022Kragrathea\u0022\u003E\u003Cdiv\u003EBut It may interest you to know that we at Kragrathea have some expertize in this area! We use a similar technique as a method for simulating all the \u0022important\u0022 bits of a barycenter. We call it a Manilo... where is that bloody video... Oh yes... Enjoy.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWow that looks interesting, is it a mod or something the devs have done?\u003C/p\u003E\n"},{"CreatedByName":"Mr Shifty","CreatedById":68146,"CreatedDateTime":"2013-07-13T17:03:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chaos_forge\u0022 data-cite=\u0022chaos_forge\u0022\u003E\u003Cdiv\u003EWow that looks interesting, is it a mod or something the devs have done?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s a mod in progress. Check out this post (and that whole thread) for more detail.\u003C/p\u003E\n"},{"CreatedByName":"chaos_forge","CreatedById":64960,"CreatedDateTime":"2013-07-13T17:10:53Z","Content":"\n\u003Cp\u003ECool, thanks for pointing me to that\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeilC\u0022 data-cite=\u0022NeilC\u0022\u003E\u003Cdiv\u003EChaos-forge, I look forward to seeing what you come up with for the unequal mass soi equations! What are your thoughts on 3 body systems like Ragnar anchorage? \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t see much of a problem with implementing that. As long as you had your Ragnar-analogue far away enough from the barycenter that neither its orbit nor its SOI intersected the VOI\u0027s of the two stars (which is more realistic anyways) it should work fine.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-13T17:21:21Z\u0022 title=\u002207/13/2013 05:21  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 13, 2013\u003C/time\u003E by chaos_forge\u003C/strong\u003E\n\u003C/span\u003E\n"}]}