{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":107,"Articles":[{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2014-12-09T00:39:53Z","Content":"\n\u003Cp\u003ESo, do I understand correctly that this makes DDSLoader effectively redundant because it\u0027s converting all textures to DXT, caching them, and then using them natively?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-09T00:41:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022johnsonwax\u0022 data-cite=\u0022johnsonwax\u0022\u003E\u003Cdiv\u003ESo, do I understand correctly that this makes DDSLoader effectively redundant because it\u0027s converting all textures to DXT, caching them, and then using them natively?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes/No. If a mod ships with DDS textures, you\u0027ll need to use DDS loader for those, but otherwise, yes. You don\u0027t need to convert existing textures to DDS.\u003C/p\u003E\n"},{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2014-12-09T00:48:01Z","Content":"\n\u003Cp\u003EHere\u0027s the ATM 4.0 game: Does it take longer to convert your textures in 4.0 first pass than the game previously ran without crashing due to hitting memory cap? I\u0027m going out on a limb and say that even on my quad i7/SSD machine, that KSP will run longer in the first pass without crashing than it has in the last week.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-09T00:59:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022johnsonwax\u0022 data-cite=\u0022johnsonwax\u0022\u003E\u003Cdiv\u003EHere\u0027s the ATM 4.0 game: Does it take longer to convert your textures in 4.0 first pass than the game previously ran without crashing due to hitting memory cap? I\u0027m going out on a limb and say that even on my quad i7/SSD machine, that KSP will run longer in the first pass without crashing than it has in the last week.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry? Not sure I follow. It will take a while to compress. Also: how fast was the DDS conversion tool? I am using pretty much the same library (ported) so there may be room for optimization if I knew there were gains to be had.\u003C/p\u003E\n"},{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2014-12-09T01:04:40Z","Content":"\n\u003Cp\u003EI was being snarky. I can usually only keep KSP running for about an hour before it runs out of RAM and crashes. If it takes 90 minutes to compress the textures, it could be the longest KSP session I\u0027ve had in a while, and that alone is something to be happy about, even if I\u0027m just playing the slow progress bar mini-game. \u003C/p\u003E\u003Cp\u003EBut between this and the new MM release which caches patches, my frequent reboots might be much more tolerable.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2014-12-09T01:14:17Z","Content":"\n\u003Cp\u003E\u0022Everything\u0022 is in the texturecache (at least it feels like it), including BoulderCo/Atmospheres (from EVE Overhaul) and /Clouds (from 7-4 and AVP -- is it bad that they are both present?) -- it\u0027s been a few game sessions since the big initial load (which generally went without a hitch).\u003C/p\u003E\u003Cp\u003EUsing EVE Overhaul, I do see the clouds from the ground and orbit (I don\u0027t see them in the start-up screen the way I had with the previous versions -- previously, I\u0027d thought that that was that and not examined more closely), but no city lights, which is a bit creepy with the darker skybox I\u0027ve installed.\u003C/p\u003E\u003Cp\u003EEDIT: I also don\u0027t see any terrain textures from orbit either, which makes me wonder if that\u0027s related to the lack of city lights. They\u0027re being loaded without error in the log, though.\u003C/p\u003E\u003Cp\u003EEDIT 2: I\u0027m whipping up a new install with only stock, this mod, and EVE Overhaul, to see if this is still the case.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-09T01:26:44Z\u0022 title=\u002212/09/2014 01:26  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 9, 2014\u003C/time\u003E by Kerbas_ad_astra\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-12-09T01:42:52Z","Content":"\n\u003Cp\u003EWow, even more RAM saved! Chopped off about 500MB. You weren\u0027t kidding about the initial load times, haha, but all good after that. I see reports of EVE textures not working but I just dropped in the new version, kept my old configs intact, and I\u0027m getting clouds, city lights, the whole shebang no problems.\u003C/p\u003E\u003Cp\u003EI wonder if some of the lack of city lights is from people not knowing about the issue where city lights generally don\u0027t load in the Tracking Station until after you\u0027ve gone in and out if the Flight mode with a vessel loaded. At least, that\u0027s the consistent behavior for me\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-09T02:01:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003E\u0022Everything\u0022 is in the texturecache (at least it feels like it), including BoulderCo/Atmospheres (from EVE Overhaul) and /Clouds (from 7-4 and AVP -- is it bad that they are both present?) -- it\u0027s been a few game sessions since the big initial load (which generally went without a hitch).\u003Cp\u003EUsing EVE Overhaul, I do see the clouds from the ground and orbit (I don\u0027t see them in the start-up screen the way I had with the previous versions -- previously, I\u0027d thought that that was that and not examined more closely), but no city lights, which is a bit creepy with the darker skybox I\u0027ve installed.\u003C/p\u003E\u003Cp\u003EEDIT: I also don\u0027t see any terrain textures from orbit either, which makes me wonder if that\u0027s related to the lack of city lights. They\u0027re being loaded without error in the log, though.\u003C/p\u003E\u003Cp\u003EEDIT 2: I\u0027m whipping up a new install with only stock, this mod, and EVE Overhaul, to see if this is still the case.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECould you do a screenshot of the directory? I\u0027m thinking that it wasn\u0027t cleaned up properly...\u003C/p\u003E\n"},{"CreatedByName":"Lechuza","CreatedById":129067,"CreatedDateTime":"2014-12-09T02:21:27Z","Content":"\n\u003Cp\u003EI don\u0027t see the clouds on Kerbin or Duna or any other planet for that matter, the clouds are from EVE Overhaul and/or the latest Astronomers Visual Pack Interstellar. I do see the City lights from orbit.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2014-12-09T02:23:29Z","Content":"\n\u003Cp\u003EIs that behavior new to this version? I\u0027ve never experienced that before. In any case, hopping to and from various vessels in orbit and the editor (still on my usual heavily-played and heavily-modded) hasn\u0027t brought back the lights or the terrain.\u003C/p\u003E\u003Cp\u003EOne other thing that occurred to me: I run KSP with forced OpenGL (RAM savings so I can run \u003Cem\u003Emoar mods!\u003C/em\u003E). The new install I\u0027m putting together will use DirectX to begin with, so we\u0027ll see if that might make a difference.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2014-12-09T02:28:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ECould you do a screenshot of the directory? I\u0027m thinking that it wasn\u0027t cleaned up properly...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhich one? I\u0027m pretty sure I cleared out all the old DLLs and stuff (zipped up the \u0022Clouds\u0022 directory as a backup and then deleted it, just in case it would interfere somehow).\u003C/p\u003E\n"},{"CreatedByName":"Lechuza","CreatedById":129067,"CreatedDateTime":"2014-12-09T02:35:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EWhich one? I\u0027m pretty sure I cleared out all the old DLLs and stuff (zipped up the \u0022Clouds\u0022 directory as a backup and then deleted it, just in case it would interfere somehow).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid the same thing here and I am having the same problem. Only I forgot to backup :S\u003C/p\u003E\u003Cp\u003ELet me know if it works with a clean install. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-09T03:29:26Z","Content":"\n\u003Cp\u003EThese are all really odd issues. My suggestion would be to try deleting the cache folder for \u0022Atmosphere\u0022 and/or \u0022clouds\u0022 and see if that fixes it.\u003C/p\u003E\n"},{"CreatedByName":"LitaAlto","CreatedById":110917,"CreatedDateTime":"2014-12-09T03:33:48Z","Content":"\n\u003Cp\u003EI have a memory monitor and defrag utility which I often run alongside KSP just to help keep things running smoothly.\u003C/p\u003E\u003Cp\u003EI just started the new ATM. My PC has crawled to an expected near-standstill.\u003C/p\u003E\u003Cp\u003EBut I\u0027m watching the memory utilization drop. And this is actually cool enough that I\u0027m OK with just watching the load screen eke along.\u003C/p\u003E\u003Cp\u003EI\u0027m such a geek.\u003C/p\u003E\n"},{"CreatedByName":"Lechuza","CreatedById":129067,"CreatedDateTime":"2014-12-09T03:48:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EThese are all really odd issues. My suggestion would be to try deleting the cache folder for \u0022Atmosphere\u0022 and/or \u0022clouds\u0022 and see if that fixes it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAny way I can make it so it will skip the Clouds folder? That way I will be using ATM for everything except the clouds textures? I could try doing that.\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-12-09T03:49:51Z","Content":"\n\u003Cp\u003EHas anyone else had issues with KSP stalling on a Mac and having to force quit it? Or should I just wait through it, even though it\u0027s unresponsive?\u003C/p\u003E\n"},{"CreatedByName":"requimrar","CreatedById":8069,"CreatedDateTime":"2014-12-09T03:52:22Z","Content":"\n\u003Cp\u003E@Robotengineer:\u003C/p\u003E\u003Cp\u003EJust wait, the progress bar is still moving. Unless you have a ridiculously powerful computer, it will take upwards of a few seconds to convert each texture, especially higher resolution ones.\u003C/p\u003E\n"},{"CreatedByName":"Artophwar","CreatedById":65084,"CreatedDateTime":"2014-12-09T03:52:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ESorry? Not sure I follow. It will take a while to compress. Also: how fast was the DDS conversion tool? I am using pretty much the same library (ported) so there may be room for optimization if I knew there were gains to be had.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBy the the DDS conversion tool are talking about DDS4KSP?? Because I will tell you that it converts things pretty fast. I did my whole mod folder in like 2 mins or less with about 70 mods.\u003C/p\u003E\n"},{"CreatedByName":"Saint-Stanislas","CreatedById":72776,"CreatedDateTime":"2014-12-09T03:58:02Z","Content":"\n\u003Cp\u003EACTIVE_TEXTURE_MANAGER_CONFIG\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E folder = ThemodIwantToSkip\u003C/p\u003E\u003Cp\u003E enabled = false\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003Ejust put this kind of file along with the others .cfg in boulderCo/activetexturemanagertconfig\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2014-12-09T04:20:00Z","Content":"\n\u003Cp\u003EGot done with the Stock\u002BATM\u002BEVE Overhaul save (which took longer than expected because I\u0027ve been spoiled by OpenGL -- DirectX won\u0027t do work, like compress textures, when I\u0027m not focused on it). Clouds, terrain, and city lights visible upon starting a new save (but still not from the starting screen, which is a disappointing loss), so I\u0027ll see about deleting those cache folders to see if that fixes my heavily-modded install (and it doesn\u0027t, I\u0027ll play the game of \u0022which of Kerbas\u0027s umpty-bazillion mods breaks ATM 4?\u0022).\u003C/p\u003E\u003Cp\u003EWhile I\u0027m running such a clean save, I\u0027ve noticed that the light on my ship also flickers periodically, and it seems to be linked to passing over a very cloudy spot. Also, when coming into sunrise on a high orbit, a big circle of the atmospheric layer seems to vanish, but it only grows to half the planet. Also also, is the water supposed to be so clear? It\u0027s fine near the shore, but looks very strange on the horizon. (I guess these might be better directed to the EVE Overhaul thread.)\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/FzFto\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"LitaAlto","CreatedById":110917,"CreatedDateTime":"2014-12-09T04:21:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Artophwar\u0022 data-cite=\u0022Artophwar\u0022\u003E\u003Cdiv\u003EBy the the DDS conversion tool are talking about DDS4KSP?? Because I will tell you that it converts things pretty fast. I did my whole mod folder in like 2 mins or less with about 70 mods.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat was my experience as well.\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2014-12-09T04:29:45Z","Content":"\n\u003Cp\u003ESorry if this is an idiotic question - I get what the max_size variable in the config file does, but what about min_size? I assume that it means that anything of size X or smaller \u003Cem\u003Ewon\u0027t \u003C/em\u003Ebe scaled at all - does it exclude certain images from scaling like that, or does it prevent downscaling \u003Cem\u003Epast \u003C/em\u003Ethat size? E.g. size 512x512, scale set to 4 (would become 128x128), but min_size set to 256: that image becomes 256x256?\u003C/p\u003E\u003Cp\u003EI guess in other words: is it the minimum size of images to be considered for scaling, or is it the minimum size of the resulting scaled images (which would include the first case, too)?\u003C/p\u003E\n"},{"CreatedByName":"Lechuza","CreatedById":129067,"CreatedDateTime":"2014-12-09T04:37:04Z","Content":"\n\u003Cp\u003EStill can\u0027t get those clouds working, I guess I might not have any other option but to revert to a previous ATM version, although I was cutting my mem usage by entire gig \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2014-12-09T04:49:53Z","Content":"\n\u003Cp\u003EOk, this is working ridiculously well so far. Much faster and my RAM usage has remained in check. The only problem I can report is that the thumbnails in the VAB that are shown when you rollover sometimes stick - if I rollover one part, it\u0027ll pick up the thumbnail properly, but show the same one on the next part, etc. until I move the mouse away from the part picker and then it resets. It\u0027s possible it was doing that before and I upgraded to 4.0 just didn\u0027t notice, however. And it only does it in a few places, not everywhere. \u003C/p\u003E\u003Cp\u003EBut KSP is playable again. Thank you a million times.\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-12-09T04:56:05Z","Content":"\n\u003Cp\u003EI tried to get AVP, this is what happens.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/sJFZ9UT.png\u0022 alt=\u0022sJFZ9UT.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/yvfZQ58.png\u0022 alt=\u0022yvfZQ58.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EOther mods.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/FKBoc8v.png\u0022 alt=\u0022FKBoc8v.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/czcip96tjcp3tzl/Player%20copy.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EHere is the player.log.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI loaded it with stock first, and then added AVP, could that be it?\u003C/p\u003E\n"}]}