{"TopicId":17833,"ForumId":34,"TopicTitle":"[1.3.0] Kerbal Engineer Redux 1.1.3.0 (2017-05-28)","CreatedByName":"cybutek","CreatedById":32393,"CreatedDateTime":"2012-08-26T08:42:03Z","PageNum":35,"Articles":[{"CreatedByName":"Wirraway","CreatedById":82437,"CreatedDateTime":"2014-04-27T12:14:39Z","Content":"\n\u003Cp\u003EHi all,\u003C/p\u003E\u003Cp\u003EI\u0027m using the current experimental version of the KER dll\u0027s but have a problem in the VAB. If I add the engineering parts to a craft then click the KER button on the tool bar, all that happens is the spacecraft name box (top middle of the screen) hides or appears. KER works fine in flight mode though. Any thoughts on what could be wrong?\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-04-27T14:07:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wirraway\u0022 data-cite=\u0022Wirraway\u0022\u003E\u003Cdiv\u003E\u0026lt;snip\u0026gt;\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESounds like you\u0027re attaching the chip that displays flight data only. Have you tried attaching a different one?\u003C/p\u003E\n"},{"CreatedByName":"Wirraway","CreatedById":82437,"CreatedDateTime":"2014-04-28T12:32:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003ESounds like you\u0027re attaching the chip that displays flight data only. Have you tried attaching a different one?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have tried all three with the same result. I have a vague feeling this happened back when 0.23 first came out too. After a version or two of engineer the problem went away. My memory is a little vague on that case though.\u003C/p\u003E\n"},{"CreatedByName":"Wirraway","CreatedById":82437,"CreatedDateTime":"2014-04-28T12:38:31Z","Content":"\n\u003Cp\u003EHmm ... ok. Disaster averted. I deleted everything engineer again, for about the fourth time and reinstalled it and now it works. I have no idea why ...\u003C/p\u003E\n"},{"CreatedByName":"Castun","CreatedById":4581,"CreatedDateTime":"2014-04-28T15:11:15Z","Content":"\n\u003Cp\u003ENot sure why, but I\u0027m definitely having an issue where KER doesn\u0027t like certain craft configurations. On my current rocket, I\u0027ve got a couple procedural interstage fairing bases in between the engine so I have a custom shaped engine shroud (mainly to adapt to larger size stage underneath without having to use the adapter parts.) This seems to confuse and break KER, in the VAB the staging menu is completely blank, and when in flight it just shows a narrow grey bar. I haven\u0027t tried the experimental version yet though.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-04-28T15:32:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Castun\u0022 data-cite=\u0022Castun\u0022\u003E\u003Cdiv\u003ENot sure why, but I\u0027m definitely having an issue where KER doesn\u0027t like certain craft configurations. On my current rocket, I\u0027ve got a couple procedural interstage fairing bases in between the engine so I have a custom shaped engine shroud (mainly to adapt to larger size stage underneath without having to use the adapter parts.) This seems to confuse and break KER, in the VAB the staging menu is completely blank, and when in flight it just shows a narrow grey bar. I haven\u0027t tried the experimental version yet though.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA similar problem has been reported with the experimental version. I will look into it ASAP but it would help greatly if you could provide an example craft (preferably that only uses stock and procedural fairings parts).\u003C/p\u003E\u003Cp\u003ESince you are still using the standard 0.6.2.3 release, I assume you are also still using KSP 0.23. Is this true? If you have KSP 0.23.5, then you should definitely use the experimental version as various things were changed in the core game that break the deltaV calculations and there have been lots of other fixes too. The experimental version is compiled against 0.23.5 and it may not work correctly (or at all) with older versions.\u003C/p\u003E\n"},{"CreatedByName":"TMS","CreatedById":57134,"CreatedDateTime":"2014-04-28T15:50:40Z","Content":"\n\u003Cp\u003ECan I ask what I think is a rudimentary question?\u003C/p\u003E\u003Cp\u003EI assume certain values are already calculated by stock KSP and are \u0027merely\u0027 presented by the mod in an accessible fashion, but that others are derived/calculated (such as current in-flight delta-v) based on stock input values.\u003C/p\u003E\u003Cp\u003EBasically, I\u0027m trying to determine if I don\u0027t \u003Cstrong\u003Edisplay\u003C/strong\u003E certain calculated values, whether it reduces the computational overhead of the mod, or whether the calculations happen anyway behind the scenes?\u003C/p\u003E\n"},{"CreatedByName":"Castun","CreatedById":4581,"CreatedDateTime":"2014-04-28T16:20:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EA similar problem has been reported with the experimental version. I will look into it ASAP but it would help greatly if you could provide an example craft (preferably that only uses stock and procedural fairings parts).\u003Cp\u003ESince you are still using the standard 0.6.2.3 release, I assume you are also still using KSP 0.23. Is this true? If you have KSP 0.23.5, then you should definitely use the experimental version as various things were changed in the core game that break the deltaV calculations and there have been lots of other fixes too. The experimental version is compiled against 0.23.5 and it may not work correctly (or at all) with older versions.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think that was my problem. I am using .23.5 so while it still worked, it did have issues. I tried the experimental version and it seems to be working now. I\u0027ll report if it comes up again.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-04-28T16:29:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TMS\u0022 data-cite=\u0022TMS\u0022\u003E\u003Cdiv\u003ECan I ask what I think is a rudimentary question?\u003Cp\u003EI assume certain values are already calculated by stock KSP and are \u0027merely\u0027 presented by the mod in an accessible fashion, but that others are derived/calculated (such as current in-flight delta-v) based on stock input values.\u003C/p\u003E\u003Cp\u003EBasically, I\u0027m trying to determine if I don\u0027t \u003Cstrong\u003Edisplay\u003C/strong\u003E certain calculated values, whether it reduces the computational overhead of the mod, or whether the calculations happen anyway behind the scenes?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, basically most of the values in the orbital, surface and rendezvous windows are either read directly from the core game or are very quick to calculate. The surface impact calculations are the most complex and they currently run regardless of the visibility of the fields in the window (though if the surface tab is closed they don\u0027t run). However, the calculations do take some time and it is almost certainly not necessary to update the displayed values every time the window redraws so a bit of caching can probably reduce the impact considerably. The question is, is it worth it? I can\u0027t really answer that just yet as the laptop I am using is seriously underpowered (I\u0027m lucky to get 15fps with just a capsule on the launch pad) but I will be getting a much better machine shortly and will investigate this then.\u003C/p\u003E\u003Cp\u003EThe deltaV calculations are by far the most complex. In the VAB they run when the window is open. In flight they run if the VES window is open. Only part of the work is done in the main thread with the actual fuel flow simulation being done in a background thread so, if you have a multi-core CPU the impact on the game should be considerably less. In the 0.6.2.3 release it delays the next simulation by 10 times how long the previous one took but the experimental version changes this because this strategy falls down in extreme cases. For simple craft this can result in it running far more often than necessary and for complex craft, or if a particular run of the simulation takes longer than it should for some reason (e.g. some other multitasking process hogs the CPU for a while), the next run can be delayed by many seconds. The actual delay strategy used in the experimental version is still under review (as is whether to add options to control it) but currently it simply aims to run 10 times per second or as fast as it can if it can\u0027t manage this fast.\u003C/p\u003E\u003Cp\u003EHave you checked to see if closing the whole window actually improves your framerate? I would be interested in any hard numbers you have (along with details of computer, mods installed and the craft you were testing)...\u003C/p\u003E\n"},{"CreatedByName":"Castun","CreatedById":4581,"CreatedDateTime":"2014-04-28T16:32:50Z","Content":"\n\u003Cp\u003EIs it possible for other plugins to access KERs calculations? Was just thinking how wonderful it would be to have KER on an RPM display.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-04-28T17:14:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Castun\u0022 data-cite=\u0022Castun\u0022\u003E\u003Cdiv\u003EIs it possible for other plugins to access KERs calculations? Was just thinking how wonderful it would be to have KER on an RPM display.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, the orbital, surface and rendezvous calculations are quite tightly bound into the window code but the deltaV simulation is done by a separate bit of code that it should be possible to access from another plugin using reflection. The \u003Ca href=\u0022https://github.com/Gerry1135/Engineer/blob/simulate/Engineer/VesselSimulator/SimManager.cs\u0022 rel=\u0022external nofollow\u0022\u003ESimManager\u003C/a\u003E class is what does the work. I would be quite happy to assist an RPM dev with getting this to work.\u003C/p\u003E\u003Cp\u003EI have also considered splitting the simulation code into a separate plugin that would be accessed in a standard way but this needs a redesign of the SimManager interface to make it easier for multiple plugins to use it simultaneously so this isn\u0027t going to happen for a while (if at all).\u003C/p\u003E\n"},{"CreatedByName":"Amaroq","CreatedById":57607,"CreatedDateTime":"2014-04-28T17:27:23Z","Content":"\n\u003Cp\u003E^^\u003C/p\u003E\u003Cp\u003EYes! Yes! Yes! This would \u003Cstrong\u003Erule\u003C/strong\u003E!\u003C/p\u003E\n"},{"CreatedByName":"Castun","CreatedById":4581,"CreatedDateTime":"2014-04-28T17:38:07Z","Content":"\n\u003Cp\u003EI\u0027m mostly interested in the deltaV calculations, as most of the other info is already implemented in RPM already.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-04-28T18:42:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Castun\u0022 data-cite=\u0022Castun\u0022\u003E\u003Cdiv\u003EI\u0027m mostly interested in the deltaV calculations, as most of the other info is already implemented in RPM already.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESomewhat related - if you have the ALCOR pod installed along with Mechjeb, ALCOR pulls the dV info from MJ and displays it on its screens.\u003C/p\u003E\n"},{"CreatedByName":"Castun","CreatedById":4581,"CreatedDateTime":"2014-04-28T19:07:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003ESomewhat related - if you have the ALCOR pod installed along with Mechjeb, ALCOR pulls the dV info from MJ and displays it on its screens.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm, it should be possible to find the appropriate code in the screen config and use it in other RPM displays then if that\u0027s the case. I\u0027ll have to look into this.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-04-28T19:14:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Castun\u0022 data-cite=\u0022Castun\u0022\u003E\u003Cdiv\u003EHmm, it should be possible to find the appropriate code in the screen config and use it in other RPM displays then if that\u0027s the case. I\u0027ll have to look into this.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh wait, sorry, I just remembered - it\u0027s not an RPM screen, it\u0027s one of its own i.e. there\u0027s no config for it, it\u0027s all in the code.\u003C/p\u003E\n"},{"CreatedByName":"Castun","CreatedById":4581,"CreatedDateTime":"2014-04-28T19:51:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EOh wait, sorry, I just remembered - it\u0027s not an RPM screen, it\u0027s one of its own i.e. there\u0027s no config for it, it\u0027s all in the code.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe ALCOR screens all have config files too though, and they seem to use the same commands for calling up info.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-04-28T19:59:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Castun\u0022 data-cite=\u0022Castun\u0022\u003E\u003Cdiv\u003EThe ALCOR screens all have config files too though, and they seem to use the same commands for calling up info.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou misunderstand me:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ZPK9Cqc.png\u0022 alt=\u0022ZPK9Cqc.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EDelta-V is displayed on the screen on the top right, under liquid fuel and oxidiser. There\u0027s no config file for it because it\u0027s not an RPM screen, it\u0027s all in the ALCOR code.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022alexustas\u0022 data-cite=\u0022alexustas\u0022\u003E\u003Cdiv\u003EIf you have MJ installed on your vessel, you\u0027ll see DeltaV, otherwise the weight of the propellant. \u003Cp\u003ERPM plugin can count Delta itself, but its way is simplified enough and for correct calculation of delta on complex vessel (fuel pumping or with SRB) it is not suitable. Therefore \u003Cstrong\u003EMihara\u003C/strong\u003E decided to just \u0022ask\u0022 headroom information from Delta from MJ if it is on board.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-28T20:05:50Z\u0022 title=\u002204/28/2014 08:05  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 28, 2014\u003C/time\u003E by ObsessedWithKSP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MrBarragan","CreatedById":109845,"CreatedDateTime":"2014-04-28T23:20:56Z","Content":"\n\u003Cp\u003EI\u0027m also having a lot of problems with Solid Rocket Boosters. I cannot get them to register. The mass sometimes registers but the delta-v doesn\u0027t. I think I got it to show up once but other than that it doesn\u0027t show. I\u0027m running v0.23.5.464 with 0.6.2.3.\u003C/p\u003E\u003Cp\u003EHere is a link to the craft: \u003Ca href=\u0022https://drive.google.com/file/d/0BwcY7tTE_wC9XzVYbUh5aWx6ZE0/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/0BwcY7tTE_wC9XzVYbUh5aWx6ZE0/edit?usp=sharing\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EJust attach any srb to the bottom stage and you\u0027ll see what i mean.\u003C/p\u003E\u003Cp\u003EThis is not unique to that ship though... I\u0027ve never been able to get deltav out of SRBs on any ship. Any help would be appreciated.\u003C/p\u003E\n"},{"CreatedByName":"MrBarragan","CreatedById":109845,"CreatedDateTime":"2014-04-28T23:38:42Z","Content":"\n\u003Cp\u003EYou can just do this:\u003C/p\u003E\u003Cp\u003EUse any cockpit\u003C/p\u003E\u003Cp\u003ETR-18A decoupler\u003C/p\u003E\u003Cp\u003ELFB KR-1x2 \u003C/p\u003E\u003Cp\u003EYou\u0027ll see that you get no delta-v readings for that either. Something with the decouplers is killing the calculation in lower stages.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-04-29T10:43:32Z","Content":"\n\u003Cp\u003EMrBarragan, make sure you\u0027re using the up to date version of Engineer - that problem was fixed. (EDIT: For clarity, I mean the one from the \u0027test of new KER dV simulation code\u0027 thread which I believe is linked in the OP)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/CkvDp2L.png\u0022 alt=\u0022CkvDp2L.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-04-29T11:37:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EMrBarragan, make sure you\u0027re using the up to date version of Engineer - that problem was fixed. (EDIT: For clarity, I mean the one from the \u0027test of new KER dV simulation code\u0027 thread which I believe is linked in the OP)\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/CkvDp2L.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/CkvDp2L.png\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, all sorts of issues have been fixed in the experimental version and you may also notice the Max TWR value.\u003C/p\u003E\u003Cp\u003EThat \u0022rocket\u0022 should make it to orbit if you throttle it back. About 33% off the pad should avoid going to much over terminal velocity and throttle back further as you burn off the fuel and get out of the thick part of the atmosphere (probably down to minimum throttle before the engine shuts down). Probably best to adjust the throttle limiter in the VAB to 40% or so to give you better control. I\u0027m working at the moment so I can\u0027t check, but does it still have enough dV if you replace the pod and decoupler with the larger ones?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-29T11:41:44Z\u0022 title=\u002204/29/2014 11:41  AM\u0022 data-short=\u002210 yr\u0022\u003EApril 29, 2014\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-04-29T12:08:00Z","Content":"\n\u003Cp\u003EYep, it has plenty to get into orbit and also deorbit itself. I didn\u0027t go the whole way, but you can see in the last picture, I have 900 m/s left and only a tiny circularising burn to to. I didn\u0027t limit thrust, but you can see how low the throttle was during ascent - it had TWR of about 4.something at launch with full throttle, really have to ride it all the way up to stop it going too high and out of control.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/cSJnb\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EAlso, I have a feeling Proot has had a bit of fun with the exhaust FX...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/DBZTjDe.png\u0022 alt=\u0022DBZTjDe.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-04-29T12:13:53Z","Content":"\n\u003Cp\u003ENicely flown, good job. Do you only see the strange exhaust at very low throttle, or only while in space? It may be that something got confused about what texture to use...\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-04-29T12:17:38Z","Content":"\n\u003Cp\u003EThanks. I suspect FAR also did it\u0027s job at keeping the dV requirements low too.\u003C/p\u003E\u003Cp\u003EThe strange effects were at low throttle, yes.. but also only at certain angles...\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/PRq9i\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\n"}]}