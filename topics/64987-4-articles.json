{"TopicId":64987,"ForumId":34,"TopicTitle":"[1.8.x-1.10.x] SmokeScreen 2.8.14 - Extended FX plugin (18 April 2020)","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-03-05T21:51:59Z","PageNum":4,"Articles":[{"CreatedByName":"eggrobin","CreatedById":4680,"CreatedDateTime":"2014-03-11T13:24:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EThe reflection plugin does not use a geometry shader afaik. And it\u0027s not the first plugin to import a shader. Kethane does it, I did it for MJ and I\u0027m sure other did too. \u003Cp\u003EBut there are limits to what we can do from inside KSP and importing a geometry shader is one of those limits AFAIK. I\u0027ll have a look at the Reflection plugin code but I doubt it uses anything different from what I use now.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m completely clueless as far as graphics are concerned so I don\u0027t know how relevant this is, but \u003Cstrong\u003Erbray89\u003C/strong\u003E \u003Ca href=\u0022https://github.com/waka324/VisualEnhancements\u0022 rel=\u0022external nofollow\u0022\u003Eseems to use shaders he writes in GLSL\u003C/a\u003E, which none of the aforementioned mods do (actually, most of his code is GLSL).\u003C/p\u003E\n"},{"CreatedByName":"skykooler","CreatedById":60459,"CreatedDateTime":"2014-03-11T17:11:24Z","Content":"\n\u003Cp\u003EAren\u0027t the reentry effects geometry shaders?\u003C/p\u003E\n"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2014-03-11T17:55:02Z","Content":"\n\u003Cp\u003EI\u0027m becoming mad trying to achieve realistic FX. Not only with smoke (the parallel hitting behaviour of my particles is simply absurd, It seems like the smoke go on skate) but also with the growth of the %\u0026amp;$# flames...\u003C/p\u003E\u003Cp\u003EMoments when you realize how limited you are. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Jovzin","CreatedById":105152,"CreatedDateTime":"2014-03-11T21:53:26Z","Content":"\n\u003Cp\u003Enothke? And what about this \u003Cimg src=\u0022http://i.imgur.com/40bGScU.gif\u0022 alt=\u002240bGScU.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EI am really looking forward to this mod. My KSP gamedata folder will be complete with this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2014-03-12T00:16:34Z","Content":"\n\u003Cp\u003EStill getting ugly, flashing reentry effects. Is there a fix I can perform before I remove the plugin?\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2014-03-12T00:27:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Jovzin\u0022 data-cite=\u0022Jovzin\u0022\u003E\u003Cdiv\u003Enothke? And what about this \u003Ca href=\u0022http://i.imgur.com/40bGScU.gif\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/40bGScU.gif\u003C/a\u003E \u003Cp\u003EI am really looking forward to this mod. My KSP gamedata folder will be complete with this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStubbles put something similar in the 1.2 release of the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/71835-0-23-Horizon-Aeronautics-Zenit-3SLB-v1-2-updated-3-9-14\u0022 rel=\u0022external nofollow\u0022\u003EHA Zenit-3SLB\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/1482056/horizon71.gif\u0022 alt=\u0022horizon71.gif\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2014-03-12T02:38:31Z","Content":"\n\u003Cp\u003EActually, another request (on top of being able to apply SmokeScreen to part explosions)\u003C/p\u003E\u003Cp\u003EThe ability to add particle trails to Wheels\u003C/p\u003E\n"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2014-03-12T03:19:07Z","Content":"\n\u003Cp\u003EI achieve those effects, but the behaviour of my grounded particles comes out much more quickly and in a star shape (ignoring the launch pad in some points) . I can\u0027t avoid that, as much I try. (And I\u0027ve tried A LOT)\u003C/p\u003E\u003Cp\u003EThe particles grow and aspect in my configs is very cool, but when my grounded particles hit on other objects in horizontal direction (as the tank at a side of the launch pad) they come out bounced very quick in 45\u00C3\u201A\u00C2\u00BA angle, ruining the effect .\u003C/p\u003E\u003Cp\u003ENeither I\u0027m able to fit the flame and the start of the smoke trail and at the same size. I wish my flames would end bigger than the emisor and at the same size at smoke starts. Similar to this nothke\u0027s magnificent:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/Ojo44sl0Tts?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EAnother little-big thing that I hate: the damn separated ball effect of my trails at high speeds. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stubbles","CreatedById":36867,"CreatedDateTime":"2014-03-12T03:49:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Proot\u0022 data-cite=\u0022Proot\u0022\u003E\u003Cdiv\u003Emy grounded particles comes out much more quickly and in a star shape\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s because of the actual particle system itself. I believe Nazari is using ellipsoid emitters with zeroed out forces on the particles. For my launch smoke I have a point emitter that has a force on one direction axis, which aligns with the launch pad. If you rotate my rocket 90\u00C3\u201A\u00C2\u00BA, the smoke won\u0027t look right at all. It will hit the pad and spray out everywhere.\u003C/p\u003E\u003Cp\u003EI was trying to imitate the effect that Nothke did with his pad smoke, but I don\u0027t know how he did it. His particle system is doing things I don\u0027t know how to do. It\u0027s moving extremely fast at first, then slowing down, then moving upwards. The particles themselves have a slight jittery animation to them, which again, no idea how he does that. The KSP emitter settings are super limited, so I\u0027m looking forward to hearing how he\u0027s doing that. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-03-12T08:02:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Proot\u0022 data-cite=\u0022Proot\u0022\u003E\u003Cdiv\u003EI achieve those effects, but the behaviour of my grounded particles comes out much more quickly and in a star shape (ignoring the launch pad in some points) . I can\u0027t avoid that, as much I try. (And I\u0027ve tried A LOT)\u003Cp\u003EThe particles grow and aspect in my configs is very cool, but when my grounded particles hit on other objects in horizontal direction (as the tank at a side of the launch pad) they come out bounced very quick in 45\u00C3\u201A\u00C2\u00BA angle, ruining the effect .\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t really know how to make the smoke moving in a more realistic way. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Proot\u0022 data-cite=\u0022Proot\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAnother little-big thing that I hate: the damn separated ball effect of my trails at high speeds. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFor now try increasing emission with mach. I\u0027ll add more parameter to change it with velocity (since at some point I\u0027ll have to stop cheating and build mach speed from the actual speed of sound).\u003C/p\u003E\u003Cp\u003Estubbles : ahah, so many people wondering. He explained it to me but I\u0027ll keep it secret for now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\u003Cp\u003EYou won\u0027t be able to make something that look like what he did and looks nice for all case and camera position.\u003C/p\u003E\n"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2014-03-12T09:00:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stubbles\u0022 data-cite=\u0022stubbles\u0022\u003E\u003Cdiv\u003EThat\u0027s because of the actual particle system itself. I believe Nazari is using ellipsoid emitters with zeroed out forces on the particles. For my launch smoke I have a point emitter that has a force on one direction axis, which aligns with the launch pad. If you rotate my rocket 90\u00C3\u201A\u00C2\u00BA, the smoke won\u0027t look right at all. It will hit the pad and spray out everywhere.\u003Cp\u003EI was trying to imitate the effect that Nothke did with his pad smoke, but I don\u0027t know how he did it. His particle system is doing things I don\u0027t know how to do. It\u0027s moving extremely fast at first, then slowing down, then moving upwards. The particles themselves have a slight jittery animation to them, which again, no idea how he does that. The KSP emitter settings are super limited, so I\u0027m looking forward to hearing how he\u0027s doing that. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI see... Thanks stubbles. It was driving me crazy trying to avoid that star shape... Is not completely ugly, but its very weird see the smoke coming out from launchpad\u0027s concrete...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI don\u0027t really know how to make the smoke moving in a more realistic way. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was assuming this is completely my fault, you give us an awesome tool here! Thank you!\u003C/p\u003E\u003Cp\u003EThis is what I was trying to reach (excuse a so quick sketch):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/hwtGN6o.png\u0022 alt=\u0022hwtGN6o.png\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EFor now try increasing emission with mach. I\u0027ll add more parameter to change it with velocity (since at some point I\u0027ll have to stop cheating and build mach speed from the actual speed of sound).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat tip, very appreciated, thank you very much!\u003C/p\u003E\n"},{"CreatedByName":"Jovzin","CreatedById":105152,"CreatedDateTime":"2014-03-12T10:30:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NoMrBond\u0022 data-cite=\u0022NoMrBond\u0022\u003E\u003Cdiv\u003EStubbles put something similar in the 1.2 release of the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/71835-0-23-Horizon-Aeronautics-Zenit-3SLB-v1-2-updated-3-9-14\u0022 rel=\u0022external nofollow\u0022\u003EHA Zenit-3SLB\u003C/a\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/1482056/horizon71.gif\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/1482056/horizon71.gif\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank it looks nice. \u003C/p\u003E\u003Cp\u003EI will try it.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-03-12T13:26:07Z","Content":"\n\u003Cp\u003EProot : To have the launchpad smoke look better you can experiment with the damping parameter in unity. 1 means particles don\u0027t slow down and 0.7 means they loose 30% of their speed per second.\u003C/p\u003E\n"},{"CreatedByName":"eggrobin","CreatedById":4680,"CreatedDateTime":"2014-03-13T01:03:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Proot\u0022 data-cite=\u0022Proot\u0022\u003E\u003Cdiv\u003EI achieve those effects, but the behaviour of my grounded particles comes out much more quickly and in a star shape (ignoring the launch pad in some points) .\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have submitted \u003Ca href=\u0022https://github.com/sarbian/SmokeScreen/pull/3\u0022 rel=\u0022external nofollow\u0022\u003Ea pull request\u003C/a\u003E that alleviates this (by changing the behaviour on collision).\u003C/p\u003E\u003Cp\u003EIt also includes other highly experimental stuff (buoyancy/weight, and some kind of handwavy drag for the particles), so \u003Cem\u003Ecaveat compilator\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003EThe highly experimental stuff can be turned off by setting physical = false.\u003C/p\u003E\u003Cp\u003EI have no experience with Unity, so the screenshot looks really ugly (as explained in the pull request, I needed to make my own .mu with no damping for the experimental features).\u003C/p\u003E\n"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2014-03-13T01:25:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EProot : To have the launchpad smoke look better you can experiment with the damping parameter in unity. 1 means particles don\u0027t slow down and 0.7 means they loose 30% of their speed per second.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPure gold information, my incapacity is so evident... Thank you Sarbian!! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_kiss.gif\u0022 alt=\u0022:kiss:\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022eggrobin\u0022 data-cite=\u0022eggrobin\u0022\u003E\u003Cdiv\u003EI have submitted \u003Ca href=\u0022https://github.com/sarbian/SmokeScreen/pull/3\u0022 rel=\u0022external nofollow\u0022\u003Ea pull request\u003C/a\u003E that alleviates this (by changing the behaviour on collision).\u003Cp\u003EIt also includes other highly experimental stuff (buoyancy/weight, and some kind of handwavy drag for the particles), so \u003Cem\u003Ecaveat compilator\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003EThe highly experimental stuff can be turned off by setting physical = false.\u003C/p\u003E\u003Cp\u003EI have no experience with Unity, so the screenshot looks really ugly (as explained in the pull request, I needed to make my own .mu with no damping for the experimental features).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESounds well! I\u0027m gonna try it if I have a little of time.\u003C/p\u003E\n"},{"CreatedByName":"nothke","CreatedById":51185,"CreatedDateTime":"2014-03-13T01:55:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EFor now try increasing emission with mach\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EParticle birth is bound to fps, (or something like that, performance related), which is why they combine into a single point if you put more than they generate. So for example lets say they generate 60 times a second, and you put emission to 120, then, 2 particles will generate at the same place. If you are running really fast, this is quite obvious. Increasing generation with mach won\u0027t help as you will just be generating more particles at the same point.\u003C/p\u003E\u003Cp\u003EThe trick to avoid this is creating them with a different shape, if you use line, then the 2 particles will not generate at the same spot, but will generate at 2 different points along the line. But even if you put a line/sphere/ellipsoid whatever, you will still see \u0022clumps\u0022 at very high speed. There are a few more inherent problems to this technique too, like weird linear generation when going sideways.\u003C/p\u003E\u003Cp\u003EAnother way to alleviate this is to add random velocity or force so that particles get separated.\u003C/p\u003E\u003Cp\u003EOn one side generation with fps is awful, but on the other hand, making shock diamonds is quite easy cause of this, cause they will always generate at same distance.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-13T02:00:44Z\u0022 title=\u002203/13/2014 02:00  AM\u0022 data-short=\u002210 yr\u0022\u003EMarch 13, 2014\u003C/time\u003E by nothke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"eggrobin","CreatedById":4680,"CreatedDateTime":"2014-03-13T04:08:06Z","Content":"\n\u003Cp\u003EI\u0027ve managed to get some nicer results out of buoyant smoke (more on the pull request page).\u003C/p\u003E\u003Cp\u003EI think this could also be used (with high initialDensity) for cryogenic condensation.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://f.cloud.github.com/assets/2284290/2405898/0904ceb4-aa5d-11e3-8eb6-f0aa72826eb3.png\u0022 alt=\u00220904ceb4-aa5d-11e3-8eb6-f0aa72826eb3.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://f.cloud.github.com/assets/2284290/2405902/1b9b8b1c-aa5d-11e3-8367-6f35219fdb92.png\u0022 alt=\u00221b9b8b1c-aa5d-11e3-8367-6f35219fdb92.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-03-13T04:18:22Z","Content":"\n\u003Cp\u003EThe images in this thread look sweet, but I\u0027m a bit concerned about my already glacial fps, I guess if you can dispatch with most of the physics it should be ok, could \u0022cheat\u0022 and make the smoke move a certain way during launch, since we know the shape of the pad, making the smoke go down the grate and then to the side doesn\u0027t need physics, just a pre-defined movement path, only real problem with that solution is the variable of how high the nozzle is from the pad, if it\u0027s very high up and the system doesn\u0027t compensate you get smoke turning 90 degrees above the pad, and the second problem is how far from the center the nozzle is, if it\u0027s past the grate the smoke wouldn\u0027t enter it etc.\u003C/p\u003E\u003Cp\u003EJust thinking out loud here.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-03-13T04:38:35Z","Content":"\n\u003Cp\u003EPersonally I would not like to resort to what are effectively hacks, because some people on the edge of performance might not be able to use it - causing all sorts of other problems in the process. We have a wonderful way of doing it properly and it would be a waste not to use it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAt the risk of sounding harsh, adding visual enhancements might not be the best choice if your system is already struggling.\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-03-13T04:40:29Z","Content":"\n\u003Cp\u003EI got a high-end gaming PC, it\u0027s not my system at fault here, it\u0027s CPU only single-threaded Physx.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-03-13T05:14:30Z","Content":"\n\u003Cp\u003E(Crossposted from HotRockets thread)\u003C/p\u003E\u003Cp\u003ESo, I\u0027m finally back(ish) and actually looking through stuff now.\u003C/p\u003E\u003Cp\u003EI have a request for Nazari, Nothke, and anyone else writing ModuleEnginesFX conversions: \u003Cstrong\u003Eplease, please,\u003C/strong\u003E instead of nuking the old ModuleEngines node and rewriting it, use this form. We\u0027ll take the Skipper as the example.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[engineLargeSkipper]:Final //Rockomax \u0022Skipper\u0022\u003Cbr\u003E{\u003Cbr\u003E    !fx_exhaustFlame_blue\u003Cbr\u003E    !fx_exhaustLight_blue\u003Cbr\u003E    !fx_smokeTrail_light\u003Cbr\u003E    !fx_exhaustSparks_flameout\u003Cbr\u003E    !sound_vent_medium\u003Cbr\u003E    !sound_rocket_hard\u003Cbr\u003E    !sound_vent_soft\u003Cbr\u003E    !sound_explosion_low\u003Cbr\u003E\u003Cbr\u003E    // snip EFFECTS node\u003Cbr\u003E\u003Cbr\u003E    // DO NOT DO THIS - !MODULE[ModuleEngines]{}\u003Cbr\u003E\u003Cbr\u003E    @MODULE[ModuleEngines] // do THIS instead\u003Cbr\u003E    {\u003Cbr\u003E        @name = ModuleEnginesFX // and this\u003Cbr\u003E        runningEffectName = powersmoke\u003Cbr\u003E        directThrottleEffectName = powerflame\u003Cbr\u003E        !fxOffset // you should include this, if you want to be sure it doesn\u0027t exist.\u003Cbr\u003E\u003Cbr\u003E        // you don\u0027t need the rest, since you\u0027re modifying the original node, not replacing it\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis will make it compatible with DRE, and with other things that change the engine\u0027s stats.\u003C/p\u003E\u003Cp\u003ELet me explain. Since ModuleEngines and ModuleEnginesFX take almost the same parameters, instead of replacing the whole module, you just change the name line to refer to the new module, and add the lines that the old module lacks (and do a remove for fxOffset, in case it exists and you want to clear it out). Further, this will occur on the :Final pass, which means it will occur *after* all other changes are made (like DRE\u0027s change to heatProduction).\u003C/p\u003E\n"},{"CreatedByName":"eggrobin","CreatedById":4680,"CreatedDateTime":"2014-03-13T08:17:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022K3|Chris\u0022 data-cite=\u0022K3|Chris\u0022\u003E\u003Cdiv\u003EThe images in this thread look sweet, but I\u0027m a bit concerned about my already glacial fps, I guess if you can dispatch with most of the physics it should be ok, could \u0022cheat\u0022 and make the smoke move a certain way during launch, since we know the shape of the pad, making the smoke go down the grate and then to the side doesn\u0027t need physics, just a pre-defined movement path, only real problem with that solution is the variable of how high the nozzle is from the pad, if it\u0027s very high up and the system doesn\u0027t compensate you get smoke turning 90 degrees above the pad, and the second problem is how far from the center the nozzle is, if it\u0027s past the grate the smoke wouldn\u0027t enter it etc.\u003Cp\u003EJust thinking out loud here.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENote that the costly thing here is collision: buoyancy etc. should not slow things down significantly. Trying to hack collision-like behaviour for the pad would be complicated, would probably lead to a lot of troublesome edge cases, and would only look good when launching (smoke would still disappear into the ground during powered landings, etc.).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022K3|Chris\u0022 data-cite=\u0022K3|Chris\u0022\u003E\u003Cdiv\u003EI got a high-end gaming PC, it\u0027s not my system at fault here, it\u0027s CPU only single-threaded Physx.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESadly we can\u0027t easily run collision detection on another thread (that would require writing our own raycast). Perhaps we could run the raycast every x frames though (and apply buoyancy etc. every x frames, otherwise things will behave weirdly). We could even make x a setting.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-13T08:54:51Z\u0022 title=\u002203/13/2014 08:54  AM\u0022 data-short=\u002210 yr\u0022\u003EMarch 13, 2014\u003C/time\u003E by eggrobin\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Korn Sarum","CreatedById":25037,"CreatedDateTime":"2014-03-13T19:16:32Z","Content":"\n\u003Cp\u003EHas anybody been able to figure out how to add these effects to KSP Interstellar? Adding the according to the instructions seems to break the engines.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-03-13T19:48:37Z","Content":"\n\u003Cp\u003EFYI : my server is dead and I am working on bringing it back in the next 24H \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"eggrobin","CreatedById":4680,"CreatedDateTime":"2014-03-14T18:29:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nothke\u0022 data-cite=\u0022nothke\u0022\u003E\u003Cdiv\u003EParticle birth is bound to fps, (or something like that, performance related), which is why they combine into a single point if you put more than they generate. So for example lets say they generate 60 times a second, and you put emission to 120, then, 2 particles will generate at the same place. If you are running really fast, this is quite obvious. Increasing generation with mach won\u0027t help as you will just be generating more particles at the same point.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have just pushed a commit that fixes this issue to my pull request.\u003C/p\u003E\u003Cp\u003EThe issue is fixed by distributing the newly emitted particles uniformly at random along the emitter\u0027s trajectory during the frame. Bear in mind that you still have to make the emission high enough, otherwise there just aren\u0027t enough particles to make a continuous plume.\u003C/p\u003E\u003Cp\u003EI would recommend against using this bug for shock diamonds, as their appearance would then depend on the performance of the machine displaying them.\u003C/p\u003E\u003Cp\u003EOther features introduced include better collision, buoyancy and logarithmic growth (which I would strongly recommend instead of exponential growth, as it looks more natural and removes the need for clamping). Avoid using damping with physical=true, it looks awkward. Set the dragCoefficient instead. The new options are as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    // Initial density of the particle seen as sphere of radius size of perfect \u003Cbr\u003E    // gas. We then assume (only true for ideally expanded exhaust) that the \u003Cbr\u003E    // expansion is isobaric (by mixing with the atmosphere) in order to compute\u003Cbr\u003E    // the density afterwards. Units (SI): kg / m^3.\u003Cbr\u003E    [Persistent]\u003Cbr\u003E    public double initialDensity = .6;\u003Cbr\u003E\u003Cbr\u003E    // Whether to apply Archimedes\u0027 force, gravity and other things to the particle.\u003Cbr\u003E    [Persistent]\u003Cbr\u003E    public bool physical = false;\u003Cbr\u003E\u003Cbr\u003E    // How much the particles stick to objects they collide with.\u003Cbr\u003E    [Persistent]\u003Cbr\u003E    public double stickiness = 0.9;\u003Cbr\u003E\u003Cbr\u003E    [Persistent]\u003Cbr\u003E    public double dragCoefficient = 0.1;\u003Cbr\u003E\u003Cbr\u003E    // Logarithmic growth applied to to the particle.\u003Cbr\u003E    // The size at time t after emission will be approximately\u003Cbr\u003E    // (Log(logarithmicGrowth * t \u002B 1) \u002B 1) * initialSize, assuming growth = 0.\u003Cbr\u003E    // TODO(sarbian): make this a cfg-configurable curve (as a function of density).\u003Cbr\u003E    [Persistent]\u003Cbr\u003E    public double logarithmicGrowth = 0.0;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHere are a few illustrative screenshots a before/after for dotted smoke, and two launch pictures. I didn\u0027t do anything fancy in Unity (just an emitter with one of the HotRockets! SRB textures) so the particles themselves are ugly.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/HyKTX\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-14T22:57:06Z\u0022 title=\u002203/14/2014 10:57  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 14, 2014\u003C/time\u003E by eggrobin\u003C/strong\u003E\n\u003C/span\u003E\n"}]}