{"TopicId":108797,"ForumId":34,"TopicTitle":"Contract Filter 1.5.2(1.1.2) Manage the contracts you receive to your liking!","CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-11T18:23:11Z","PageNum":4,"Articles":[{"CreatedByName":"SpadeDrive","CreatedById":144808,"CreatedDateTime":"2015-05-26T05:14:00Z","Content":"I\u0027m having an issue where Contract Filter is declining contracts that it shouldn\u0027t be.\n\n![B942C6AFA2556625155098F608E6AFCA3021C7E7](http://images.akamai.steamusercontent.com/ugc/31868783923082923/B942C6AFA2556625155098F608E6AFCA3021C7E7/)\n\nI have it set to decline only surveys, tourism, and recovery but it\u0027s also declining satellites, stations, and bases. I\u0027ve upped the max values to be well over what the contracts specify but no dice. I\u0027ve not touched any of the other parameters, either."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-26T07:07:25Z","Content":"@SpadeDrive, it\u0027d be giving a reason as to why it\u0027s declining it. But yours isn\u0027t. I suggest you upgrade to the latest version.\n\nEdit: I see that it is saying why it\u0027s being removed. The code doesn\u0027t lie. You probably didn\u0027t save the settings you set. I suggest doing so, then trying again.\n\nI would also love to see your settings.cfg and output.log file please\n\n**Edited \u003Ctime datetime=\u00222015-05-26T07:21:41Z\u0022 title=\u002205/26/2015 07:21  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 26, 2015\u003C/time\u003E by silverfox8124**"},{"CreatedByName":"blu3wolf","CreatedById":107912,"CreatedDateTime":"2015-05-26T08:41:39Z","Content":"Im having a similar issue on 1.3 - Ive only set it to decline part test contracts, and a whole heap of others get declined too.\n\nIll see about uploading those files for you."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-26T09:38:32Z","Content":"@Everyone, I\u0027m thinking it has to do with float magics. If the reasons are all because of maxfunds and maxes being triggered, then I\u0027ll switch to doubles and put out a release."},{"CreatedByName":"SpadeDrive","CreatedById":144808,"CreatedDateTime":"2015-05-26T14:07:07Z","Content":"I\u0027m on the latest version and yes, I am saving my settings every time I change something.\n\nHere\u0027s the settings.cfg: [http://pastebin.com/x40qUSLd](http://pastebin.com/x40qUSLd)\n\nI don\u0027t see the output log anywhere, where is it located?"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-26T18:17:17Z","Content":"@SpadeDrive, \n\n\\*Station Contracts\\* \n\nline 252: Max Funds Advance is 1 mill, \n\nline 254: Max Funds Completion is 100,000\n\nline 256: Max Funds Failure is 100,000\n\nSo on and so forth... These numbers are why the contracts are being denied.\n\nYour settings didn\u0027t save, just saying. If this happens again, edit the settings.cfg file directly.\n\nAlso, the output log is under KSP Data\n\n**Edited \u003Ctime datetime=\u00222015-05-26T18:21:26Z\u0022 title=\u002205/26/2015 06:21  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 26, 2015\u003C/time\u003E by silverfox8124**"},{"CreatedByName":"SpadeDrive","CreatedById":144808,"CreatedDateTime":"2015-05-26T22:26:56Z","Content":"Yup, that did it. Only some of my settings were saving when I edited them in game."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-26T22:37:30Z","Content":"@SpadeDrive, make sure to click the Save button, and always Load to check that things saved right!"},{"CreatedByName":"Thorbane","CreatedById":76234,"CreatedDateTime":"2015-05-28T01:46:05Z","Content":"Can this be used to auto reject those contracts that send you on orbit/rescue missions out by Eeloo, when you have just barely gotten out of the Kerbin system?\n\nAlso the Min/Max Funds/Science/Reputation values are not saving.\n\nI\u0027m seeing \u0022[Exception]: InvalidOperationException: Collection was modified; enumeration operation may not execute.\u0022 in my log whenever I remove a blacklist parameter.\n\n**Edited \u003Ctime datetime=\u00222015-05-28T02:06:32Z\u0022 title=\u002205/28/2015 02:06  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 28, 2015\u003C/time\u003E by Thorbane**"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-28T09:08:12Z","Content":"@Thorbane, I\u0027ll look into the values not saving. And yes it can auto-reject those missions. Yes, that exception is normal because you\u0027re removing something from a list whilst iterating over it, it\u0027s just bad coding practice that I haven\u0027t gotten around to fixing. It still gets removed though."},{"CreatedByName":"Eleven","CreatedById":60502,"CreatedDateTime":"2015-05-30T21:49:01Z","Content":"I wonder if there is a way to override the game only giving you a certain number of contract types? \n\nFor example, I filtered out a few types I don\u0027t want, Tourists, PartTests, Satellites, and Surveys. Then I blacklisted all the Bodies I don\u0027t want. (I also had to go in and up the amounts for advances and completions). So after all that, I get the contract types I want, but only about half of the contract list. The other half just sorts non-stop and never lands on a contract. I guess that is the game just not wanting to give me any more of the type I want? \n\nIs there some way to get around that? I\u0027d love to fill my contract list up with my preferred types but the game won\u0027t give them to me ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-05-30T22:42:52Z","Content":"@Eleven, No, the game gives you contracts that fit what you\u0027ve done. You can also only have x amount of a certain type of contract offered and active. It sorts non-stop because of the above, ksp gives you contracts you can receive at your level of reputation and accomplishments. I\u0027ve been trying to find out how to change this, but it\u0027s getting complicated and seeming quite impossible to do."},{"CreatedByName":"Eleven","CreatedById":60502,"CreatedDateTime":"2015-05-30T22:59:31Z","Content":"\u003E \n\u003E @Eleven, No, the game gives you contracts that fit what you\u0027ve done. You can also only have x amount of a certain type of contract offered and active. It sorts non-stop because of the above, ksp gives you contracts you can receive at your level of reputation and accomplishments. I\u0027ve been trying to find out how to change this, but it\u0027s getting complicated and seeming quite impossible to do.\n\nYea I figured this was a game mechanic that wasn\u0027t going to be gotten-around easily. At least with Jool having so many moons, it\u0027s easy to fill up your contract list with contracts for just that system, but like I said, trying to fill it up with just Dres and Eeloo contracts isn\u0027t happening ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Moesly_Armlis","CreatedById":112247,"CreatedDateTime":"2015-06-02T01:25:29Z","Content":"Great work on the mod. I tried it out and it works just as described.\n\nHope to see this function further integrated with career mode and maybe these ideas could help:\n\nThis tool is exactly what the contract acquisition team needed. The mission commander has much more important work than browsing tenders. With just a little intervention from the mission commander the contracts the team provide are spot on to the requirements.\n\nThe space agency will need to pay for the additional employees. Maybe an upgrade option cost in mission control. Each Employee filters a specific contract type."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-06-03T18:20:22Z","Content":"@MoeslyArmlis, sounds interesting, I may look into that"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-06-03T19:37:57Z","Content":"\u003E \n\u003E @Eleven, No, the game gives you contracts that fit what you\u0027ve done. You can also only have x amount of a certain type of contract offered and active. It sorts non-stop because of the above, ksp gives you contracts you can receive at your level of reputation and accomplishments. I\u0027ve been trying to find out how to change this, but it\u0027s getting complicated and seeming quite impossible to do.\n\nThe config file in GameData/Squad/Contracts allows you to specify the amount of contracts that can be offered and/or active for each contract type, I\u0027m not sure if all of the stock contract types are there, but at least the FinePrint contracts are. There is also a field near the top, AverageAvailableContracts, that lets you specify the total number of contracts the system will allow you to have.\n\nSeveral contract addons also allow for customizing the number of contracts of each type available, and Contract Configurator has more complicated ways of handling it, too."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-06-03T22:41:58Z","Content":"@DMagic, I was trying to do so via code, but it seems that I\u0027d have to rewrite the entire file foreach change, and that\u0027d just be a hassle tbh.."},{"CreatedByName":"Glyph","CreatedById":107405,"CreatedDateTime":"2015-06-11T18:10:59Z","Content":"Edit All appears to do nothing?\n\n- - - Updated - - -\n\nAlso, it is rejecting contracts willy-nilly.\n\n[http://i.imgur.com/HOBGDCR.png](http://i.imgur.com/HOBGDCR.png)\n\nI have nothing set, that I\u0027m aware of, that should be removing these missions for funds reasons. I even went through all the rejection things and set the max allowable funds to be 100000000, and min 0, for every single one."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-06-11T22:30:29Z","Content":"Glyph, I\u0027m going to need your settings.cfg file please. Also, are you making sure to double-save your stuff? There are settings saves and type saves. Type saves write things to places to be saved, settings saves put those type saves into settings file."},{"CreatedByName":"Glyph","CreatedById":107405,"CreatedDateTime":"2015-06-12T21:12:52Z","Content":"I click the \u0022save\u0022 button? I\u0027m not sure if I\u0027m doing it correctly.\n\nUnfortunately CKAN deleted my config when I removed the addon ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif). I may try again, I\u0027ll be sure to post whole logs and config if I do."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-06-12T21:47:59Z","Content":"@Glyph, Nevermind my double save button theory XD I\u0027m still used to the old version where the close button didnt save things. The close button saved the preferences, and the save button saves the types. You should also do a save-load and check log for errors, if there is, then you know something went wrong in the process.\n\nLogs and settings files are quite handy in these situations, so yes, next time you have a problem, post the files and I\u0027ll take a look."},{"CreatedByName":"maculator","CreatedById":122127,"CreatedDateTime":"2015-06-17T09:00:12Z","Content":"Hey i wanted to give this a try, but it wont download from ckan.\n\nSo if i go to Kerbalstuff and download it manually, it works but for the ckan link i get a 404.\n\n[https://kerbalstuff.com/mod/789/ContractFilter](https://kerbalstuff.com/mod/789/ContractFilter) **Works**\n\n[https://kerbalstuff.com/mod/778/Contract](https://kerbalstuff.com/mod/778/Contract) Controller/download/1.0 **leads to:**\n\n[h=3]\u0022404 Not Found[/h] Looks like this was deleted, or maybe was never here. Who knows.\u0022\n\n**Edited \u003Ctime datetime=\u00222015-06-17T09:05:45Z\u0022 title=\u002206/17/2015 09:05  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 17, 2015\u003C/time\u003E by maculator**\n  \ninvestigated"},{"CreatedByName":"Badsector","CreatedById":118465,"CreatedDateTime":"2015-06-17T20:59:45Z","Content":"\u003E \n\u003E @DMagic, I was trying to do so via code, but it seems that I\u0027d have to rewrite the entire file foreach change, and that\u0027d just be a hassle tbh..\n\nIs not possible do that via MM\\_patch ?"},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-06-19T00:40:02Z","Content":"@maculator, Contract Controller is only on CKAN because CKAN guys won\u0027t take it down. So I put up the newer version, which is Contract Filter.\n\n@Badsector, No, MM patches are usually cfg files, which I\u0027d have to write to, and would further elongate the process."},{"CreatedByName":"silverfox8124","CreatedById":125032,"CreatedDateTime":"2015-06-28T16:25:17Z","Content":"Dev update! Updated to work with ksp 1.0.4!"}]}