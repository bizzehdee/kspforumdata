{"TopicId":128176,"ForumId":16,"TopicTitle":"I\u0026#039;ve suddenly gone all wobbly","CreatedByName":"Clear Air Turbulence","CreatedById":149987,"CreatedDateTime":"2015-12-19T08:37:43Z","PageNum":1,"Articles":[{"CreatedByName":"Clear Air Turbulence","CreatedById":149987,"CreatedDateTime":"2015-12-19T08:37:43Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo here is my first Duna mission, all tooled up and ready to go: A miner-lander and a refinery\u00A0, connected with an ordinary docking port. \u00A0I flew the lander up from the Space Centre and docked off minmus, thus constituting a midsize ship that hopefully can fly to Duna and refuel there.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022vJvsImw.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/vJvsImw.png\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIn high Kerbin orbit, it handled well. \u00A0Responded when I want to orient the pointy end, and while there was some pogo type vibrations under acceleration, no major stability issues.\n\u003C/p\u003E\n\u003Cp\u003E\n200 days or so later, in midst of the hohmann transfer to Duna, I want to do some midcourse corrections. \u00A0And I can\u0027t turn the spacecraft at all without major wobbles and oscillations.\n\u003C/p\u003E\n\u003Cp\u003E\nI can see that the docking ports could be a cause of wobbliness, but why now?\n\u003C/p\u003E\n\u003Cp\u003E\nWhy was the craft initially maneuvreable, but not now?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhy did did I lose my rigidity?\n\u003C/p\u003E\n\u003Cp\u003E\nAnd what can a man do to get his stiffness back?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-19T08:45:23Z\u0022 title=\u002212/19/2015 08:45  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 19, 2015\u003C/time\u003E by Clear Air Turbulence\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Plusck","CreatedById":153264,"CreatedDateTime":"2015-12-19T14:21:39Z","Content":"\n\u003Cp\u003E\nMaybe you changed which bit you\u0027re controlling from? I have also had the impression that an over-exerted docking port can get all floppy, though I do wonder whether that is all in my head.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I have to turn large ships with heavy bits at the ends and docking ports in the middle, I turn off SAS, turn, then warp as soon as it is pointing the right way. It isn\u0027t a cure for rigidity, but at least you don\u0027t have a hidden hand trying to twist your thing in different directions all at once.\n\u003C/p\u003E\n"},{"CreatedByName":"Tex_NL","CreatedById":58254,"CreatedDateTime":"2015-12-19T15:38:31Z","Content":"\n\u003Cp\u003E\nSadly I\u0027m having similar issues with a LKO station. Until a few days ago I never had any stability issues It was rock solid and did not wobble at all. Even with multiple reaction wheels running at the same time. Both the stock SAS and MechJeb were able to keep it stable and level.\u003Cbr\u003E\nNow, even with all reaction wheels turned off, MechJeb and stock SAS turned off after about a minute it starts to do the Krakendance, trying to shake itself to pieces. If it wasn\u0027t for KJR I would have lost that station multiple times already.\n\u003C/p\u003E\n"},{"CreatedByName":"Geschosskopf","CreatedById":69507,"CreatedDateTime":"2015-12-19T17:42:43Z","Content":"\n\u003Cp\u003E\nAre there, by chance, any clipped parts?\u00A0This includes animated things that might hit other parts when extended.\u00A0 For example, service bay doors that bump into other parts or pass through struts, or solar panels that, once extended, might rotate into other parts while tracking the sun?\u00A0 I\u0027ve had cases where such situations have caused Krakendances upon physics load when returning to the ship from doing other things.\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-12-19T18:21:00Z","Content":"\n\u003Cp\u003E\nAnother possibility:\n\u003C/p\u003E\n\u003Cp\u003E\nAny time you have a floppy stack (e.g. ships coupled by docking ports) where your thrust is on the back end:\u00A0 the higher your acceleration, the worse the flopping gets.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s a certain critical acceleration level, below which you\u0027re fine because oscillations tend to damp out, but above which they magnify themselves and it quickly goes all higgledy-piggledy.\n\u003C/p\u003E\n\u003Cp\u003E\nIt may simply be that your acceleration is higher now, because you\u0027ve burned off more fuel and therefore your engine is shoving less mass.\u00A0 Perhaps you just crossed that critical acceleration threshold.\n\u003C/p\u003E\n\u003Cp\u003E\nIf that\u0027s the problem, then it ought to get better if you reduce acceleration below the threshold again.\u00A0 Does the problem persist if you throttle back a bit?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso:\u00A0 in a situation like that, one way to make things less severe is to make the two connected ships have as lopsided a mass distribution as possible (i.e. have one of them be as light as possible, preferably the one whose CoM is the farthest from the docking port junction).\u00A0 If you have some fuel tanks with empty space in them, can you play games by pumping fuel around to redistribute the mass?\u00A0 Might help.\n\u003C/p\u003E\n"},{"CreatedByName":"Clear Air Turbulence","CreatedById":149987,"CreatedDateTime":"2015-12-20T15:54:52Z","Content":"\n\u003Cp\u003E\nThe flopping happens under zero acceleration.\n\u003C/p\u003E\n\u003Cp\u003E\nIn other words, I am floating in interplanetary space. \u00A0I can\u0027t change my orientation at all. \u00A0All I need to do is hit the WASD buttons\u00A0and the wiggling starts. SAS makes it worse.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWarp gets rid of it fora a while, then it comes back.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt did cross my mind yesterday that the problem could be that I have a different centre of gravity now that the big tank is emptier. \u00A0But pumping the fuel around did not solve the problem.\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-12-20T17:30:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222330029\u0022 data-ipsquote-contentid=\u0022128176\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221450626892\u0022 data-ipsquote-userid=\u0022149987\u0022 data-ipsquote-username=\u0022Clear Air Turbulence\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Clear Air Turbulence said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe flopping happens under zero acceleration.\n\u003C/p\u003E\n\u003Cp\u003E\nIn other words, I am floating in interplanetary space. \u00A0I can\u0027t change my orientation at all. \u00A0All I need to do is hit the WASD buttons\u00A0and the wiggling starts. SAS makes it worse.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWarp gets rid of it fora a while, then it comes back.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt did cross my mind yesterday that the problem could be that I have a different centre of gravity now that the big tank is emptier. \u00A0But pumping the fuel around did not solve the problem.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh.\u00A0 That\u0027s a different problem.\n\u003C/p\u003E\n\u003Cp\u003E\nSAS in KSP is a type of \u003Ca href=\u0022https://en.wikipedia.org/wiki/PID_controller\u0022 rel=\u0022external nofollow\u0022\u003EPID controller\u003C/a\u003E.\u00A0 Without going into a bunch of math, what it boils down to is this:\u00A0 It\u0027s trying to maintain your orientation by using a feedback loop between a position sensor (your control-from-here point, such as a command pod or probe core) and your reaction wheels.\u00A0 The problem happens when there\u0027s floppiness \u003Cem\u003E\u003Cu\u003Ebetween the control-from-here point and the reaction wheels.\u003C/u\u003E\u003C/em\u003E\u00A0 Imagine what it would be like trying to walk, if there were a quarter-second transmission delay between your brain and your legs-- you\u0027d trip all over yourself.\n\u003C/p\u003E\n\u003Cp\u003E\nTo fix this problem, you want your probe core (or command pod) to be as close as possible to the main sources of torque in your combined ship.\n\u003C/p\u003E\n\u003Cp\u003E\nEven then, it\u0027s still possible to have a runaway \u0022resonance\u0022 effect where things blow up because the natural oscillation frequency of your bendy ship is pretty close to the control frequency of SAS.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, what do you do?\n\u003C/p\u003E\n\u003Cp\u003E\nWell, to address the first problem (floppiness in between the control point and the reaction wheels):\u00A0 You\u0027ve got two connected ships.\u00A0 One of them is the control-from-here point.\u00A0 Try disabling all reaction wheels on the \u003Cem\u003E\u003Cu\u003Eother\u003C/u\u003E\u003C/em\u003E ship.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you\u0027ve got a resonance problem, the way to fix that is to alter the natural wobble frequency of your ship.\u00A0 The easiest way to do that, if you can, is to redistribute the mass (i.e. pump fuel from one ship to the other).\n\u003C/p\u003E\n"},{"CreatedByName":"Clear Air Turbulence","CreatedById":149987,"CreatedDateTime":"2015-12-20T17:40:10Z","Content":"\n\u003Cp\u003E\nAha. That sounds like a possibility. I think I have a reaction wheel on my refinery. I will try disabling it. Tho I still don\u0027t why the problem cropped up in mid flight only.\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-12-20T17:46:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222330135\u0022 data-ipsquote-contentid=\u0022128176\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221450633210\u0022 data-ipsquote-userid=\u0022149987\u0022 data-ipsquote-username=\u0022Clear Air Turbulence\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, Clear Air Turbulence said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAha. That sounds like a possibility. I think I have a reaction wheel on my refinery. I will try disabling it. Tho I still don\u0027t why the problem cropped up in mid flight only.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCould have something to do with your mass distribution, i.e. burning off fuel changed the dynamics of your ship so that you\u0027ve stumbled into a resonance situation.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, if you have a ship design that involves part clipping, I\u0027ve heard that that can sometimes cause some phantom forces, but I don\u0027t know much about that-- I never use part clipping myself, it feels too much like an exploit.\n\u003C/p\u003E\n"},{"CreatedByName":"Tex_NL","CreatedById":58254,"CreatedDateTime":"2015-12-21T20:10:28Z","Content":"\n\u003Cp\u003E\nMy station is stable again. \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003Cbr\u003E\nPretty sure it must indeed have been a clipping issue. Only thing I changed was opening a HG-55 High Gain Antenna that was located close next to an RCS tug. Now that I moved the tug to a different docking port the station stays stable even with the antenna closed again. Strange, but if that\u0027s what it takes I\u0027ll take it.\n\u003C/p\u003E\n"}]}