{"TopicId":38063,"ForumId":34,"TopicTitle":"PluginIO v2 - Disables the System.IO and System.XML namespace bans","CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-07-21T21:08:03Z","PageNum":1,"Articles":[{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-07-21T21:08:03Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EFor plugin developers only.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI have been informed that the impending 0.21 update for KSP will remove the ban on plugins for using Input and Output. (If this is incorrect, mods, please delete this thread and accept my apologies). To give developers a head start on writing new plugins to take advantage of this, I am now releasing this plugin that circumvents the current bans in KSP 0.20.\u003C/p\u003E\u003Cp\u003EVery simple install - just drag, drop and merge into GameData. Make sure to package this with any mods you release that require it. The license used is the MIT license (basically a disclaimer).\u003C/p\u003E\u003Cp\u003EYou do not need to do anything special with any mods you make. Just make sure that this mod is installed correctly and your plugin will load.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EPlugins that rely on this mod must be placed in GameData, not Plugins, in order to be found by this mod.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EDownload \u003C/strong\u003E\u003Ca href=\u0022https://goo.gl/bGvyAS\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ehere\u003C/strong\u003E\u003C/a\u003E\u003Cstrong\u003E.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThe source is available \u003C/strong\u003E\u003Ca href=\u0022https://goo.gl/nsMKI\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ehere\u003C/strong\u003E\u003C/a\u003E\u003Cstrong\u003E.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EHappy modding!\u003C/p\u003E\u003Cp\u003EV2 changelog - Added diagnostic output for plugin loader.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-23T13:17:41Z\u0022 title=\u002207/23/2013 01:17  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 23, 2013\u003C/time\u003E by ZRM\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Plornt","CreatedById":13263,"CreatedDateTime":"2013-07-23T12:46:33Z","Content":"\n\u003Cp\u003EHey, thanks for the plugin. \u003C/p\u003E\u003Cp\u003EIssue is I cant seem to get it to work. Do I just use System.IO normally? I don\u0027t need to reference your DLL in any way do I? \u003C/p\u003E\u003Cp\u003EWhat I am currently doing: \u003C/p\u003E\u003Cp\u003EMerging the folder with GameData. Creating my plugin completely seperate using System.IO and putting it in the normal plugin folders. \u003C/p\u003E\u003Cp\u003EIs there anything else I need to do with it? It simply doesnt load my plugin with the same error you normally get with the System.IO ban.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-07-23T12:53:26Z","Content":"\n\u003Cp\u003EHmm... I had tested this on multiple machines.\u003C/p\u003E\u003Cp\u003EAre you sure that your plugin is not loading? Ignore the security messages that KSP puts in the log saying that the plugin will not be loaded - PluginIO loads assemblies manually after that process completes. Search the log for \u0022PluginIO\u0022 to see the messages my plugin produces. It should say something like\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EPluginIO: \u0022path/to/plugin.dll\u0022 loaded\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf it failed to load it it should say\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EPluginIO: \u0022path/to/plugin.dll\u0022 could not be loaded\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAfter loading plugins it should say something like\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EPluginIO: All x compatible plugins using IO loaded.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhere x is the number of plugins that would normally be banned.\u003C/p\u003E\u003Cp\u003EBTW: What platform are you on?\u003C/p\u003E\n"},{"CreatedByName":"The-Bean","CreatedById":17935,"CreatedDateTime":"2013-07-23T12:57:52Z","Content":"\n\u003Cp\u003EFor those of us who have no idea what this means (me), do you mind giving a quick explanation of what this does for modding?\u003C/p\u003E\u003Cp\u003ECheers!\u003C/p\u003E\n"},{"CreatedByName":"Plornt","CreatedById":13263,"CreatedDateTime":"2013-07-23T12:58:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EPluginIO: All 0 compatible libraries using IO loaded.\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWindows 8.1 Pro Preview\u003C/p\u003E\u003Cp\u003EIs what I get, Full log here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://hastebin.com/dejonegaxi.tex\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hastebin.com/dejonegaxi.tex\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EDXDiag (for any other info you may need): \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://hastebin.com/hajeroyofu.tex\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hastebin.com/hajeroyofu.tex\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003E@ The-Bean Basically for \u0022security reasons\u0022 Squad disabled the use of some \u0022system code\u0022 inside of addons. So they couldnt create/delete files outside of the directory. Unfortunately the blanket ban they use did more harm than it did good because it disallowed developers from using functions inside their code which makes life tons easier. In .21 they are removing the ban and this basically circumvents the ban so plugin developers can make their plugin in .20 without having to wait for .21 for the ban to be lifted.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-23T13:01:24Z\u0022 title=\u002207/23/2013 01:01  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 23, 2013\u003C/time\u003E by Plornt\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-07-23T13:04:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The-Bean\u0022 data-cite=\u0022The-Bean\u0022\u003E\u003Cdiv\u003EFor those of us who have no idea what this means (me), do you mind giving a quick explanation of what this does for modding?\u003Cp\u003ECheers!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEdit: Argh, ninja\u0027d!\u003C/p\u003E\u003Cp\u003EFrom version 0.15 to version 0.20 of KSP, there is a \u0022security\u0022 feature that stops plugins that use IO (file access, network communications, inter-process comms, etc.) from loading so that they cannot do malicious things. In fact this \u0022feature\u0022 does not prevent malicious plugins at all, so it is useless in that regard, and it makes many things harder for legitimate plugins, as it also removes several key features that developers rely on. Hence the ban is being removed in version 0.21. My plugin removes the ban now so you can work on plugins that use IO.\u003C/p\u003E\u003Cp\u003EPlornt - Your plugin needs to be in GameData to work. I should have mentioned this. It\u0027s not meant to be backwards compatible with old mods using \u0022/Plugins\u0022, as no such IO mods exist.\u003C/p\u003E\n"},{"CreatedByName":"Plornt","CreatedById":13263,"CreatedDateTime":"2013-07-23T13:08:55Z","Content":"\n\u003Cp\u003EHmm now its giving me:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EPluginIO: \u0022C:\\Program Files (x86)\\Steam\\steamapps\\common\\Kerbal Space Program\\GameData\\KSPMulti.dll\u0022 could not be loaded\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot sure why though. Hmm lemme check something... 1 sec\u003C/p\u003E\u003Cp\u003EAh forgot to move my other DLL over. Now I am having an issue of the debug console being blank \u003Ca href=\u0022http://i.imgur.com/W8xetmS.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/W8xetmS.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIs that normal?\u003C/p\u003E\u003Cp\u003EEDIT: Do not worry! My fault. Accidentally started KSP twice.\u003C/p\u003E\u003Cp\u003EAwesome, thanks for the great plugin \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-23T13:14:54Z\u0022 title=\u002207/23/2013 01:14  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 23, 2013\u003C/time\u003E by Plornt\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-07-23T13:21:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Plornt\u0022 data-cite=\u0022Plornt\u0022\u003E\u003Cdiv\u003EHmm now its giving me:\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EPluginIO: \u0022C:\\Program Files (x86)\\Steam\\steamapps\\common\\Kerbal Space Program\\GameData\\KSPMulti.dll\u0022 could not be loaded\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot sure why though. Hmm lemme check something... 1 sec\u003C/p\u003E\u003Cp\u003EAh forgot to move my other DLL over. Now I am having an issue of the debug console being blank \u003Ca href=\u0022http://i.imgur.com/W8xetmS.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/W8xetmS.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIs that normal?\u003C/p\u003E\u003Cp\u003EEDIT: Do not worry! My fault. Accidentally started KSP twice.\u003C/p\u003E\u003Cp\u003EAwesome, thanks for the great plugin \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have now updated the plugin so that any \u0022could not be loaded\u0022 errors now also display the exception that caused the error, so you don\u0027t have to guess about why your plugin is not loading.\u003C/p\u003E\n"}]}